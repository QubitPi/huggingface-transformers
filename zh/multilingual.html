<meta charset="utf-8" /><meta name="hf:doc:metadata" content="{&quot;title&quot;:&quot;ç”¨äºæ¨ç†çš„å¤šè¯­è¨€æ¨¡å‹&quot;,&quot;local&quot;:&quot;ç”¨äºæ¨ç†çš„å¤šè¯­è¨€æ¨¡å‹&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;XLM&quot;,&quot;local&quot;:&quot;xlm&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;å¸¦æœ‰è¯­è¨€åµŒå…¥çš„ XLM&quot;,&quot;local&quot;:&quot;å¸¦æœ‰è¯­è¨€åµŒå…¥çš„-xlm&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;ä¸å¸¦è¯­è¨€åµŒå…¥çš„ XLM&quot;,&quot;local&quot;:&quot;ä¸å¸¦è¯­è¨€åµŒå…¥çš„-xlm&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3}],&quot;depth&quot;:2},{&quot;title&quot;:&quot;BERT&quot;,&quot;local&quot;:&quot;bert&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;XLM-RoBERTa&quot;,&quot;local&quot;:&quot;xlm-roberta&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;M2M100&quot;,&quot;local&quot;:&quot;m2m100&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;MBart&quot;,&quot;local&quot;:&quot;mbart&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2}],&quot;depth&quot;:1}">
		<link href="/docs/transformers/main/zh/_app/immutable/assets/0.e3b0c442.css" rel="modulepreload">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/entry/start.a5f05f32.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/scheduler.9991993c.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/singletons.63294c16.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/index.02cfeb18.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/paths.d1af7c8b.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/entry/app.841e34bb.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/index.7fc9a5e7.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/nodes/0.0cdcb181.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/each.e59479a4.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/nodes/43.0effecc0.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/CodeBlock.e11cba92.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/DocNotebookDropdown.a0cb4c0f.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/globals.7f7f1b26.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/Heading.e3de321f.js"><!-- HEAD_svelte-u9bgzb_START --><meta name="hf:doc:metadata" content="{&quot;title&quot;:&quot;ç”¨äºæ¨ç†çš„å¤šè¯­è¨€æ¨¡å‹&quot;,&quot;local&quot;:&quot;ç”¨äºæ¨ç†çš„å¤šè¯­è¨€æ¨¡å‹&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;XLM&quot;,&quot;local&quot;:&quot;xlm&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;å¸¦æœ‰è¯­è¨€åµŒå…¥çš„ XLM&quot;,&quot;local&quot;:&quot;å¸¦æœ‰è¯­è¨€åµŒå…¥çš„-xlm&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;ä¸å¸¦è¯­è¨€åµŒå…¥çš„ XLM&quot;,&quot;local&quot;:&quot;ä¸å¸¦è¯­è¨€åµŒå…¥çš„-xlm&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3}],&quot;depth&quot;:2},{&quot;title&quot;:&quot;BERT&quot;,&quot;local&quot;:&quot;bert&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;XLM-RoBERTa&quot;,&quot;local&quot;:&quot;xlm-roberta&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;M2M100&quot;,&quot;local&quot;:&quot;m2m100&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;MBart&quot;,&quot;local&quot;:&quot;mbart&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2}],&quot;depth&quot;:1}"><!-- HEAD_svelte-u9bgzb_END -->      <p></p>   <h1 class="relative group"><a id="ç”¨äºæ¨ç†çš„å¤šè¯­è¨€æ¨¡å‹" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#ç”¨äºæ¨ç†çš„å¤šè¯­è¨€æ¨¡å‹"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ç”¨äºæ¨ç†çš„å¤šè¯­è¨€æ¨¡å‹</span></h1>  <div class="flex space-x-1 absolute z-10 right-0 top-0"> <div class="relative colab-dropdown "> <button class="  " type="button">  <img alt="Open In Colab" class="!m-0" src="https://colab.research.google.com/assets/colab-badge.svg"> </button>    </div> <div class="relative colab-dropdown "> <button class="  " type="button">  <img alt="Open In Studio Lab" class="!m-0" src="https://studiolab.sagemaker.aws/studiolab.svg"> </button>    </div></div> <p data-svelte-h="svelte-1xhgqc7">ğŸ¤— Transformers ä¸­æœ‰å¤šç§å¤šè¯­è¨€æ¨¡å‹ï¼Œå®ƒä»¬çš„æ¨ç†ç”¨æ³•ä¸å•è¯­è¨€æ¨¡å‹ä¸åŒã€‚ä½†æ˜¯ï¼Œå¹¶é<em>æ‰€æœ‰</em>çš„å¤šè¯­è¨€æ¨¡å‹ç”¨æ³•éƒ½ä¸åŒã€‚ä¸€äº›æ¨¡å‹ï¼Œä¾‹å¦‚ <a href="https://huggingface.co/google-bert/bert-base-multilingual-uncased" rel="nofollow">google-bert/bert-base-multilingual-uncased</a> å°±å¯ä»¥åƒå•è¯­è¨€æ¨¡å‹ä¸€æ ·ä½¿ç”¨ã€‚æœ¬æŒ‡å—å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ä½¿ç”¨ä¸åŒç”¨é€”çš„å¤šè¯­è¨€æ¨¡å‹è¿›è¡Œæ¨ç†ã€‚</p>  <h2 class="relative group"><a id="xlm" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#xlm"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>XLM</span></h2> <p data-svelte-h="svelte-1do04ou">XLM æœ‰åä¸ªä¸åŒçš„æ£€æŸ¥ç‚¹ï¼Œå…¶ä¸­åªæœ‰ä¸€ä¸ªæ˜¯å•è¯­è¨€çš„ã€‚å‰©ä¸‹çš„ä¹ä¸ªæ£€æŸ¥ç‚¹å¯ä»¥å½’ä¸ºä¸¤ç±»ï¼šä½¿ç”¨è¯­è¨€åµŒå…¥çš„æ£€æŸ¥ç‚¹å’Œä¸ä½¿ç”¨è¯­è¨€åµŒå…¥çš„æ£€æŸ¥ç‚¹ã€‚</p>  <h3 class="relative group"><a id="å¸¦æœ‰è¯­è¨€åµŒå…¥çš„-xlm" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#å¸¦æœ‰è¯­è¨€åµŒå…¥çš„-xlm"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>å¸¦æœ‰è¯­è¨€åµŒå…¥çš„ XLM</span></h3> <p data-svelte-h="svelte-ae6845">ä»¥ä¸‹ XLM æ¨¡å‹ä½¿ç”¨è¯­è¨€åµŒå…¥æ¥æŒ‡å®šæ¨ç†ä¸­ä½¿ç”¨çš„è¯­è¨€ï¼š</p> <ul data-svelte-h="svelte-p9591r"><li><code>FacebookAI/xlm-mlm-ende-1024</code> ï¼ˆæ©ç è¯­è¨€å»ºæ¨¡ï¼Œè‹±è¯­-å¾·è¯­ï¼‰</li> <li><code>FacebookAI/xlm-mlm-enfr-1024</code> ï¼ˆæ©ç è¯­è¨€å»ºæ¨¡ï¼Œè‹±è¯­-æ³•è¯­ï¼‰</li> <li><code>FacebookAI/xlm-mlm-enro-1024</code> ï¼ˆæ©ç è¯­è¨€å»ºæ¨¡ï¼Œè‹±è¯­-ç½—é©¬å°¼äºšè¯­ï¼‰</li> <li><code>FacebookAI/xlm-mlm-xnli15-1024</code> ï¼ˆæ©ç è¯­è¨€å»ºæ¨¡ï¼ŒXNLI æ•°æ®é›†è¯­è¨€ï¼‰</li> <li><code>FacebookAI/xlm-mlm-tlm-xnli15-1024</code> ï¼ˆæ©ç è¯­è¨€å»ºæ¨¡+ç¿»è¯‘ï¼ŒXNLI æ•°æ®é›†è¯­è¨€ï¼‰</li> <li><code>FacebookAI/xlm-clm-enfr-1024</code> ï¼ˆå› æœè¯­è¨€å»ºæ¨¡ï¼Œè‹±è¯­-æ³•è¯­ï¼‰</li> <li><code>FacebookAI/xlm-clm-ende-1024</code> ï¼ˆå› æœè¯­è¨€å»ºæ¨¡ï¼Œè‹±è¯­-å¾·è¯­ï¼‰</li></ul> <p data-svelte-h="svelte-1xxan1y">è¯­è¨€åµŒå…¥è¢«è¡¨ç¤ºä¸€ä¸ªå¼ é‡ï¼Œå…¶å½¢çŠ¶ä¸ä¼ é€’ç»™æ¨¡å‹çš„ <code>input_ids</code> ç›¸åŒã€‚è¿™äº›å¼ é‡ä¸­çš„å€¼å–å†³äºæ‰€ä½¿ç”¨çš„è¯­è¨€ï¼Œå¹¶ç”±åˆ†è¯å™¨çš„ <code>lang2id</code> å’Œ <code>id2lang</code>  å±æ€§è¯†åˆ«ã€‚</p> <p data-svelte-h="svelte-ugc5kb">åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼ŒåŠ è½½ <code>FacebookAI/xlm-clm-enfr-1024</code> æ£€æŸ¥ç‚¹ï¼ˆå› æœè¯­è¨€å»ºæ¨¡ï¼Œè‹±è¯­-æ³•è¯­ï¼‰ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> torch
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> XLMTokenizer, XLMWithLMHeadModel

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = XLMTokenizer.from_pretrained(<span class="hljs-string">&quot;FacebookAI/xlm-clm-enfr-1024&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = XLMWithLMHeadModel.from_pretrained(<span class="hljs-string">&quot;FacebookAI/xlm-clm-enfr-1024&quot;</span>)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1bg3kzi">åˆ†è¯å™¨çš„ <code>lang2id</code> å±æ€§æ˜¾ç¤ºäº†è¯¥æ¨¡å‹çš„è¯­è¨€åŠå…¶å¯¹åº”çš„idï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(tokenizer.lang2id)
{<span class="hljs-string">&#x27;en&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;fr&#x27;</span>: <span class="hljs-number">1</span>}<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-mgsk1x">æ¥ä¸‹æ¥ï¼Œåˆ›å»ºä¸€ä¸ªç¤ºä¾‹è¾“å…¥ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span>input_ids = torch.tensor([tokenizer.encode(<span class="hljs-string">&quot;Wikipedia was used to&quot;</span>)])  <span class="hljs-comment"># batch size ä¸º 1</span><!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1wd8oyh">å°†è¯­è¨€ id è®¾ç½®ä¸º <code>&quot;en&quot;</code> å¹¶ç”¨å…¶å®šä¹‰è¯­è¨€åµŒå…¥ã€‚è¯­è¨€åµŒå…¥æ˜¯ä¸€ä¸ªç”¨ <code>0</code> å¡«å……çš„å¼ é‡ï¼Œè¿™ä¸ªå¼ é‡åº”è¯¥ä¸ <code>input_ids</code> å¤§å°ç›¸åŒã€‚</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span>language_id = tokenizer.lang2id[<span class="hljs-string">&quot;en&quot;</span>]  <span class="hljs-comment"># 0</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>langs = torch.tensor([language_id] * input_ids.shape[<span class="hljs-number">1</span>])  <span class="hljs-comment"># torch.tensor([0, 0, 0, ..., 0])</span>

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># æˆ‘ä»¬å°†å…¶ reshape ä¸º (batch_size, sequence_length) å¤§å°</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>langs = langs.view(<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>)  <span class="hljs-comment"># ç°åœ¨çš„å½¢çŠ¶æ˜¯ [1, sequence_length] (æˆ‘ä»¬çš„ batch size ä¸º 1)</span><!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-wr7smr">ç°åœ¨ï¼Œä½ å¯ä»¥å°† <code>input_ids</code> å’Œè¯­è¨€åµŒå…¥ä¼ é€’ç»™æ¨¡å‹ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model(input_ids, langs=langs)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1y11as"><a href="https://github.com/huggingface/transformers/tree/main/examples/pytorch/text-generation/run_generation.py" rel="nofollow">run_generation.py</a> è„šæœ¬å¯ä»¥ä½¿ç”¨ <code>xlm-clm</code> æ£€æŸ¥ç‚¹ç”Ÿæˆå¸¦æœ‰è¯­è¨€åµŒå…¥çš„æ–‡æœ¬ã€‚</p>  <h3 class="relative group"><a id="ä¸å¸¦è¯­è¨€åµŒå…¥çš„-xlm" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#ä¸å¸¦è¯­è¨€åµŒå…¥çš„-xlm"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ä¸å¸¦è¯­è¨€åµŒå…¥çš„ XLM</span></h3> <p data-svelte-h="svelte-ug2kdl">ä»¥ä¸‹ XLM æ¨¡å‹åœ¨æ¨ç†æ—¶ä¸éœ€è¦è¯­è¨€åµŒå…¥ï¼š</p> <ul data-svelte-h="svelte-1thvgtu"><li><code>FacebookAI/xlm-mlm-17-1280</code> ï¼ˆæ©ç è¯­è¨€å»ºæ¨¡ï¼Œæ”¯æŒ 17 ç§è¯­è¨€ï¼‰</li> <li><code>FacebookAI/xlm-mlm-100-1280</code> ï¼ˆæ©ç è¯­è¨€å»ºæ¨¡ï¼Œæ”¯æŒ 100 ç§è¯­è¨€ï¼‰</li></ul> <p data-svelte-h="svelte-s35cwf">ä¸ä¹‹å‰çš„ XLM æ£€æŸ¥ç‚¹ä¸åŒï¼Œè¿™äº›æ¨¡å‹ç”¨äºé€šç”¨å¥å­è¡¨ç¤ºã€‚</p>  <h2 class="relative group"><a id="bert" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#bert"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>BERT</span></h2> <p data-svelte-h="svelte-10z54vn">ä»¥ä¸‹ BERT æ¨¡å‹å¯ç”¨äºå¤šè¯­è¨€ä»»åŠ¡ï¼š</p> <ul data-svelte-h="svelte-vuevit"><li><code>google-bert/bert-base-multilingual-uncased</code> ï¼ˆæ©ç è¯­è¨€å»ºæ¨¡ + ä¸‹ä¸€å¥é¢„æµ‹ï¼Œæ”¯æŒ 102 ç§è¯­è¨€ï¼‰</li> <li><code>google-bert/bert-base-multilingual-cased</code> ï¼ˆæ©ç è¯­è¨€å»ºæ¨¡ + ä¸‹ä¸€å¥é¢„æµ‹ï¼Œæ”¯æŒ 104 ç§è¯­è¨€ï¼‰</li></ul> <p data-svelte-h="svelte-mlr4c8">è¿™äº›æ¨¡å‹åœ¨æ¨ç†æ—¶ä¸éœ€è¦è¯­è¨€åµŒå…¥ã€‚å®ƒä»¬åº”è¯¥èƒ½å¤Ÿä»ä¸Šä¸‹æ–‡ä¸­è¯†åˆ«è¯­è¨€å¹¶è¿›è¡Œç›¸åº”çš„æ¨ç†ã€‚</p>  <h2 class="relative group"><a id="xlm-roberta" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#xlm-roberta"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>XLM-RoBERTa</span></h2> <p data-svelte-h="svelte-1e23zdv">ä»¥ä¸‹ XLM-RoBERTa æ¨¡å‹å¯ç”¨äºå¤šè¯­è¨€ä»»åŠ¡ï¼š</p> <ul data-svelte-h="svelte-18avzy"><li><code>FacebookAI/xlm-roberta-base</code> ï¼ˆæ©ç è¯­è¨€å»ºæ¨¡ï¼Œæ”¯æŒ 100 ç§è¯­è¨€ï¼‰</li> <li><code>FacebookAI/xlm-roberta-large</code> ï¼ˆæ©ç è¯­è¨€å»ºæ¨¡ï¼Œæ”¯æŒ 100 ç§è¯­è¨€ï¼‰</li></ul> <p data-svelte-h="svelte-gdaw37">XLM-RoBERTa ä½¿ç”¨ 100 ç§è¯­è¨€çš„ 2.5TB æ–°åˆ›å»ºå’Œæ¸…ç†çš„ CommonCrawl æ•°æ®è¿›è¡Œäº†è®­ç»ƒã€‚ä¸ä¹‹å‰å‘å¸ƒçš„ mBERT æˆ– XLM ç­‰å¤šè¯­è¨€æ¨¡å‹ç›¸æ¯”ï¼Œå®ƒåœ¨åˆ†ç±»ã€åºåˆ—æ ‡è®°å’Œé—®ç­”ç­‰ä¸‹æ¸¸ä»»åŠ¡ä¸Šæä¾›äº†æ›´å¼ºå¤§çš„ä¼˜åŠ¿ã€‚</p>  <h2 class="relative group"><a id="m2m100" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#m2m100"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>M2M100</span></h2> <p data-svelte-h="svelte-1eurwqt">ä»¥ä¸‹ M2M100 æ¨¡å‹å¯ç”¨äºå¤šè¯­è¨€ç¿»è¯‘ï¼š</p> <ul data-svelte-h="svelte-11pgdv5"><li><code>facebook/m2m100_418M</code> ï¼ˆç¿»è¯‘ï¼‰</li> <li><code>facebook/m2m100_1.2B</code> ï¼ˆç¿»è¯‘ï¼‰</li></ul> <p data-svelte-h="svelte-7kr2c3">åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼ŒåŠ è½½ <code>facebook/m2m100_418M</code> æ£€æŸ¥ç‚¹ä»¥å°†ä¸­æ–‡ç¿»è¯‘ä¸ºè‹±æ–‡ã€‚ä½ å¯ä»¥åœ¨åˆ†è¯å™¨ä¸­è®¾ç½®æºè¯­è¨€ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> M2M100ForConditionalGeneration, M2M100Tokenizer

<span class="hljs-meta">&gt;&gt;&gt; </span>en_text = <span class="hljs-string">&quot;Do not meddle in the affairs of wizards, for they are subtle and quick to anger.&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>chinese_text = <span class="hljs-string">&quot;ä¸è¦æ’æ‰‹å·«å¸«çš„äº‹å‹™, å› ç‚ºä»–å€‘æ˜¯å¾®å¦™çš„, å¾ˆå¿«å°±æœƒç™¼æ€’.&quot;</span>

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = M2M100Tokenizer.from_pretrained(<span class="hljs-string">&quot;facebook/m2m100_418M&quot;</span>, src_lang=<span class="hljs-string">&quot;zh&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = M2M100ForConditionalGeneration.from_pretrained(<span class="hljs-string">&quot;facebook/m2m100_418M&quot;</span>)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1azdq78">å¯¹æ–‡æœ¬è¿›è¡Œåˆ†è¯ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span>encoded_zh = tokenizer(chinese_text, return_tensors=<span class="hljs-string">&quot;pt&quot;</span>)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-7k4v2z">M2M100 å¼ºåˆ¶å°†ç›®æ ‡è¯­è¨€ id ä½œä¸ºç¬¬ä¸€ä¸ªç”Ÿæˆçš„æ ‡è®°ï¼Œä»¥è¿›è¡Œåˆ°ç›®æ ‡è¯­è¨€çš„ç¿»è¯‘ã€‚åœ¨ <code>generate</code> æ–¹æ³•ä¸­å°† <code>forced_bos_token_id</code> è®¾ç½®ä¸º <code>en</code> ä»¥ç¿»è¯‘æˆè‹±è¯­ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span>generated_tokens = model.generate(**encoded_zh, forced_bos_token_id=tokenizer.get_lang_id(<span class="hljs-string">&quot;en&quot;</span>))
<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer.batch_decode(generated_tokens, skip_special_tokens=<span class="hljs-literal">True</span>)
<span class="hljs-string">&#x27;Do not interfere with the matters of the witches, because they are delicate and will soon be angry.&#x27;</span><!-- HTML_TAG_END --></pre></div>  <h2 class="relative group"><a id="mbart" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#mbart"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>MBart</span></h2> <p data-svelte-h="svelte-1n3gxv8">ä»¥ä¸‹ MBart æ¨¡å‹å¯ç”¨äºå¤šè¯­è¨€ç¿»è¯‘ï¼š</p> <ul data-svelte-h="svelte-xrptst"><li><code>facebook/mbart-large-50-one-to-many-mmt</code> ï¼ˆä¸€å¯¹å¤šå¤šè¯­è¨€æœºå™¨ç¿»è¯‘ï¼Œæ”¯æŒ 50 ç§è¯­è¨€ï¼‰</li> <li><code>facebook/mbart-large-50-many-to-many-mmt</code> ï¼ˆå¤šå¯¹å¤šå¤šè¯­è¨€æœºå™¨ç¿»è¯‘ï¼Œæ”¯æŒ 50 ç§è¯­è¨€ï¼‰</li> <li><code>facebook/mbart-large-50-many-to-one-mmt</code> ï¼ˆå¤šå¯¹ä¸€å¤šè¯­è¨€æœºå™¨ç¿»è¯‘ï¼Œæ”¯æŒ 50 ç§è¯­è¨€ï¼‰</li> <li><code>facebook/mbart-large-50</code> ï¼ˆå¤šè¯­è¨€ç¿»è¯‘ï¼Œæ”¯æŒ 50 ç§è¯­è¨€ï¼‰</li> <li><code>facebook/mbart-large-cc25</code></li></ul> <p data-svelte-h="svelte-df2xsd">åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼ŒåŠ è½½  <code>facebook/mbart-large-50-many-to-many-mmt</code> æ£€æŸ¥ç‚¹ä»¥å°†èŠ¬å…°è¯­ç¿»è¯‘ä¸ºè‹±è¯­ã€‚ ä½ å¯ä»¥åœ¨åˆ†è¯å™¨ä¸­è®¾ç½®æºè¯­è¨€ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoTokenizer, AutoModelForSeq2SeqLM

<span class="hljs-meta">&gt;&gt;&gt; </span>en_text = <span class="hljs-string">&quot;Do not meddle in the affairs of wizards, for they are subtle and quick to anger.&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>fi_text = <span class="hljs-string">&quot;Ã„lÃ¤ sekaannu velhojen asioihin, sillÃ¤ ne ovat hienovaraisia ja nopeasti vihaisia.&quot;</span>

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;facebook/mbart-large-50-many-to-many-mmt&quot;</span>, src_lang=<span class="hljs-string">&quot;fi_FI&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = AutoModelForSeq2SeqLM.from_pretrained(<span class="hljs-string">&quot;facebook/mbart-large-50-many-to-many-mmt&quot;</span>)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1azdq78">å¯¹æ–‡æœ¬è¿›è¡Œåˆ†è¯ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span>encoded_en = tokenizer(en_text, return_tensors=<span class="hljs-string">&quot;pt&quot;</span>)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-z2e3e4">MBart å¼ºåˆ¶å°†ç›®æ ‡è¯­è¨€ id ä½œä¸ºç¬¬ä¸€ä¸ªç”Ÿæˆçš„æ ‡è®°ï¼Œä»¥è¿›è¡Œåˆ°ç›®æ ‡è¯­è¨€çš„ç¿»è¯‘ã€‚åœ¨ <code>generate</code> æ–¹æ³•ä¸­å°† <code>forced_bos_token_id</code> è®¾ç½®ä¸º <code>en</code> ä»¥ç¿»è¯‘æˆè‹±è¯­ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span>generated_tokens = model.generate(**encoded_en, forced_bos_token_id=tokenizer.lang_code_to_id[<span class="hljs-string">&quot;en_XX&quot;</span>])
<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer.batch_decode(generated_tokens, skip_special_tokens=<span class="hljs-literal">True</span>)
<span class="hljs-string">&quot;Don&#x27;t interfere with the wizard&#x27;s affairs, because they are subtle, will soon get angry.&quot;</span><!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-573keg">å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ <code>facebook/mbart-large-50-many-to-one-mmt</code> æ£€æŸ¥ç‚¹ï¼Œåˆ™æ— éœ€å¼ºåˆ¶ç›®æ ‡è¯­è¨€ id ä½œä¸ºç¬¬ä¸€ä¸ªç”Ÿæˆçš„ä»¤ç‰Œï¼Œå¦åˆ™ç”¨æ³•æ˜¯ç›¸åŒçš„ã€‚</p>  <p></p> 
			
			<script>
				{
					__sveltekit_1q37j87 = {
						assets: "/docs/transformers/main/zh",
						base: "/docs/transformers/main/zh",
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null];

					Promise.all([
						import("/docs/transformers/main/zh/_app/immutable/entry/start.a5f05f32.js"),
						import("/docs/transformers/main/zh/_app/immutable/entry/app.841e34bb.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 43],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		
