<meta charset="utf-8" /><meta name="hf:doc:metadata" content="{&quot;title&quot;:&quot;å…±äº«è‡ªå®šä¹‰æ¨¡å‹&quot;,&quot;local&quot;:&quot;å…±äº«è‡ªå®šä¹‰æ¨¡å‹&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;ç¼–å†™è‡ªå®šä¹‰é…ç½®&quot;,&quot;local&quot;:&quot;ç¼–å†™è‡ªå®šä¹‰é…ç½®&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;ç¼–å†™è‡ªå®šä¹‰æ¨¡å‹&quot;,&quot;local&quot;:&quot;ç¼–å†™è‡ªå®šä¹‰æ¨¡å‹&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;å°†ä»£ç å‘é€åˆ° Hub&quot;,&quot;local&quot;:&quot;å°†ä»£ç å‘é€åˆ°-hub&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;ä½¿ç”¨å¸¦æœ‰è‡ªå®šä¹‰ä»£ç çš„æ¨¡å‹&quot;,&quot;local&quot;:&quot;ä½¿ç”¨å¸¦æœ‰è‡ªå®šä¹‰ä»£ç çš„æ¨¡å‹&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;å°†è‡ªå®šä¹‰ä»£ç çš„æ¨¡å‹æ³¨å†Œåˆ°è‡ªåŠ¨ç±»&quot;,&quot;local&quot;:&quot;å°†è‡ªå®šä¹‰ä»£ç çš„æ¨¡å‹æ³¨å†Œåˆ°è‡ªåŠ¨ç±»&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2}],&quot;depth&quot;:1}">
		<link href="/docs/transformers/main/zh/_app/immutable/assets/0.e3b0c442.css" rel="modulepreload">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/entry/start.a5f05f32.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/scheduler.9991993c.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/singletons.63294c16.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/index.02cfeb18.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/paths.d1af7c8b.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/entry/app.841e34bb.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/index.7fc9a5e7.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/nodes/0.0cdcb181.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/each.e59479a4.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/nodes/7.635b16ca.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/Tip.9de92fc6.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/CodeBlock.e11cba92.js">
		<link rel="modulepreload" href="/docs/transformers/main/zh/_app/immutable/chunks/Heading.e3de321f.js"><!-- HEAD_svelte-u9bgzb_START --><meta name="hf:doc:metadata" content="{&quot;title&quot;:&quot;å…±äº«è‡ªå®šä¹‰æ¨¡å‹&quot;,&quot;local&quot;:&quot;å…±äº«è‡ªå®šä¹‰æ¨¡å‹&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;ç¼–å†™è‡ªå®šä¹‰é…ç½®&quot;,&quot;local&quot;:&quot;ç¼–å†™è‡ªå®šä¹‰é…ç½®&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;ç¼–å†™è‡ªå®šä¹‰æ¨¡å‹&quot;,&quot;local&quot;:&quot;ç¼–å†™è‡ªå®šä¹‰æ¨¡å‹&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;å°†ä»£ç å‘é€åˆ° Hub&quot;,&quot;local&quot;:&quot;å°†ä»£ç å‘é€åˆ°-hub&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;ä½¿ç”¨å¸¦æœ‰è‡ªå®šä¹‰ä»£ç çš„æ¨¡å‹&quot;,&quot;local&quot;:&quot;ä½¿ç”¨å¸¦æœ‰è‡ªå®šä¹‰ä»£ç çš„æ¨¡å‹&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;å°†è‡ªå®šä¹‰ä»£ç çš„æ¨¡å‹æ³¨å†Œåˆ°è‡ªåŠ¨ç±»&quot;,&quot;local&quot;:&quot;å°†è‡ªå®šä¹‰ä»£ç çš„æ¨¡å‹æ³¨å†Œåˆ°è‡ªåŠ¨ç±»&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2}],&quot;depth&quot;:1}"><!-- HEAD_svelte-u9bgzb_END -->      <p></p>   <h1 class="relative group"><a id="å…±äº«è‡ªå®šä¹‰æ¨¡å‹" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#å…±äº«è‡ªå®šä¹‰æ¨¡å‹"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>å…±äº«è‡ªå®šä¹‰æ¨¡å‹</span></h1> <p data-svelte-h="svelte-9nxend">ğŸ¤— Transformers åº“è®¾è®¡å¾—æ˜“äºæ‰©å±•ã€‚æ¯ä¸ªæ¨¡å‹çš„ä»£ç éƒ½åœ¨ä»“åº“ç»™å®šçš„å­æ–‡ä»¶å¤¹ä¸­ï¼Œæ²¡æœ‰è¿›è¡ŒæŠ½è±¡ï¼Œå› æ­¤ä½ å¯ä»¥è½»æ¾å¤åˆ¶æ¨¡å‹ä»£ç æ–‡ä»¶å¹¶æ ¹æ®éœ€è¦è¿›è¡Œè°ƒæ•´ã€‚</p> <p data-svelte-h="svelte-19a103f">å¦‚æœä½ è¦ç¼–å†™å…¨æ–°çš„æ¨¡å‹ï¼Œä»å¤´å¼€å§‹å¯èƒ½æ›´å®¹æ˜“ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å‘ä½ å±•ç¤ºå¦‚ä½•ç¼–å†™è‡ªå®šä¹‰æ¨¡å‹åŠå…¶é…ç½®ï¼Œä»¥ä¾¿å¯ä»¥åœ¨ Transformers ä¸­ä½¿ç”¨å®ƒï¼›ä»¥åŠå¦‚ä½•ä¸ç¤¾åŒºå…±äº«å®ƒï¼ˆåŠå…¶ä¾èµ–çš„ä»£ç ï¼‰ï¼Œä»¥ä¾¿ä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨ï¼Œå³ä½¿å®ƒä¸åœ¨ ğŸ¤— Transformers åº“ä¸­ã€‚</p> <p data-svelte-h="svelte-1b61zv2">æˆ‘ä»¬å°†ä»¥ ResNet æ¨¡å‹ä¸ºä¾‹ï¼Œé€šè¿‡å°† <a href="https://github.com/rwightman/pytorch-image-models" rel="nofollow">timm åº“</a> çš„ ResNet ç±»å°è£…åˆ° <a href="/docs/transformers/main/zh/main_classes/model#transformers.PreTrainedModel">PreTrainedModel</a> ä¸­æ¥è¿›è¡Œè¯´æ˜ã€‚</p>  <h2 class="relative group"><a id="ç¼–å†™è‡ªå®šä¹‰é…ç½®" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#ç¼–å†™è‡ªå®šä¹‰é…ç½®"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ç¼–å†™è‡ªå®šä¹‰é…ç½®</span></h2> <p data-svelte-h="svelte-1227xwf">åœ¨æ·±å…¥ç ”ç©¶æ¨¡å‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬é¦–å…ˆç¼–å†™å…¶é…ç½®ã€‚æ¨¡å‹çš„é…ç½®æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«æ„å»ºæ¨¡å‹æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ã€‚æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­çœ‹åˆ°ï¼Œæ¨¡å‹åªèƒ½æ¥å—ä¸€ä¸ª <code>config</code> æ¥è¿›è¡Œåˆå§‹åŒ–ï¼Œå› æ­¤æˆ‘ä»¬å¾ˆéœ€è¦ä½¿è¯¥å¯¹è±¡å°½å¯èƒ½å®Œæ•´ã€‚</p> <p data-svelte-h="svelte-i8hsxz">æˆ‘ä»¬å°†é‡‡ç”¨ä¸€äº›æˆ‘ä»¬å¯èƒ½æƒ³è¦è°ƒæ•´çš„ ResNet ç±»çš„å‚æ•°ä¸¾ä¾‹ã€‚ä¸åŒçš„é…ç½®å°†ä¸ºæˆ‘ä»¬æä¾›ä¸åŒç±»å‹å¯èƒ½çš„ ResNet æ¨¡å‹ã€‚åœ¨ç¡®è®¤å…¶ä¸­ä¸€äº›å‚æ•°çš„æœ‰æ•ˆæ€§åï¼Œæˆ‘ä»¬åªéœ€å­˜å‚¨è¿™äº›å‚æ•°ã€‚</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> PretrainedConfig
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>


<span class="hljs-keyword">class</span> <span class="hljs-title class_">ResnetConfig</span>(<span class="hljs-title class_ inherited__">PretrainedConfig</span>):
    model_type = <span class="hljs-string">&quot;resnet&quot;</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">
        self,
        block_type=<span class="hljs-string">&quot;bottleneck&quot;</span>,
        layers: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>] = [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">3</span>],
        num_classes: <span class="hljs-built_in">int</span> = <span class="hljs-number">1000</span>,
        input_channels: <span class="hljs-built_in">int</span> = <span class="hljs-number">3</span>,
        cardinality: <span class="hljs-built_in">int</span> = <span class="hljs-number">1</span>,
        base_width: <span class="hljs-built_in">int</span> = <span class="hljs-number">64</span>,
        stem_width: <span class="hljs-built_in">int</span> = <span class="hljs-number">64</span>,
        stem_type: <span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;&quot;</span>,
        avg_down: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">False</span>,
        **kwargs,
    </span>):
        <span class="hljs-keyword">if</span> block_type <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;basic&quot;</span>, <span class="hljs-string">&quot;bottleneck&quot;</span>]:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">f&quot;`block_type` must be &#x27;basic&#x27; or bottleneck&#x27;, got <span class="hljs-subst">{block_type}</span>.&quot;</span>)
        <span class="hljs-keyword">if</span> stem_type <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;&quot;</span>, <span class="hljs-string">&quot;deep&quot;</span>, <span class="hljs-string">&quot;deep-tiered&quot;</span>]:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">f&quot;`stem_type` must be &#x27;&#x27;, &#x27;deep&#x27; or &#x27;deep-tiered&#x27;, got <span class="hljs-subst">{stem_type}</span>.&quot;</span>)

        self.block_type = block_type
        self.layers = layers
        self.num_classes = num_classes
        self.input_channels = input_channels
        self.cardinality = cardinality
        self.base_width = base_width
        self.stem_width = stem_width
        self.stem_type = stem_type
        self.avg_down = avg_down
        <span class="hljs-built_in">super</span>().__init__(**kwargs)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1a7oeqv">ç¼–å†™è‡ªå®šä¹‰é…ç½®æ—¶éœ€è¦è®°ä½çš„ä¸‰ä¸ªé‡è¦äº‹é¡¹å¦‚ä¸‹ï¼š</p> <ul data-svelte-h="svelte-1s6yo4g"><li>å¿…é¡»ç»§æ‰¿è‡ª <code>PretrainedConfig</code>ï¼Œ</li> <li><code>PretrainedConfig</code> çš„ <code>__init__</code> æ–¹æ³•å¿…é¡»æ¥å—ä»»ä½• kwargsï¼Œ</li> <li>è¿™äº› <code>kwargs</code> éœ€è¦ä¼ é€’ç»™è¶…ç±»çš„ <code>__init__</code> æ–¹æ³•ã€‚</li></ul> <p data-svelte-h="svelte-tl0pjo">ç»§æ‰¿æ˜¯ä¸ºäº†ç¡®ä¿ä½ è·å¾—æ¥è‡ª ğŸ¤— Transformers åº“çš„æ‰€æœ‰åŠŸèƒ½ï¼Œè€Œå¦å¤–ä¸¤ä¸ªçº¦æŸæºäº <code>PretrainedConfig</code> çš„å­—æ®µæ¯”ä½ è®¾ç½®çš„å­—æ®µå¤šã€‚åœ¨ä½¿ç”¨ <code>from_pretrained</code> æ–¹æ³•é‡æ–°åŠ è½½é…ç½®æ—¶ï¼Œè¿™äº›å­—æ®µéœ€è¦è¢«ä½ çš„é…ç½®æ¥å—ï¼Œç„¶åä¼ é€’ç»™è¶…ç±»ã€‚</p> <p data-svelte-h="svelte-1atr0z9">ä¸ºä½ çš„é…ç½®å®šä¹‰ <code>model_type</code>ï¼ˆæ­¤å¤„ä¸º <code>model_type=&quot;resnet&quot;</code>ï¼‰ä¸æ˜¯å¿…é¡»çš„ï¼Œé™¤éä½ æƒ³ä½¿ç”¨è‡ªåŠ¨ç±»æ³¨å†Œä½ çš„æ¨¡å‹ï¼ˆè¯·å‚é˜…æœ€åä¸€èŠ‚ï¼‰ã€‚</p> <p data-svelte-h="svelte-1p70ds2">åšå®Œè¿™äº›ä»¥åï¼Œå°±å¯ä»¥åƒä½¿ç”¨åº“é‡Œä»»ä½•å…¶ä»–æ¨¡å‹é…ç½®ä¸€æ ·ï¼Œè½»æ¾åœ°åˆ›å»ºå’Œä¿å­˜é…ç½®ã€‚ä»¥ä¸‹ä»£ç å±•ç¤ºäº†å¦‚ä½•åˆ›å»ºå¹¶ä¿å­˜ resnet50d é…ç½®ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->resnet50d_config = ResnetConfig(block_type=<span class="hljs-string">&quot;bottleneck&quot;</span>, stem_width=<span class="hljs-number">32</span>, stem_type=<span class="hljs-string">&quot;deep&quot;</span>, avg_down=<span class="hljs-literal">True</span>)
resnet50d_config.save_pretrained(<span class="hljs-string">&quot;custom-resnet&quot;</span>)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-o9rk46">è¿™è¡Œä»£ç å°†åœ¨ <code>custom-resnet</code> æ–‡ä»¶å¤¹å†…ä¿å­˜ä¸€ä¸ªåä¸º <code>config.json</code> çš„æ–‡ä»¶ã€‚ç„¶åï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>from_pretrained</code> æ–¹æ³•é‡æ–°åŠ è½½é…ç½®ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->resnet50d_config = ResnetConfig.from_pretrained(<span class="hljs-string">&quot;custom-resnet&quot;</span>)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-ujmhd4">ä½ è¿˜å¯ä»¥ä½¿ç”¨ <a href="/docs/transformers/main/zh/main_classes/configuration#transformers.PretrainedConfig">PretrainedConfig</a> ç±»çš„ä»»ä½•å…¶ä»–æ–¹æ³•ï¼Œä¾‹å¦‚ <a href="/docs/transformers/main/zh/main_classes/model#transformers.utils.PushToHubMixin.push_to_hub">push_to_hub()</a>ï¼Œç›´æ¥å°†é…ç½®ä¸Šä¼ åˆ° Hubã€‚</p>  <h2 class="relative group"><a id="ç¼–å†™è‡ªå®šä¹‰æ¨¡å‹" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#ç¼–å†™è‡ªå®šä¹‰æ¨¡å‹"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ç¼–å†™è‡ªå®šä¹‰æ¨¡å‹</span></h2> <p data-svelte-h="svelte-bmcwbb">æœ‰äº† ResNet é…ç½®åï¼Œå°±å¯ä»¥ç»§ç»­ç¼–å†™æ¨¡å‹äº†ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬å°†ç¼–å†™ä¸¤ä¸ªæ¨¡å‹ï¼šä¸€ä¸ªæ¨¡å‹ç”¨äºä»ä¸€æ‰¹å›¾åƒä¸­æå–éšè—ç‰¹å¾ï¼ˆç±»ä¼¼äº <code>BertModel</code>ï¼‰ï¼Œå¦ä¸€ä¸ªæ¨¡å‹é€‚ç”¨äºå›¾åƒåˆ†ç±»ï¼ˆç±»ä¼¼äº <code>BertForSequenceClassification</code>ï¼‰ã€‚</p> <p data-svelte-h="svelte-1lbtc6j">æ­£å¦‚ä¹‹å‰æåˆ°çš„ï¼Œæˆ‘ä»¬åªä¼šç¼–å†™ä¸€ä¸ªæ¾æ•£çš„æ¨¡å‹åŒ…è£…ï¼Œä»¥ä½¿ç¤ºä¾‹ä¿æŒç®€æ´ã€‚åœ¨ç¼–å†™æ­¤ç±»ä¹‹å‰ï¼Œåªéœ€è¦å»ºç«‹èµ·å—ç±»å‹ï¼ˆblock typesï¼‰ä¸å®é™…å—ç±»ï¼ˆblock classesï¼‰ä¹‹é—´çš„æ˜ å°„ã€‚ç„¶åï¼Œé€šè¿‡å°†æ‰€æœ‰å†…å®¹ä¼ é€’ç»™ResNetç±»ï¼Œä»é…ç½®ä¸­å®šä¹‰æ¨¡å‹ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> PreTrainedModel
<span class="hljs-keyword">from</span> timm.models.resnet <span class="hljs-keyword">import</span> BasicBlock, Bottleneck, ResNet
<span class="hljs-keyword">from</span> .configuration_resnet <span class="hljs-keyword">import</span> ResnetConfig


BLOCK_MAPPING = {<span class="hljs-string">&quot;basic&quot;</span>: BasicBlock, <span class="hljs-string">&quot;bottleneck&quot;</span>: Bottleneck}


<span class="hljs-keyword">class</span> <span class="hljs-title class_">ResnetModel</span>(<span class="hljs-title class_ inherited__">PreTrainedModel</span>):
    config_class = ResnetConfig

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, config</span>):
        <span class="hljs-built_in">super</span>().__init__(config)
        block_layer = BLOCK_MAPPING[config.block_type]
        self.model = ResNet(
            block_layer,
            config.layers,
            num_classes=config.num_classes,
            in_chans=config.input_channels,
            cardinality=config.cardinality,
            base_width=config.base_width,
            stem_width=config.stem_width,
            stem_type=config.stem_type,
            avg_down=config.avg_down,
        )

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, tensor</span>):
        <span class="hljs-keyword">return</span> self.model.forward_features(tensor)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-16341pc">å¯¹ç”¨äºè¿›è¡Œå›¾åƒåˆ†ç±»çš„æ¨¡å‹ï¼Œæˆ‘ä»¬åªéœ€æ›´æ”¹å‰å‘æ–¹æ³•ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-keyword">import</span> torch


<span class="hljs-keyword">class</span> <span class="hljs-title class_">ResnetModelForImageClassification</span>(<span class="hljs-title class_ inherited__">PreTrainedModel</span>):
    config_class = ResnetConfig

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, config</span>):
        <span class="hljs-built_in">super</span>().__init__(config)
        block_layer = BLOCK_MAPPING[config.block_type]
        self.model = ResNet(
            block_layer,
            config.layers,
            num_classes=config.num_classes,
            in_chans=config.input_channels,
            cardinality=config.cardinality,
            base_width=config.base_width,
            stem_width=config.stem_width,
            stem_type=config.stem_type,
            avg_down=config.avg_down,
        )

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, tensor, labels=<span class="hljs-literal">None</span></span>):
        logits = self.model(tensor)
        <span class="hljs-keyword">if</span> labels <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
            loss = torch.nn.cross_entropy(logits, labels)
            <span class="hljs-keyword">return</span> {<span class="hljs-string">&quot;loss&quot;</span>: loss, <span class="hljs-string">&quot;logits&quot;</span>: logits}
        <span class="hljs-keyword">return</span> {<span class="hljs-string">&quot;logits&quot;</span>: logits}<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-18rfxea">åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œè¯·æ³¨æ„æˆ‘ä»¬å¦‚ä½•ç»§æ‰¿ <code>PreTrainedModel</code> å¹¶ä½¿ç”¨ <code>config</code> è°ƒç”¨äº†è¶…ç±»çš„åˆå§‹åŒ–ï¼ˆæœ‰ç‚¹åƒç¼–å†™å¸¸è§„çš„torch.nn.Moduleï¼‰ã€‚è®¾ç½® <code>config_class</code> çš„é‚£è¡Œä»£ç ä¸æ˜¯å¿…é¡»çš„ï¼Œé™¤éä½ æƒ³ä½¿ç”¨è‡ªåŠ¨ç±»æ³¨å†Œä½ çš„æ¨¡å‹ï¼ˆè¯·å‚é˜…æœ€åä¸€èŠ‚ï¼‰ã€‚</p>  <div class="course-tip  bg-gradient-to-br dark:bg-gradient-to-r before:border-green-500 dark:before:border-green-800 from-green-50 dark:from-gray-900 to-white dark:to-gray-950 border border-green-50 text-green-700 dark:text-gray-400"><p data-svelte-h="svelte-1t5zcat">å¦‚æœä½ çš„æ¨¡å‹ä¸åº“ä¸­çš„æŸä¸ªæ¨¡å‹éå¸¸ç›¸ä¼¼ï¼Œä½ å¯ä»¥é‡ç”¨ä¸è¯¥æ¨¡å‹ç›¸åŒçš„é…ç½®ã€‚</p></div> <p data-svelte-h="svelte-od54k8">ä½ å¯ä»¥è®©æ¨¡å‹è¿”å›ä»»ä½•ä½ æƒ³è¦çš„å†…å®¹ï¼Œä½†æ˜¯åƒæˆ‘ä»¬ä¸º <code>ResnetModelForImageClassification</code> åšçš„é‚£æ ·è¿”å›ä¸€ä¸ªå­—å…¸ï¼Œå¹¶åœ¨ä¼ é€’æ ‡ç­¾æ—¶åŒ…å«lossï¼Œå¯ä»¥ä½¿ä½ çš„æ¨¡å‹èƒ½å¤Ÿåœ¨ <code>Trainer</code> ç±»ä¸­ç›´æ¥ä½¿ç”¨ã€‚åªè¦ä½ è®¡åˆ’ä½¿ç”¨è‡ªå·±çš„è®­ç»ƒå¾ªç¯æˆ–å…¶ä»–åº“è¿›è¡Œè®­ç»ƒï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–è¾“å‡ºæ ¼å¼ã€‚</p> <p data-svelte-h="svelte-ym2h95">ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†æ¨¡å‹ç±»ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->resnet50d = ResnetModelForImageClassification(resnet50d_config)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1eqzw6j">åŒæ ·çš„ï¼Œä½ å¯ä»¥ä½¿ç”¨ <a href="/docs/transformers/main/zh/main_classes/model#transformers.PreTrainedModel">PreTrainedModel</a> çš„ä»»ä½•æ–¹æ³•ï¼Œæ¯”å¦‚ <a href="/docs/transformers/main/zh/main_classes/model#transformers.PreTrainedModel.save_pretrained">save_pretrained()</a> æˆ–è€… <a href="/docs/transformers/main/zh/main_classes/model#transformers.utils.PushToHubMixin.push_to_hub">push_to_hub()</a>ã€‚æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­ä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•ï¼Œå¹¶äº†è§£å¦‚ä½•å¦‚ä½•ä½¿ç”¨æˆ‘ä»¬çš„æ¨¡å‹çš„ä»£ç æ¨é€æ¨¡å‹æƒé‡ã€‚ä½†é¦–å…ˆï¼Œè®©æˆ‘ä»¬åœ¨æ¨¡å‹å†…åŠ è½½ä¸€äº›é¢„è®­ç»ƒæƒé‡ã€‚</p> <p data-svelte-h="svelte-36p84q">åœ¨ä½ è‡ªå·±çš„ç”¨ä¾‹ä¸­ï¼Œä½ å¯èƒ½ä¼šåœ¨è‡ªå·±çš„æ•°æ®ä¸Šè®­ç»ƒè‡ªå®šä¹‰æ¨¡å‹ã€‚ä¸ºäº†å¿«é€Ÿå®Œæˆæœ¬æ•™ç¨‹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ resnet50d çš„é¢„è®­ç»ƒç‰ˆæœ¬ã€‚ç”±äºæˆ‘ä»¬çš„æ¨¡å‹åªæ˜¯å®ƒçš„åŒ…è£…ï¼Œè½¬ç§»è¿™äº›æƒé‡å°†ä¼šå¾ˆå®¹æ˜“ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-keyword">import</span> timm

pretrained_model = timm.create_model(<span class="hljs-string">&quot;resnet50d&quot;</span>, pretrained=<span class="hljs-literal">True</span>)
resnet50d.model.load_state_dict(pretrained_model.state_dict())<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1wai86">ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹ï¼Œå¦‚ä½•ç¡®ä¿åœ¨æ‰§è¡Œ <a href="/docs/transformers/main/zh/main_classes/model#transformers.PreTrainedModel.save_pretrained">save_pretrained()</a> æˆ– <a href="/docs/transformers/main/zh/main_classes/model#transformers.utils.PushToHubMixin.push_to_hub">push_to_hub()</a> æ—¶ï¼Œæ¨¡å‹çš„ä»£ç è¢«ä¿å­˜ã€‚</p>  <h2 class="relative group"><a id="å°†ä»£ç å‘é€åˆ°-hub" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#å°†ä»£ç å‘é€åˆ°-hub"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>å°†ä»£ç å‘é€åˆ° Hub</span></h2>  <div class="course-tip course-tip-orange bg-gradient-to-br dark:bg-gradient-to-r before:border-orange-500 dark:before:border-orange-800 from-orange-50 dark:from-gray-900 to-white dark:to-gray-950 border border-orange-50 text-orange-700 dark:text-gray-400"><p data-svelte-h="svelte-k4mbd2">æ­¤ API æ˜¯å®éªŒæ€§çš„ï¼Œæœªæ¥çš„å‘å¸ƒä¸­å¯èƒ½ä¼šæœ‰ä¸€äº›è½»å¾®çš„ä¸å…¼å®¹æ›´æ”¹ã€‚</p></div> <p data-svelte-h="svelte-3w8bak">é¦–å…ˆï¼Œç¡®ä¿ä½ çš„æ¨¡å‹åœ¨ä¸€ä¸ª <code>.py</code> æ–‡ä»¶ä¸­å®Œå…¨å®šä¹‰ã€‚åªè¦æ‰€æœ‰æ–‡ä»¶éƒ½ä½äºåŒä¸€ç›®å½•ä¸­ï¼Œå®ƒå°±å¯ä»¥ä¾èµ–äºæŸäº›å…¶ä»–æ–‡ä»¶çš„ç›¸å¯¹å¯¼å…¥ï¼ˆç›®å‰æˆ‘ä»¬è¿˜ä¸ä¸ºå­æ¨¡å—æ”¯æŒæ­¤åŠŸèƒ½ï¼‰ã€‚å¯¹äºæˆ‘ä»¬çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å°†åœ¨å½“å‰å·¥ä½œç›®å½•ä¸­åä¸º <code>resnet_model</code> çš„æ–‡ä»¶å¤¹ä¸­å®šä¹‰ä¸€ä¸ª <code>modeling_resnet.py</code> æ–‡ä»¶å’Œä¸€ä¸ª <code>configuration_resnet.py</code> æ–‡ä»¶ã€‚ é…ç½®æ–‡ä»¶åŒ…å« <code>ResnetConfig</code> çš„ä»£ç ï¼Œæ¨¡å‹æ–‡ä»¶åŒ…å« <code>ResnetModel</code> å’Œ <code>ResnetModelForImageClassification</code> çš„ä»£ç ã€‚</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->.
â””â”€â”€ resnet_model
    â”œâ”€â”€ __init__.<span class="hljs-keyword">py</span>
    â”œâ”€â”€ configuration_resnet.<span class="hljs-keyword">py</span>
    â””â”€â”€ modeling_resnet.<span class="hljs-keyword">py</span><!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-n806b8"><code>__init__.py</code> å¯ä»¥ä¸ºç©ºï¼Œå®ƒçš„å­˜åœ¨åªæ˜¯ä¸ºäº†è®© Python æ£€æµ‹åˆ° <code>resnet_model</code> å¯ä»¥ç”¨ä½œæ¨¡å—ã€‚</p>  <div class="course-tip course-tip-orange bg-gradient-to-br dark:bg-gradient-to-r before:border-orange-500 dark:before:border-orange-800 from-orange-50 dark:from-gray-900 to-white dark:to-gray-950 border border-orange-50 text-orange-700 dark:text-gray-400"><p data-svelte-h="svelte-3nrr3e">å¦‚æœä»åº“ä¸­å¤åˆ¶æ¨¡å‹æ–‡ä»¶ï¼Œä½ éœ€è¦å°†æ–‡ä»¶é¡¶éƒ¨çš„æ‰€æœ‰ç›¸å¯¹å¯¼å…¥æ›¿æ¢ä¸ºä» <code>transformers</code> åŒ…ä¸­çš„å¯¼å…¥ã€‚</p></div> <p data-svelte-h="svelte-18wuvr2">è¯·æ³¨æ„ï¼Œä½ å¯ä»¥é‡ç”¨ï¼ˆæˆ–å­ç±»åŒ–ï¼‰ç°æœ‰çš„é…ç½®/æ¨¡å‹ã€‚</p> <p data-svelte-h="svelte-7gjgjm">è¦ä¸ç¤¾åŒºå…±äº«æ‚¨çš„æ¨¡å‹ï¼Œè¯·å‚ç…§ä»¥ä¸‹æ­¥éª¤ï¼šé¦–å…ˆä»æ–°åˆ›å»ºçš„æ–‡ä»¶ä¸­å¯¼å…¥ResNetæ¨¡å‹å’Œé…ç½®ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-keyword">from</span> resnet_model.configuration_resnet <span class="hljs-keyword">import</span> ResnetConfig
<span class="hljs-keyword">from</span> resnet_model.modeling_resnet <span class="hljs-keyword">import</span> ResnetModel, ResnetModelForImageClassification<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-nsc87p">æ¥ä¸‹æ¥ï¼Œä½ éœ€è¦å‘Šè¯‰åº“ï¼Œå½“ä½¿ç”¨ <code>save_pretrained</code> æ–¹æ³•æ—¶ï¼Œä½ å¸Œæœ›å¤åˆ¶è¿™äº›å¯¹è±¡çš„ä»£ç æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬æ­£ç¡®æ³¨å†Œåˆ°ç»™å®šçš„ Auto ç±»ï¼ˆç‰¹åˆ«æ˜¯å¯¹äºæ¨¡å‹ï¼‰ï¼Œåªéœ€è¦è¿è¡Œä»¥ä¸‹ä»£ç ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->ResnetConfig.register_for_auto_class()
ResnetModel.register_for_auto_class(<span class="hljs-string">&quot;AutoModel&quot;</span>)
ResnetModelForImageClassification.register_for_auto_class(<span class="hljs-string">&quot;AutoModelForImageClassification&quot;</span>)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1dt591c">è¯·æ³¨æ„ï¼Œå¯¹äºé…ç½®ï¼ˆåªæœ‰ä¸€ä¸ªè‡ªåŠ¨ç±» <code>AutoConfig</code>ï¼‰ï¼Œä¸éœ€è¦æŒ‡å®šè‡ªåŠ¨ç±»ï¼Œä½†å¯¹äºæ¨¡å‹æ¥è¯´æƒ…å†µä¸åŒã€‚ ä½ çš„è‡ªå®šä¹‰æ¨¡å‹å¯èƒ½é€‚ç”¨äºè®¸å¤šä¸åŒçš„ä»»åŠ¡ï¼Œå› æ­¤ä½ å¿…é¡»æŒ‡å®šå“ªä¸€ä¸ªè‡ªåŠ¨ç±»é€‚åˆä½ çš„æ¨¡å‹ã€‚</p> <p data-svelte-h="svelte-1vunet5">æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬åƒä¹‹å‰ä¸€æ ·åˆ›å»ºé…ç½®å’Œæ¨¡å‹ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->resnet50d_config = ResnetConfig(block_type=<span class="hljs-string">&quot;bottleneck&quot;</span>, stem_width=<span class="hljs-number">32</span>, stem_type=<span class="hljs-string">&quot;deep&quot;</span>, avg_down=<span class="hljs-literal">True</span>)
resnet50d = ResnetModelForImageClassification(resnet50d_config)

pretrained_model = timm.create_model(<span class="hljs-string">&quot;resnet50d&quot;</span>, pretrained=<span class="hljs-literal">True</span>)
resnet50d.model.load_state_dict(pretrained_model.state_dict())<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-11g63u9">ç°åœ¨è¦å°†æ¨¡å‹æ¨é€åˆ°é›†çº¿å™¨ï¼Œè¯·ç¡®ä¿ä½ å·²ç™»å½•ã€‚ä½ çœ‹å¯ä»¥åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->huggingface-cli login<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1emymh6">æˆ–è€…åœ¨ç¬”è®°æœ¬ä¸­è¿è¡Œä»¥ä¸‹ä»£ç ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-keyword">from</span> huggingface_hub <span class="hljs-keyword">import</span> notebook_login

notebook_login()<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1xi8u2o">ç„¶åï¼Œå¯ä»¥è¿™æ ·å°†æ¨¡å‹æ¨é€åˆ°è‡ªå·±çš„å‘½åç©ºé—´ï¼ˆæˆ–ä½ æ‰€å±çš„ç»„ç»‡ï¼‰ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->resnet50d.push_to_hub(<span class="hljs-string">&quot;custom-resnet50d&quot;</span>)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1qq9kbx">é™¤äº†æ¨¡å‹æƒé‡å’Œ JSON æ ¼å¼çš„é…ç½®å¤–ï¼Œè¿™è¡Œä»£ç ä¹Ÿä¼šå¤åˆ¶ <code>custom-resnet50d</code> æ–‡ä»¶å¤¹å†…çš„æ¨¡å‹ä»¥åŠé…ç½®çš„ <code>.py</code> æ–‡ä»¶å¹¶å°†ç»“æœä¸Šä¼ è‡³ Hubã€‚ä½ å¯ä»¥åœ¨æ­¤<a href="https://huggingface.co/sgugger/custom-resnet50d" rel="nofollow">æ¨¡å‹ä»“åº“</a>ä¸­æŸ¥çœ‹ç»“æœã€‚</p> <p data-svelte-h="svelte-1e6fo38">æœ‰å…³æ¨æ¨é€è‡³ Hub æ–¹æ³•çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…<a href="model_sharing">å…±äº«æ•™ç¨‹</a>ã€‚</p>  <h2 class="relative group"><a id="ä½¿ç”¨å¸¦æœ‰è‡ªå®šä¹‰ä»£ç çš„æ¨¡å‹" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#ä½¿ç”¨å¸¦æœ‰è‡ªå®šä¹‰ä»£ç çš„æ¨¡å‹"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ä½¿ç”¨å¸¦æœ‰è‡ªå®šä¹‰ä»£ç çš„æ¨¡å‹</span></h2> <p data-svelte-h="svelte-xah23j">å¯ä»¥ä½¿ç”¨è‡ªåŠ¨ç±»ï¼ˆauto-classesï¼‰å’Œ <code>from_pretrained</code> æ–¹æ³•ï¼Œä½¿ç”¨æ¨¡å‹ä»“åº“é‡Œå¸¦æœ‰è‡ªå®šä¹‰ä»£ç çš„é…ç½®ã€æ¨¡å‹æˆ–åˆ†è¯å™¨æ–‡ä»¶ã€‚æ‰€æœ‰ä¸Šä¼ åˆ° Hub çš„æ–‡ä»¶å’Œä»£ç éƒ½ä¼šè¿›è¡Œæ¶æ„è½¯ä»¶æ‰«æï¼ˆæœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… <a href="https://huggingface.co/docs/hub/security#malware-scanning" rel="nofollow">Hub å®‰å…¨</a> æ–‡æ¡£ï¼‰, ä½†ä½ ä»åº”æŸ¥çœ‹æ¨¡å‹ä»£ç å’Œä½œè€…ï¼Œä»¥é¿å…åœ¨ä½ çš„è®¡ç®—æœºä¸Šæ‰§è¡Œæ¶æ„ä»£ç ã€‚ è®¾ç½® <code>trust_remote_code=True</code> ä»¥ä½¿ç”¨å¸¦æœ‰è‡ªå®šä¹‰ä»£ç çš„æ¨¡å‹ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoModelForImageClassification

model = AutoModelForImageClassification.from_pretrained(<span class="hljs-string">&quot;sgugger/custom-resnet50d&quot;</span>, trust_remote_code=<span class="hljs-literal">True</span>)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1dvm79h">æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä¸º <code>revision</code> å‚æ•°ä¼ é€’æäº¤å“ˆå¸Œï¼ˆcommit hashï¼‰ï¼Œä»¥ç¡®ä¿æ¨¡å‹çš„ä½œè€…æ²¡æœ‰ä½¿ç”¨ä¸€äº›æ¶æ„çš„ä»£ç è¡Œæ›´æ–°äº†ä»£ç ï¼ˆé™¤éæ‚¨å®Œå…¨ä¿¡ä»»æ¨¡å‹çš„ä½œè€…ï¼‰ã€‚</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->commit_hash = <span class="hljs-string">&quot;ed94a7c6247d8aedce4647f00f20de6875b5b292&quot;</span>
model = AutoModelForImageClassification.from_pretrained(
    <span class="hljs-string">&quot;sgugger/custom-resnet50d&quot;</span>, trust_remote_code=<span class="hljs-literal">True</span>, revision=commit_hash
)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-8xcaeg">åœ¨ Hub ä¸Šæµè§ˆæ¨¡å‹ä»“åº“çš„æäº¤å†å²æ—¶ï¼Œæœ‰ä¸€ä¸ªæŒ‰é’®å¯ä»¥è½»æ¾å¤åˆ¶ä»»ä½•æäº¤çš„æäº¤å“ˆå¸Œã€‚</p>  <h2 class="relative group"><a id="å°†è‡ªå®šä¹‰ä»£ç çš„æ¨¡å‹æ³¨å†Œåˆ°è‡ªåŠ¨ç±»" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#å°†è‡ªå®šä¹‰ä»£ç çš„æ¨¡å‹æ³¨å†Œåˆ°è‡ªåŠ¨ç±»"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>å°†è‡ªå®šä¹‰ä»£ç çš„æ¨¡å‹æ³¨å†Œåˆ°è‡ªåŠ¨ç±»</span></h2> <p data-svelte-h="svelte-1y2zt0l">å¦‚æœä½ åœ¨ç¼–å†™ä¸€ä¸ªæ‰©å±• ğŸ¤— Transformers çš„åº“ï¼Œä½ å¯èƒ½æƒ³è¦æ‰©å±•è‡ªåŠ¨ç±»ä»¥åŒ…å«æ‚¨è‡ªå·±çš„æ¨¡å‹ã€‚è¿™ä¸å°†ä»£ç æ¨é€åˆ° Hub ä¸åŒï¼Œå› ä¸ºç”¨æˆ·éœ€è¦å¯¼å…¥ä½ çš„åº“æ‰èƒ½è·å–è‡ªå®šä¹‰æ¨¡å‹ï¼ˆä¸ä» Hub è‡ªåŠ¨ä¸‹è½½æ¨¡å‹ä»£ç ç›¸åï¼‰ã€‚</p> <p data-svelte-h="svelte-l7gnnd">åªè¦ä½ çš„é…ç½® <code>model_type</code> å±æ€§ä¸ç°æœ‰æ¨¡å‹ç±»å‹ä¸åŒï¼Œå¹¶ä¸”ä½ çš„æ¨¡å‹ç±»æœ‰æ­£ç¡®çš„ <code>config_class</code> å±æ€§ï¼Œä½ å¯ä»¥åƒè¿™æ ·å°†å®ƒä»¬æ·»åŠ åˆ°è‡ªåŠ¨ç±»ä¸­ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoConfig, AutoModel, AutoModelForImageClassification

AutoConfig.register(<span class="hljs-string">&quot;resnet&quot;</span>, ResnetConfig)
AutoModel.register(ResnetConfig, ResnetModel)
AutoModelForImageClassification.register(ResnetConfig, ResnetModelForImageClassification)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-zrvvjw">è¯·æ³¨æ„ï¼Œå°†è‡ªå®šä¹‰é…ç½®æ³¨å†Œåˆ° <code>AutoConfig</code> æ—¶ï¼Œä½¿ç”¨çš„ç¬¬ä¸€ä¸ªå‚æ•°éœ€è¦ä¸è‡ªå®šä¹‰é…ç½®çš„ <code>model_type</code> åŒ¹é…ï¼›è€Œå°†è‡ªå®šä¹‰æ¨¡å‹æ³¨å†Œåˆ°ä»»ä½•è‡ªåŠ¨æ¨¡å‹ç±»æ—¶ï¼Œä½¿ç”¨çš„ç¬¬ä¸€ä¸ªå‚æ•°éœ€è¦ä¸ <code>config_class</code> åŒ¹é…ã€‚</p>  <p></p> 
			
			<script>
				{
					__sveltekit_1q37j87 = {
						assets: "/docs/transformers/main/zh",
						base: "/docs/transformers/main/zh",
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null];

					Promise.all([
						import("/docs/transformers/main/zh/_app/immutable/entry/start.a5f05f32.js"),
						import("/docs/transformers/main/zh/_app/immutable/entry/app.841e34bb.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 7],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		
