<meta charset="utf-8" /><meta name="hf:doc:metadata" content="{&quot;title&quot;:&quot;å¯¼å‡ºä¸º ONNX&quot;,&quot;local&quot;:&quot;å¯¼å‡ºä¸º-onnx&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;å¯¼å‡ºä¸º ONNX&quot;,&quot;local&quot;:&quot;å¯¼å‡ºä¸º-onnx&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;ä½¿ç”¨ CLI å°† ğŸ¤— Transformers æ¨¡å‹å¯¼å‡ºä¸º ONNX&quot;,&quot;local&quot;:&quot;ä½¿ç”¨-cli-å°†--transformers-æ¨¡å‹å¯¼å‡ºä¸º-onnx&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;ä½¿ç”¨ optimum.onnxruntime å°† ğŸ¤— Transformers æ¨¡å‹å¯¼å‡ºä¸º ONNX&quot;,&quot;local&quot;:&quot;ä½¿ç”¨-optimumonnxruntime-å°†--transformers-æ¨¡å‹å¯¼å‡ºä¸º-onnx&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;å¯¼å‡ºå°šæœªæ”¯æŒçš„æ¶æ„çš„æ¨¡å‹&quot;,&quot;local&quot;:&quot;å¯¼å‡ºå°šæœªæ”¯æŒçš„æ¶æ„çš„æ¨¡å‹&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;ä½¿ç”¨ transformers.onnx å¯¼å‡ºæ¨¡å‹&quot;,&quot;local&quot;:&quot;ä½¿ç”¨-transformersonnx-å¯¼å‡ºæ¨¡å‹&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3}],&quot;depth&quot;:2}],&quot;depth&quot;:1}">
		<link href="/huggingface-transformers/en/_app/immutable/assets/0.e3b0c442.css" rel="modulepreload">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/entry/start.aa5c64e1.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/scheduler.9991993c.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/singletons.e8480a64.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/index.02cfeb18.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/paths.fe74d27a.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/entry/app.efc953bb.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/index.7fc9a5e7.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/nodes/0.4188103a.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/each.e59479a4.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/nodes/52.9e01f2d2.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/Tip.9de92fc6.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/CodeBlock.e11cba92.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/Heading.e3de321f.js"><!-- HEAD_svelte-u9bgzb_START --><meta name="hf:doc:metadata" content="{&quot;title&quot;:&quot;å¯¼å‡ºä¸º ONNX&quot;,&quot;local&quot;:&quot;å¯¼å‡ºä¸º-onnx&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;å¯¼å‡ºä¸º ONNX&quot;,&quot;local&quot;:&quot;å¯¼å‡ºä¸º-onnx&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;ä½¿ç”¨ CLI å°† ğŸ¤— Transformers æ¨¡å‹å¯¼å‡ºä¸º ONNX&quot;,&quot;local&quot;:&quot;ä½¿ç”¨-cli-å°†--transformers-æ¨¡å‹å¯¼å‡ºä¸º-onnx&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;ä½¿ç”¨ optimum.onnxruntime å°† ğŸ¤— Transformers æ¨¡å‹å¯¼å‡ºä¸º ONNX&quot;,&quot;local&quot;:&quot;ä½¿ç”¨-optimumonnxruntime-å°†--transformers-æ¨¡å‹å¯¼å‡ºä¸º-onnx&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;å¯¼å‡ºå°šæœªæ”¯æŒçš„æ¶æ„çš„æ¨¡å‹&quot;,&quot;local&quot;:&quot;å¯¼å‡ºå°šæœªæ”¯æŒçš„æ¶æ„çš„æ¨¡å‹&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;ä½¿ç”¨ transformers.onnx å¯¼å‡ºæ¨¡å‹&quot;,&quot;local&quot;:&quot;ä½¿ç”¨-transformersonnx-å¯¼å‡ºæ¨¡å‹&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3}],&quot;depth&quot;:2}],&quot;depth&quot;:1}"><!-- HEAD_svelte-u9bgzb_END -->      <p></p>   <h1 class="relative group"><a id="å¯¼å‡ºä¸º-onnx" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#å¯¼å‡ºä¸º-onnx"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>å¯¼å‡ºä¸º ONNX</span></h1> <p data-svelte-h="svelte-1nrzlis">åœ¨ç”Ÿäº§ç¯å¢ƒä¸­éƒ¨ç½² ğŸ¤— Transformers æ¨¡å‹é€šå¸¸éœ€è¦æˆ–è€…èƒ½å¤Ÿå—ç›Šäºï¼Œå°†æ¨¡å‹å¯¼å‡ºä¸ºå¯åœ¨ä¸“é—¨çš„è¿è¡Œæ—¶å’Œç¡¬ä»¶ä¸ŠåŠ è½½å’Œæ‰§è¡Œçš„åºåˆ—åŒ–æ ¼å¼ã€‚</p> <p data-svelte-h="svelte-mov0vr">ğŸ¤— Optimum æ˜¯ Transformers çš„æ‰©å±•ï¼Œå¯ä»¥é€šè¿‡å…¶ <code>exporters</code> æ¨¡å—å°†æ¨¡å‹ä» PyTorch æˆ– TensorFlow å¯¼å‡ºä¸º ONNX åŠ TFLite ç­‰åºåˆ—åŒ–æ ¼å¼ã€‚ğŸ¤— Optimum è¿˜æä¾›äº†ä¸€å¥—æ€§èƒ½ä¼˜åŒ–å·¥å…·ï¼Œå¯ä»¥åœ¨ç›®æ ‡ç¡¬ä»¶ä¸Šä»¥æœ€é«˜æ•ˆç‡è®­ç»ƒå’Œè¿è¡Œæ¨¡å‹ã€‚</p> <p data-svelte-h="svelte-xncyne">æœ¬æŒ‡å—æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨ ğŸ¤— Optimum å°† ğŸ¤— Transformers æ¨¡å‹å¯¼å‡ºä¸º ONNXã€‚æœ‰å…³å°†æ¨¡å‹å¯¼å‡ºä¸º TFLite çš„æŒ‡å—ï¼Œè¯·å‚è€ƒ <a href="tflite">å¯¼å‡ºä¸º TFLite é¡µé¢</a>ã€‚</p>  <h2 class="relative group"><a id="å¯¼å‡ºä¸º-onnx" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#å¯¼å‡ºä¸º-onnx"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>å¯¼å‡ºä¸º ONNX</span></h2> <p data-svelte-h="svelte-skqm3v"><a href="http://onnx.ai" rel="nofollow">ONNX (Open Neural Network eXchange å¼€æ”¾ç¥ç»ç½‘ç»œäº¤æ¢)</a> æ˜¯ä¸€ä¸ªå¼€æ”¾çš„æ ‡å‡†ï¼Œå®ƒå®šä¹‰äº†ä¸€ç»„é€šç”¨çš„è¿ç®—ç¬¦å’Œä¸€ç§é€šç”¨çš„æ–‡ä»¶æ ¼å¼ï¼Œç”¨äºè¡¨ç¤ºåŒ…æ‹¬ PyTorch å’Œ TensorFlow åœ¨å†…çš„å„ç§æ¡†æ¶ä¸­çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚å½“ä¸€ä¸ªæ¨¡å‹è¢«å¯¼å‡ºä¸º ONNXæ—¶ï¼Œè¿™äº›è¿ç®—ç¬¦è¢«ç”¨äºæ„å»ºè®¡ç®—å›¾ï¼ˆé€šå¸¸è¢«ç§°ä¸º<em>ä¸­é—´è¡¨ç¤º</em>ï¼‰ï¼Œè¯¥å›¾è¡¨ç¤ºæ•°æ®åœ¨ç¥ç»ç½‘ç»œä¸­çš„æµåŠ¨ã€‚</p> <p data-svelte-h="svelte-16jc19n">é€šè¿‡å…¬å¼€å…·æœ‰æ ‡å‡†åŒ–è¿ç®—ç¬¦å’Œæ•°æ®ç±»å‹çš„å›¾ï¼ŒONNXä½¿å¾—æ¨¡å‹èƒ½å¤Ÿè½»æ¾åœ¨ä¸åŒæ·±åº¦å­¦ä¹ æ¡†æ¶é—´åˆ‡æ¢ã€‚ä¾‹å¦‚ï¼Œåœ¨ PyTorch ä¸­è®­ç»ƒçš„æ¨¡å‹å¯ä»¥è¢«å¯¼å‡ºä¸º ONNXï¼Œç„¶åå†å¯¼å…¥åˆ° TensorFlowï¼ˆåä¹‹äº¦ç„¶ï¼‰ã€‚</p> <p data-svelte-h="svelte-1aux7gh">å¯¼å‡ºä¸º ONNX åï¼Œæ¨¡å‹å¯ä»¥ï¼š</p> <ul data-svelte-h="svelte-1ra7jnx"><li>é€šè¿‡ <a href="https://huggingface.co/docs/optimum/onnxruntime/usage_guides/optimization" rel="nofollow">å›¾ä¼˜åŒ–ï¼ˆgraph optimizationï¼‰</a> å’Œ <a href="https://huggingface.co/docs/optimum/onnxruntime/usage_guides/quantization" rel="nofollow">é‡åŒ–ï¼ˆquantizationï¼‰</a> ç­‰æŠ€æœ¯è¿›è¡Œæ¨ç†ä¼˜åŒ–ã€‚</li> <li>é€šè¿‡ <a href="https://huggingface.co/docs/optimum/onnxruntime/package_reference/modeling_ort" rel="nofollow"><code>ORTModelForXXX</code> ç±»</a> ä½¿ç”¨ ONNX Runtime è¿è¡Œï¼Œå®ƒåŒæ ·éµå¾ªä½ ç†Ÿæ‚‰çš„ Transformers ä¸­çš„ <code>AutoModel</code> APIã€‚</li> <li>ä½¿ç”¨ <a href="https://huggingface.co/docs/optimum/main/en/onnxruntime/usage_guides/pipelines" rel="nofollow">ä¼˜åŒ–æ¨ç†æµæ°´çº¿ï¼ˆpipelineï¼‰</a> è¿è¡Œï¼Œå…¶ API ä¸ ğŸ¤— Transformers ä¸­çš„ <a href="/docs/transformers/main/zh/main_classes/pipelines#transformers.pipeline">pipeline()</a> å‡½æ•°ç›¸åŒã€‚</li></ul> <p data-svelte-h="svelte-1i7w9pz">ğŸ¤— Optimum é€šè¿‡åˆ©ç”¨é…ç½®å¯¹è±¡æä¾›å¯¹ ONNX å¯¼å‡ºçš„æ”¯æŒã€‚å¤šç§æ¨¡å‹æ¶æ„å·²ç»æœ‰ç°æˆçš„é…ç½®å¯¹è±¡ï¼Œå¹¶ä¸”é…ç½®å¯¹è±¡ä¹Ÿè¢«è®¾è®¡å¾—æ˜“äºæ‰©å±•ä»¥é€‚ç”¨äºå…¶ä»–æ¶æ„ã€‚</p> <p data-svelte-h="svelte-1yienai">ç°æœ‰çš„é…ç½®åˆ—è¡¨è¯·å‚è€ƒ <a href="https://huggingface.co/docs/optimum/exporters/onnx/overview" rel="nofollow">ğŸ¤— Optimum æ–‡æ¡£</a>ã€‚</p> <p data-svelte-h="svelte-tbpqij">æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å°† ğŸ¤— Transformers æ¨¡å‹å¯¼å‡ºä¸º ONNXï¼Œè¿™é‡Œæˆ‘ä»¬å±•ç¤ºè¿™ä¸¤ç§æ–¹æ³•ï¼š</p> <ul data-svelte-h="svelte-keywtz"><li>ä½¿ç”¨ ğŸ¤— Optimum çš„ CLIï¼ˆå‘½ä»¤è¡Œï¼‰å¯¼å‡ºã€‚</li> <li>ä½¿ç”¨ ğŸ¤— Optimum çš„ <code>optimum.onnxruntime</code> æ¨¡å—å¯¼å‡ºã€‚</li></ul>  <h3 class="relative group"><a id="ä½¿ç”¨-cli-å°†--transformers-æ¨¡å‹å¯¼å‡ºä¸º-onnx" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#ä½¿ç”¨-cli-å°†--transformers-æ¨¡å‹å¯¼å‡ºä¸º-onnx"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ä½¿ç”¨ CLI å°† ğŸ¤— Transformers æ¨¡å‹å¯¼å‡ºä¸º ONNX</span></h3> <p data-svelte-h="svelte-1umwk9p">è¦å°† ğŸ¤— Transformers æ¨¡å‹å¯¼å‡ºä¸º ONNXï¼Œé¦–å…ˆéœ€è¦å®‰è£…é¢å¤–çš„ä¾èµ–é¡¹ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->pip install optimum[exporters]<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1rzqdp2">è¯·å‚é˜… <a href="https://huggingface.co/docs/optimum/exporters/onnx/usage_guides/export_a_model#exporting-a-model-to-onnx-using-the-cli" rel="nofollow">ğŸ¤— Optimum æ–‡æ¡£</a> ä»¥æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‚æ•°ï¼Œæˆ–è€…åœ¨å‘½ä»¤è¡Œä¸­æŸ¥çœ‹å¸®åŠ©ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->optimum-cli <span class="hljs-built_in">export</span> onnx --<span class="hljs-built_in">help</span><!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-qrhowj">è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä»¥ä» ğŸ¤— Hub å¯¼å‡ºæ¨¡å‹çš„æ£€æŸ¥ç‚¹ï¼ˆcheckpointï¼‰ï¼Œä»¥ <code>distilbert/distilbert-base-uncased-distilled-squad</code> ä¸ºä¾‹ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->optimum-cli <span class="hljs-built_in">export</span> onnx --model distilbert/distilbert-base-uncased-distilled-squad distilbert_base_uncased_squad_onnx/<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1t36nwo">ä½ åº”è¯¥èƒ½åœ¨æ—¥å¿—ä¸­çœ‹åˆ°å¯¼å‡ºè¿›åº¦ä»¥åŠç”Ÿæˆçš„ <code>model.onnx</code> æ–‡ä»¶çš„ä¿å­˜ä½ç½®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->Validating ONNX model distilbert_base_uncased_squad_onnx/model.onnx...
	-[âœ“] ONNX model output names match reference model (start_logits, end_logits)
	- Validating ONNX Model output <span class="hljs-string">&quot;start_logits&quot;</span>:
		-[âœ“] (2, 16) matches (2, 16)
		-[âœ“] all values close (atol: 0.0001)
	- Validating ONNX Model output <span class="hljs-string">&quot;end_logits&quot;</span>:
		-[âœ“] (2, 16) matches (2, 16)
		-[âœ“] all values close (atol: 0.0001)
The ONNX <span class="hljs-built_in">export</span> succeeded and the exported model was saved at: distilbert_base_uncased_squad_onnx<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-74uhn9">ä¸Šé¢çš„ç¤ºä¾‹è¯´æ˜äº†ä» ğŸ¤— Hub å¯¼å‡ºæ£€æŸ¥ç‚¹çš„è¿‡ç¨‹ã€‚å¯¼å‡ºæœ¬åœ°æ¨¡å‹æ—¶ï¼Œé¦–å…ˆéœ€è¦ç¡®ä¿å°†æ¨¡å‹çš„æƒé‡å’Œåˆ†è¯å™¨æ–‡ä»¶ä¿å­˜åœ¨åŒä¸€ç›®å½•ï¼ˆ<code>local_path</code>ï¼‰ä¸­ã€‚åœ¨ä½¿ç”¨ CLI æ—¶ï¼Œå°† <code>local_path</code> ä¼ é€’ç»™ <code>model</code> å‚æ•°ï¼Œè€Œä¸æ˜¯ ğŸ¤— Hub ä¸Šçš„æ£€æŸ¥ç‚¹åç§°ï¼Œå¹¶æä¾› <code>--task</code> å‚æ•°ã€‚ä½ å¯ä»¥åœ¨ <a href="https://huggingface.co/docs/optimum/exporters/task_manager" rel="nofollow">ğŸ¤— Optimum æ–‡æ¡£</a>ä¸­æŸ¥çœ‹æ”¯æŒçš„ä»»åŠ¡åˆ—è¡¨ã€‚å¦‚æœæœªæä¾› <code>task</code> å‚æ•°ï¼Œå°†é»˜è®¤å¯¼å‡ºä¸å¸¦ç‰¹å®šä»»åŠ¡å¤´çš„æ¨¡å‹æ¶æ„ã€‚</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->optimum-cli <span class="hljs-built_in">export</span> onnx --model local_path --task question-answering distilbert_base_uncased_squad_onnx/<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-136n2jd">ç”Ÿæˆçš„ <code>model.onnx</code> æ–‡ä»¶å¯ä»¥åœ¨æ”¯æŒ ONNX æ ‡å‡†çš„ <a href="https://onnx.ai/supported-tools.html#deployModel" rel="nofollow">è®¸å¤šåŠ é€Ÿå¼•æ“ï¼ˆacceleratorsï¼‰</a> ä¹‹ä¸€ä¸Šè¿è¡Œã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <a href="https://onnxruntime.ai/" rel="nofollow">ONNX Runtime</a> åŠ è½½å’Œè¿è¡Œæ¨¡å‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoTokenizer
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> optimum.onnxruntime <span class="hljs-keyword">import</span> ORTModelForQuestionAnswering

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;distilbert_base_uncased_squad_onnx&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model = ORTModelForQuestionAnswering.from_pretrained(<span class="hljs-string">&quot;distilbert_base_uncased_squad_onnx&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>inputs = tokenizer(<span class="hljs-string">&quot;What am I using?&quot;</span>, <span class="hljs-string">&quot;Using DistilBERT with ONNX Runtime!&quot;</span>, return_tensors=<span class="hljs-string">&quot;pt&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model(**inputs)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-60062m">ä» Hub å¯¼å‡º TensorFlow æ£€æŸ¥ç‚¹çš„è¿‡ç¨‹ä¹Ÿä¸€æ ·ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¯ä» <a href="https://huggingface.co/keras-io" rel="nofollow">Keras ç»„ç»‡</a> å¯¼å‡ºçº¯ TensorFlow æ£€æŸ¥ç‚¹çš„å‘½ä»¤ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->optimum-cli <span class="hljs-built_in">export</span> onnx --model keras-io/transformers-qa distilbert_base_cased_squad_onnx/<!-- HTML_TAG_END --></pre></div>  <h3 class="relative group"><a id="ä½¿ç”¨-optimumonnxruntime-å°†--transformers-æ¨¡å‹å¯¼å‡ºä¸º-onnx" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#ä½¿ç”¨-optimumonnxruntime-å°†--transformers-æ¨¡å‹å¯¼å‡ºä¸º-onnx"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ä½¿ç”¨ optimum.onnxruntime å°† ğŸ¤— Transformers æ¨¡å‹å¯¼å‡ºä¸º ONNX</span></h3> <p data-svelte-h="svelte-fkxwzd">é™¤äº† CLI ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ä»£ç å°† ğŸ¤— Transformers æ¨¡å‹å¯¼å‡ºä¸º ONNXï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> optimum.onnxruntime <span class="hljs-keyword">import</span> ORTModelForSequenceClassification
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoTokenizer

<span class="hljs-meta">&gt;&gt;&gt; </span>model_checkpoint = <span class="hljs-string">&quot;distilbert_base_uncased_squad&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>save_directory = <span class="hljs-string">&quot;onnx/&quot;</span>

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># ä» transformers åŠ è½½æ¨¡å‹å¹¶å°†å…¶å¯¼å‡ºä¸º ONNX</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>ort_model = ORTModelForSequenceClassification.from_pretrained(model_checkpoint, export=<span class="hljs-literal">True</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(model_checkpoint)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># ä¿å­˜ onnx æ¨¡å‹ä»¥åŠåˆ†è¯å™¨</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>ort_model.save_pretrained(save_directory)
<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer.save_pretrained(save_directory)<!-- HTML_TAG_END --></pre></div>  <h3 class="relative group"><a id="å¯¼å‡ºå°šæœªæ”¯æŒçš„æ¶æ„çš„æ¨¡å‹" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#å¯¼å‡ºå°šæœªæ”¯æŒçš„æ¶æ„çš„æ¨¡å‹"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>å¯¼å‡ºå°šæœªæ”¯æŒçš„æ¶æ„çš„æ¨¡å‹</span></h3> <p data-svelte-h="svelte-1quqb9i">å¦‚æœä½ æƒ³è¦ä¸ºå½“å‰æ— æ³•å¯¼å‡ºçš„æ¨¡å‹æ·»åŠ æ”¯æŒï¼Œè¯·å…ˆæ£€æŸ¥ <a href="https://huggingface.co/docs/optimum/exporters/onnx/overview" rel="nofollow"><code>optimum.exporters.onnx</code></a> æ˜¯å¦æ”¯æŒè¯¥æ¨¡å‹ï¼Œå¦‚æœä¸æ”¯æŒï¼Œä½ å¯ä»¥ <a href="https://huggingface.co/docs/optimum/exporters/onnx/usage_guides/contribute" rel="nofollow">ç›´æ¥ä¸º ğŸ¤— Optimum è´¡çŒ®ä»£ç </a>ã€‚</p>  <h3 class="relative group"><a id="ä½¿ç”¨-transformersonnx-å¯¼å‡ºæ¨¡å‹" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#ä½¿ç”¨-transformersonnx-å¯¼å‡ºæ¨¡å‹"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ä½¿ç”¨ transformers.onnx å¯¼å‡ºæ¨¡å‹</span></h3>  <div class="course-tip course-tip-orange bg-gradient-to-br dark:bg-gradient-to-r before:border-orange-500 dark:before:border-orange-800 from-orange-50 dark:from-gray-900 to-white dark:to-gray-950 border border-orange-50 text-orange-700 dark:text-gray-400"><p data-svelte-h="svelte-lsbo4h"><code>tranformers.onnx</code> ä¸å†è¿›è¡Œç»´æŠ¤ï¼Œè¯·å¦‚ä¸Šæ‰€è¿°ï¼Œä½¿ç”¨ ğŸ¤— Optimum å¯¼å‡ºæ¨¡å‹ã€‚è¿™éƒ¨åˆ†å†…å®¹å°†åœ¨æœªæ¥ç‰ˆæœ¬ä¸­åˆ é™¤ã€‚</p></div> <p data-svelte-h="svelte-4do5e5">è¦ä½¿ç”¨ <code>tranformers.onnx</code> å°† ğŸ¤— Transformers æ¨¡å‹å¯¼å‡ºä¸º ONNXï¼Œè¯·å®‰è£…é¢å¤–çš„ä¾èµ–é¡¹ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->pip install transformers[onnx]<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-od71qv">å°† <code>transformers.onnx</code> åŒ…ä½œä¸º Python æ¨¡å—ä½¿ç”¨ï¼Œä»¥ä½¿ç”¨ç°æˆçš„é…ç½®å¯¼å‡ºæ£€æŸ¥ç‚¹ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->python -m transformers.onnx --model=distilbert/distilbert-base-uncased onnx/<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-541la3">ä»¥ä¸Šä»£ç å°†å¯¼å‡ºç”± <code>--model</code> å‚æ•°å®šä¹‰çš„æ£€æŸ¥ç‚¹çš„ ONNX å›¾ã€‚ä¼ å…¥ä»»ä½• ğŸ¤— Hub ä¸Šæˆ–è€…å­˜å‚¨ä¸æœ¬åœ°çš„æ£€æŸ¥ç‚¹ã€‚ç”Ÿæˆçš„ <code>model.onnx</code> æ–‡ä»¶å¯ä»¥åœ¨æ”¯æŒ ONNX æ ‡å‡†çš„ä¼—å¤šåŠ é€Ÿå¼•æ“ä¸Šè¿è¡Œã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ ONNX Runtime åŠ è½½å¹¶è¿è¡Œæ¨¡å‹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoTokenizer
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> onnxruntime <span class="hljs-keyword">import</span> InferenceSession

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;distilbert/distilbert-base-uncased&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>session = InferenceSession(<span class="hljs-string">&quot;onnx/model.onnx&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># ONNX Runtime expects NumPy arrays as input</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>inputs = tokenizer(<span class="hljs-string">&quot;Using DistilBERT with ONNX Runtime!&quot;</span>, return_tensors=<span class="hljs-string">&quot;np&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = session.run(output_names=[<span class="hljs-string">&quot;last_hidden_state&quot;</span>], input_feed=<span class="hljs-built_in">dict</span>(inputs))<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1a8l9fp">å¯ä»¥é€šè¿‡æŸ¥çœ‹æ¯ä¸ªæ¨¡å‹çš„ ONNX é…ç½®æ¥è·å–æ‰€éœ€çš„è¾“å‡ºåï¼ˆä¾‹å¦‚ <code>[&quot;last_hidden_state&quot;]</code>ï¼‰ã€‚ä¾‹å¦‚ï¼Œå¯¹äº DistilBERTï¼Œå¯ä»¥ç”¨ä»¥ä¸‹ä»£ç è·å–è¾“å‡ºåç§°ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers.models.distilbert <span class="hljs-keyword">import</span> DistilBertConfig, DistilBertOnnxConfig

<span class="hljs-meta">&gt;&gt;&gt; </span>config = DistilBertConfig()
<span class="hljs-meta">&gt;&gt;&gt; </span>onnx_config = DistilBertOnnxConfig(config)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">list</span>(onnx_config.outputs.keys()))
[<span class="hljs-string">&quot;last_hidden_state&quot;</span>]<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-48qrdk">ä» Hub å¯¼å‡º TensorFlow æ£€æŸ¥ç‚¹çš„è¿‡ç¨‹ä¹Ÿä¸€æ ·ã€‚å¯¼å‡ºçº¯ TensorFlow æ£€æŸ¥ç‚¹çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->python -m transformers.onnx --model=keras-io/transformers-qa onnx/<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-jrjkwc">è¦å¯¼å‡ºæœ¬åœ°å­˜å‚¨çš„æ¨¡å‹ï¼Œè¯·å°†æ¨¡å‹çš„æƒé‡å’Œåˆ†è¯å™¨æ–‡ä»¶ä¿å­˜åœ¨åŒä¸€ç›®å½•ä¸­ï¼ˆä¾‹å¦‚ <code>local-pt-checkpoint</code>ï¼‰ï¼Œç„¶åé€šè¿‡å°† <code>transformers.onnx</code> åŒ…çš„ <code>--model</code> å‚æ•°æŒ‡å‘è¯¥ç›®å½•ï¼Œå°†å…¶å¯¼å‡ºä¸º ONNXï¼š</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->python -m transformers.onnx --model=local-pt-checkpoint onnx/<!-- HTML_TAG_END --></pre></div>  <p></p> 
			
			<script>
				{
					__sveltekit_48q1vc = {
						assets: "/huggingface-transformers/en",
						base: "/huggingface-transformers/en",
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null];

					Promise.all([
						import("/huggingface-transformers/en/_app/immutable/entry/start.aa5c64e1.js"),
						import("/huggingface-transformers/en/_app/immutable/entry/app.efc953bb.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 52],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		
