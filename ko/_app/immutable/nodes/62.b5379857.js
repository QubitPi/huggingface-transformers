import{s as Nl,o as Al,n as ss}from"../chunks/scheduler.56730f09.js";import{S as Hl,i as El,g as T,s as M,r as g,A as zl,h as b,f as e,c as i,j as Yl,u as h,x as I,k as Jl,y as Sl,a as t,v as J,d as w,t as U,w as f,m as Ll,n as Dl}from"../chunks/index.1f144517.js";import{T as wl}from"../chunks/Tip.41e845e5.js";import{Y as ql}from"../chunks/Youtube.62e0f062.js";import{C as x}from"../chunks/CodeBlock.738eeccb.js";import{D as Kl}from"../chunks/DocNotebookDropdown.243c3df7.js";import{F as is,M as os}from"../chunks/Markdown.c541024b.js";import{H as xs}from"../chunks/Heading.57d46534.js";function Pl(W){let a,o,l='<a href="../model_doc/beit">BEiT</a>, <a href="../model_doc/data2vec-vision">Data2VecVision</a>, <a href="../model_doc/dpt">DPT</a>, <a href="../model_doc/mobilenet_v2">MobileNetV2</a>, <a href="../model_doc/mobilevit">MobileViT</a>, <a href="../model_doc/mobilevitv2">MobileViTV2</a>, <a href="../model_doc/segformer">SegFormer</a>, <a href="../model_doc/upernet">UPerNet</a>';return{c(){a=Ll(`ì´ íŠœí† ë¦¬ì–¼ì—ì„œ ì„¤ëª…í•˜ëŠ” ì‘ì—…ì€ ë‹¤ìŒ ëª¨ë¸ ì•„í‚¤í…ì²˜ì—ì„œ ì§€ì›ë©ë‹ˆë‹¤:

`),o=T("p"),o.innerHTML=l},l(c){a=Dl(c,`ì´ íŠœí† ë¦¬ì–¼ì—ì„œ ì„¤ëª…í•˜ëŠ” ì‘ì—…ì€ ë‹¤ìŒ ëª¨ë¸ ì•„í‚¤í…ì²˜ì—ì„œ ì§€ì›ë©ë‹ˆë‹¤:

`),o=b(c,"P",{"data-svelte-h":!0}),I(o)!=="svelte-19l83ao"&&(o.innerHTML=l)},m(c,y){t(c,a,y),t(c,o,y)},p:ss,d(c){c&&(e(a),e(o))}}}function Ol(W){let a,o='ì´ë¯¸ì§€ ë°ì´í„° ì„¸íŠ¸ì— ë°ì´í„° ì¦ê°•ì„ ì ìš©í•˜ì—¬ ê³¼ì í•©ì— ëŒ€í•´ ëª¨ë¸ì„ ë³´ë‹¤ ê°•ê±´í•˜ê²Œ ë§Œë“œëŠ” ê²ƒì´ ì¼ë°˜ì ì…ë‹ˆë‹¤. ì´ ê°€ì´ë“œì—ì„œëŠ” <a href="https://pytorch.org/vision/stable/index.html" rel="nofollow">torchvision</a>ì˜ <a href="https://pytorch.org/vision/stable/generated/torchvision.transforms.ColorJitter.html" rel="nofollow"><code>ColorJitter</code></a>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ì˜ ìƒ‰ìƒ ì†ì„±ì„ ì„ì˜ë¡œ ë³€ê²½í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ, ìì‹ ì´ ì›í•˜ëŠ” ì´ë¯¸ì§€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.',l,c,y,$,R="ì´ì œ ëª¨ë¸ì— ì‚¬ìš©í•  ì´ë¯¸ì§€ì™€ ì£¼ì„ì„ ì¤€ë¹„í•˜ê¸° ìœ„í•´ ë‘ ê°œì˜ ì „ì²˜ë¦¬ í•¨ìˆ˜ë¥¼ ë§Œë“­ë‹ˆë‹¤. ì´ í•¨ìˆ˜ë“¤ì€ ì´ë¯¸ì§€ë¥¼ <code>pixel_values</code>ë¡œ, ì£¼ì„ì„ <code>labels</code>ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. í›ˆë ¨ ì„¸íŠ¸ì˜ ê²½ìš° ì´ë¯¸ì§€ í”„ë¡œì„¸ì„œì— ì´ë¯¸ì§€ë¥¼ ì œê³µí•˜ê¸° ì „ì— <code>jitter</code>ë¥¼ ì ìš©í•©ë‹ˆë‹¤. í…ŒìŠ¤íŠ¸ ì„¸íŠ¸ì˜ ê²½ìš° ì´ë¯¸ì§€ í”„ë¡œì„¸ì„œëŠ” <code>images</code>ë¥¼ ìë¥´ê³  ì •ê·œí™”í•˜ë©°, í…ŒìŠ¤íŠ¸ ì¤‘ì—ëŠ” ë°ì´í„° ì¦ê°•ì´ ì ìš©ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ <code>labels</code>ë§Œ ìë¦…ë‹ˆë‹¤.",B,_,Z,C,Q="ëª¨ë“  ë°ì´í„° ì„¸íŠ¸ì— <code>jitter</code>ë¥¼ ì ìš©í•˜ë ¤ë©´, ğŸ¤— Datasets <code>set_transform</code> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. ì¦‰ì‹œ ë³€í™˜ì´ ì ìš©ë˜ê¸° ë•Œë¬¸ì— ë” ë¹ ë¥´ê³  ë””ìŠ¤í¬ ê³µê°„ì„ ëœ ì°¨ì§€í•©ë‹ˆë‹¤:",v,d,V;return c=new x({props:{code:"ZnJvbSUyMHRvcmNodmlzaW9uLnRyYW5zZm9ybXMlMjBpbXBvcnQlMjBDb2xvckppdHRlciUwQSUwQWppdHRlciUyMCUzRCUyMENvbG9ySml0dGVyKGJyaWdodG5lc3MlM0QwLjI1JTJDJTIwY29udHJhc3QlM0QwLjI1JTJDJTIwc2F0dXJhdGlvbiUzRDAuMjUlMkMlMjBodWUlM0QwLjEp",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> torchvision.transforms <span class="hljs-keyword">import</span> ColorJitter

<span class="hljs-meta">&gt;&gt;&gt; </span>jitter = ColorJitter(brightness=<span class="hljs-number">0.25</span>, contrast=<span class="hljs-number">0.25</span>, saturation=<span class="hljs-number">0.25</span>, hue=<span class="hljs-number">0.1</span>)`,wrap:!1}}),_=new x({props:{code:"ZGVmJTIwdHJhaW5fdHJhbnNmb3JtcyhleGFtcGxlX2JhdGNoKSUzQSUwQSUyMCUyMCUyMCUyMGltYWdlcyUyMCUzRCUyMCU1QmppdHRlcih4KSUyMGZvciUyMHglMjBpbiUyMGV4YW1wbGVfYmF0Y2glNUIlMjJpbWFnZSUyMiU1RCU1RCUwQSUyMCUyMCUyMCUyMGxhYmVscyUyMCUzRCUyMCU1QnglMjBmb3IlMjB4JTIwaW4lMjBleGFtcGxlX2JhdGNoJTVCJTIyYW5ub3RhdGlvbiUyMiU1RCU1RCUwQSUyMCUyMCUyMCUyMGlucHV0cyUyMCUzRCUyMGltYWdlX3Byb2Nlc3NvcihpbWFnZXMlMkMlMjBsYWJlbHMpJTBBJTIwJTIwJTIwJTIwcmV0dXJuJTIwaW5wdXRzJTBBJTBBJTBBZGVmJTIwdmFsX3RyYW5zZm9ybXMoZXhhbXBsZV9iYXRjaCklM0ElMEElMjAlMjAlMjAlMjBpbWFnZXMlMjAlM0QlMjAlNUJ4JTIwZm9yJTIweCUyMGluJTIwZXhhbXBsZV9iYXRjaCU1QiUyMmltYWdlJTIyJTVEJTVEJTBBJTIwJTIwJTIwJTIwbGFiZWxzJTIwJTNEJTIwJTVCeCUyMGZvciUyMHglMjBpbiUyMGV4YW1wbGVfYmF0Y2glNUIlMjJhbm5vdGF0aW9uJTIyJTVEJTVEJTBBJTIwJTIwJTIwJTIwaW5wdXRzJTIwJTNEJTIwaW1hZ2VfcHJvY2Vzc29yKGltYWdlcyUyQyUyMGxhYmVscyklMEElMjAlMjAlMjAlMjByZXR1cm4lMjBpbnB1dHM=",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">train_transforms</span>(<span class="hljs-params">example_batch</span>):
<span class="hljs-meta">... </span>    images = [jitter(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> example_batch[<span class="hljs-string">&quot;image&quot;</span>]]
<span class="hljs-meta">... </span>    labels = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> example_batch[<span class="hljs-string">&quot;annotation&quot;</span>]]
<span class="hljs-meta">... </span>    inputs = image_processor(images, labels)
<span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> inputs


<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">val_transforms</span>(<span class="hljs-params">example_batch</span>):
<span class="hljs-meta">... </span>    images = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> example_batch[<span class="hljs-string">&quot;image&quot;</span>]]
<span class="hljs-meta">... </span>    labels = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> example_batch[<span class="hljs-string">&quot;annotation&quot;</span>]]
<span class="hljs-meta">... </span>    inputs = image_processor(images, labels)
<span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> inputs`,wrap:!1}}),d=new x({props:{code:"dHJhaW5fZHMuc2V0X3RyYW5zZm9ybSh0cmFpbl90cmFuc2Zvcm1zKSUwQXRlc3RfZHMuc2V0X3RyYW5zZm9ybSh2YWxfdHJhbnNmb3Jtcyk=",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span>train_ds.set_transform(train_transforms)
<span class="hljs-meta">&gt;&gt;&gt; </span>test_ds.set_transform(val_transforms)`,wrap:!1}}),{c(){a=T("p"),a.innerHTML=o,l=M(),g(c.$$.fragment),y=M(),$=T("p"),$.innerHTML=R,B=M(),g(_.$$.fragment),Z=M(),C=T("p"),C.innerHTML=Q,v=M(),g(d.$$.fragment)},l(m){a=b(m,"P",{"data-svelte-h":!0}),I(a)!=="svelte-wfjux"&&(a.innerHTML=o),l=i(m),h(c.$$.fragment,m),y=i(m),$=b(m,"P",{"data-svelte-h":!0}),I($)!=="svelte-nni9bw"&&($.innerHTML=R),B=i(m),h(_.$$.fragment,m),Z=i(m),C=b(m,"P",{"data-svelte-h":!0}),I(C)!=="svelte-co6957"&&(C.innerHTML=Q),v=i(m),h(d.$$.fragment,m)},m(m,u){t(m,a,u),t(m,l,u),J(c,m,u),t(m,y,u),t(m,$,u),t(m,B,u),J(_,m,u),t(m,Z,u),t(m,C,u),t(m,v,u),J(d,m,u),V=!0},p:ss,i(m){V||(w(c.$$.fragment,m),w(_.$$.fragment,m),w(d.$$.fragment,m),V=!0)},o(m){U(c.$$.fragment,m),U(_.$$.fragment,m),U(d.$$.fragment,m),V=!1},d(m){m&&(e(a),e(l),e(y),e($),e(B),e(Z),e(C),e(v)),f(c,m),f(_,m),f(d,m)}}}function sa(W){let a,o;return a=new os({props:{$$slots:{default:[Ol]},$$scope:{ctx:W}}}),{c(){g(a.$$.fragment)},l(l){h(a.$$.fragment,l)},m(l,c){J(a,l,c),o=!0},p(l,c){const y={};c&2&&(y.$$scope={dirty:c,ctx:l}),a.$set(y)},i(l){o||(w(a.$$.fragment,l),o=!0)},o(l){U(a.$$.fragment,l),o=!1},d(l){f(a,l)}}}function la(W){let a,o='ì´ë¯¸ì§€ ë°ì´í„° ì„¸íŠ¸ì— ë°ì´í„° ì¦ê°•ì„ ì ìš©í•˜ì—¬ ê³¼ì í•©ì— ëŒ€í•´ ëª¨ë¸ì„ ë³´ë‹¤ ê°•ê±´í•˜ê²Œ ë§Œë“œëŠ” ê²ƒì´ ì¼ë°˜ì ì…ë‹ˆë‹¤. ì´ ê°€ì´ë“œì—ì„œëŠ” <a href="https://www.tensorflow.org/api_docs/python/tf/image" rel="nofollow"><code>tf.image</code></a>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ì˜ ìƒ‰ìƒ ì†ì„±ì„ ì„ì˜ë¡œ ë³€ê²½í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ, ìì‹ ì´ ì›í•˜ëŠ” ì´ë¯¸ì§€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.',l,c,y="ë³„ê°œì˜ ë‘ ë³€í™˜ í•¨ìˆ˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤:",$,R,B="<li>ì´ë¯¸ì§€ ì¦ê°•ì„ í¬í•¨í•˜ëŠ” í•™ìŠµ ë°ì´í„° ë³€í™˜</li> <li>ğŸ¤— Transformersì˜ ì»´í“¨í„° ë¹„ì „ ëª¨ë¸ì€ ì±„ë„ ìš°ì„  ë ˆì´ì•„ì›ƒì„ ê¸°ëŒ€í•˜ê¸° ë•Œë¬¸ì—, ì´ë¯¸ì§€ë§Œ ë°”ê¾¸ëŠ” ê²€ì¦ ë°ì´í„° ë³€í™˜</li>",_,Z,C,Q,v="ê·¸ëŸ° ë‹¤ìŒ ëª¨ë¸ì„ ìœ„í•´ ë‘ ê°œì˜ ì „ì²˜ë¦¬ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ì´ë¯¸ì§€ ë° ì£¼ì„ ë°°ì¹˜ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤. ì´ í•¨ìˆ˜ë“¤ì€ ì´ë¯¸ì§€ ë³€í™˜ì„ ì ìš©í•˜ê³  ì´ì „ì— ë¡œë“œí•œ <code>image_processor</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ <code>pixel_values</code>ë¡œ, ì£¼ì„ì„ <code>label</code>ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. <code>ImageProcessor</code> ëŠ” ì´ë¯¸ì§€ì˜ í¬ê¸° ì¡°ì •ê³¼ ì •ê·œí™”ë„ ì²˜ë¦¬í•©ë‹ˆë‹¤.",d,V,m,u,Y=`ì „ì²´ ë°ì´í„° ì§‘í•©ì— ì „ì²˜ë¦¬ ë³€í™˜ì„ ì ìš©í•˜ë ¤ë©´ ğŸ¤— Datasets <code>set_transform</code> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
ì¦‰ì‹œ ë³€í™˜ì´ ì ìš©ë˜ê¸° ë•Œë¬¸ì— ë” ë¹ ë¥´ê³  ë””ìŠ¤í¬ ê³µê°„ì„ ëœ ì°¨ì§€í•©ë‹ˆë‹¤:`,G,F,p;return Z=new x({props:{code:"aW1wb3J0JTIwdGVuc29yZmxvdyUyMGFzJTIwdGYlMEElMEElMEFkZWYlMjBhdWdfdHJhbnNmb3JtcyhpbWFnZSklM0ElMEElMjAlMjAlMjAlMjBpbWFnZSUyMCUzRCUyMHRmLmtlcmFzLnV0aWxzLmltZ190b19hcnJheShpbWFnZSklMEElMjAlMjAlMjAlMjBpbWFnZSUyMCUzRCUyMHRmLmltYWdlLnJhbmRvbV9icmlnaHRuZXNzKGltYWdlJTJDJTIwMC4yNSklMEElMjAlMjAlMjAlMjBpbWFnZSUyMCUzRCUyMHRmLmltYWdlLnJhbmRvbV9jb250cmFzdChpbWFnZSUyQyUyMDAuNSUyQyUyMDIuMCklMEElMjAlMjAlMjAlMjBpbWFnZSUyMCUzRCUyMHRmLmltYWdlLnJhbmRvbV9zYXR1cmF0aW9uKGltYWdlJTJDJTIwMC43NSUyQyUyMDEuMjUpJTBBJTIwJTIwJTIwJTIwaW1hZ2UlMjAlM0QlMjB0Zi5pbWFnZS5yYW5kb21faHVlKGltYWdlJTJDJTIwMC4xKSUwQSUyMCUyMCUyMCUyMGltYWdlJTIwJTNEJTIwdGYudHJhbnNwb3NlKGltYWdlJTJDJTIwKDIlMkMlMjAwJTJDJTIwMSkpJTBBJTIwJTIwJTIwJTIwcmV0dXJuJTIwaW1hZ2UlMEElMEElMEFkZWYlMjB0cmFuc2Zvcm1zKGltYWdlKSUzQSUwQSUyMCUyMCUyMCUyMGltYWdlJTIwJTNEJTIwdGYua2VyYXMudXRpbHMuaW1nX3RvX2FycmF5KGltYWdlKSUwQSUyMCUyMCUyMCUyMGltYWdlJTIwJTNEJTIwdGYudHJhbnNwb3NlKGltYWdlJTJDJTIwKDIlMkMlMjAwJTJDJTIwMSkpJTBBJTIwJTIwJTIwJTIwcmV0dXJuJTIwaW1hZ2U=",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf


<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">aug_transforms</span>(<span class="hljs-params">image</span>):
<span class="hljs-meta">... </span>    image = tf.keras.utils.img_to_array(image)
<span class="hljs-meta">... </span>    image = tf.image.random_brightness(image, <span class="hljs-number">0.25</span>)
<span class="hljs-meta">... </span>    image = tf.image.random_contrast(image, <span class="hljs-number">0.5</span>, <span class="hljs-number">2.0</span>)
<span class="hljs-meta">... </span>    image = tf.image.random_saturation(image, <span class="hljs-number">0.75</span>, <span class="hljs-number">1.25</span>)
<span class="hljs-meta">... </span>    image = tf.image.random_hue(image, <span class="hljs-number">0.1</span>)
<span class="hljs-meta">... </span>    image = tf.transpose(image, (<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>))
<span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> image


<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">transforms</span>(<span class="hljs-params">image</span>):
<span class="hljs-meta">... </span>    image = tf.keras.utils.img_to_array(image)
<span class="hljs-meta">... </span>    image = tf.transpose(image, (<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>))
<span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> image`,wrap:!1}}),V=new x({props:{code:"ZGVmJTIwdHJhaW5fdHJhbnNmb3JtcyhleGFtcGxlX2JhdGNoKSUzQSUwQSUyMCUyMCUyMCUyMGltYWdlcyUyMCUzRCUyMCU1QmF1Z190cmFuc2Zvcm1zKHguY29udmVydCglMjJSR0IlMjIpKSUyMGZvciUyMHglMjBpbiUyMGV4YW1wbGVfYmF0Y2glNUIlMjJpbWFnZSUyMiU1RCU1RCUwQSUyMCUyMCUyMCUyMGxhYmVscyUyMCUzRCUyMCU1QnglMjBmb3IlMjB4JTIwaW4lMjBleGFtcGxlX2JhdGNoJTVCJTIyYW5ub3RhdGlvbiUyMiU1RCU1RCUwQSUyMCUyMCUyMCUyMGlucHV0cyUyMCUzRCUyMGltYWdlX3Byb2Nlc3NvcihpbWFnZXMlMkMlMjBsYWJlbHMpJTBBJTIwJTIwJTIwJTIwcmV0dXJuJTIwaW5wdXRzJTBBJTBBJTBBZGVmJTIwdmFsX3RyYW5zZm9ybXMoZXhhbXBsZV9iYXRjaCklM0ElMEElMjAlMjAlMjAlMjBpbWFnZXMlMjAlM0QlMjAlNUJ0cmFuc2Zvcm1zKHguY29udmVydCglMjJSR0IlMjIpKSUyMGZvciUyMHglMjBpbiUyMGV4YW1wbGVfYmF0Y2glNUIlMjJpbWFnZSUyMiU1RCU1RCUwQSUyMCUyMCUyMCUyMGxhYmVscyUyMCUzRCUyMCU1QnglMjBmb3IlMjB4JTIwaW4lMjBleGFtcGxlX2JhdGNoJTVCJTIyYW5ub3RhdGlvbiUyMiU1RCU1RCUwQSUyMCUyMCUyMCUyMGlucHV0cyUyMCUzRCUyMGltYWdlX3Byb2Nlc3NvcihpbWFnZXMlMkMlMjBsYWJlbHMpJTBBJTIwJTIwJTIwJTIwcmV0dXJuJTIwaW5wdXRz",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">train_transforms</span>(<span class="hljs-params">example_batch</span>):
<span class="hljs-meta">... </span>    images = [aug_transforms(x.convert(<span class="hljs-string">&quot;RGB&quot;</span>)) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> example_batch[<span class="hljs-string">&quot;image&quot;</span>]]
<span class="hljs-meta">... </span>    labels = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> example_batch[<span class="hljs-string">&quot;annotation&quot;</span>]]
<span class="hljs-meta">... </span>    inputs = image_processor(images, labels)
<span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> inputs


<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">val_transforms</span>(<span class="hljs-params">example_batch</span>):
<span class="hljs-meta">... </span>    images = [transforms(x.convert(<span class="hljs-string">&quot;RGB&quot;</span>)) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> example_batch[<span class="hljs-string">&quot;image&quot;</span>]]
<span class="hljs-meta">... </span>    labels = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> example_batch[<span class="hljs-string">&quot;annotation&quot;</span>]]
<span class="hljs-meta">... </span>    inputs = image_processor(images, labels)
<span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> inputs`,wrap:!1}}),F=new x({props:{code:"dHJhaW5fZHMuc2V0X3RyYW5zZm9ybSh0cmFpbl90cmFuc2Zvcm1zKSUwQXRlc3RfZHMuc2V0X3RyYW5zZm9ybSh2YWxfdHJhbnNmb3Jtcyk=",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span>train_ds.set_transform(train_transforms)
<span class="hljs-meta">&gt;&gt;&gt; </span>test_ds.set_transform(val_transforms)`,wrap:!1}}),{c(){a=T("p"),a.innerHTML=o,l=M(),c=T("p"),c.textContent=y,$=M(),R=T("ul"),R.innerHTML=B,_=M(),g(Z.$$.fragment),C=M(),Q=T("p"),Q.innerHTML=v,d=M(),g(V.$$.fragment),m=M(),u=T("p"),u.innerHTML=Y,G=M(),g(F.$$.fragment)},l(r){a=b(r,"P",{"data-svelte-h":!0}),I(a)!=="svelte-r0uin4"&&(a.innerHTML=o),l=i(r),c=b(r,"P",{"data-svelte-h":!0}),I(c)!=="svelte-163wstu"&&(c.textContent=y),$=i(r),R=b(r,"UL",{"data-svelte-h":!0}),I(R)!=="svelte-5sercd"&&(R.innerHTML=B),_=i(r),h(Z.$$.fragment,r),C=i(r),Q=b(r,"P",{"data-svelte-h":!0}),I(Q)!=="svelte-1p58cmv"&&(Q.innerHTML=v),d=i(r),h(V.$$.fragment,r),m=i(r),u=b(r,"P",{"data-svelte-h":!0}),I(u)!=="svelte-1trxcly"&&(u.innerHTML=Y),G=i(r),h(F.$$.fragment,r)},m(r,X){t(r,a,X),t(r,l,X),t(r,c,X),t(r,$,X),t(r,R,X),t(r,_,X),J(Z,r,X),t(r,C,X),t(r,Q,X),t(r,d,X),J(V,r,X),t(r,m,X),t(r,u,X),t(r,G,X),J(F,r,X),p=!0},p:ss,i(r){p||(w(Z.$$.fragment,r),w(V.$$.fragment,r),w(F.$$.fragment,r),p=!0)},o(r){U(Z.$$.fragment,r),U(V.$$.fragment,r),U(F.$$.fragment,r),p=!1},d(r){r&&(e(a),e(l),e(c),e($),e(R),e(_),e(C),e(Q),e(d),e(m),e(u),e(G)),f(Z,r),f(V,r),f(F,r)}}}function aa(W){let a,o;return a=new os({props:{$$slots:{default:[la]},$$scope:{ctx:W}}}),{c(){g(a.$$.fragment)},l(l){h(a.$$.fragment,l)},m(l,c){J(a,l,c),o=!0},p(l,c){const y={};c&2&&(y.$$scope={dirty:c,ctx:l}),a.$set(y)},i(l){o||(w(a.$$.fragment,l),o=!0)},o(l){U(a.$$.fragment,l),o=!1},d(l){f(a,l)}}}function ea(W){let a,o;return a=new x({props:{code:"aW1wb3J0JTIwbnVtcHklMjBhcyUyMG5wJTBBaW1wb3J0JTIwdG9yY2glMEFmcm9tJTIwdG9yY2glMjBpbXBvcnQlMjBubiUwQSUwQWRlZiUyMGNvbXB1dGVfbWV0cmljcyhldmFsX3ByZWQpJTNBJTBBJTIwJTIwJTIwJTIwd2l0aCUyMHRvcmNoLm5vX2dyYWQoKSUzQSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMGxvZ2l0cyUyQyUyMGxhYmVscyUyMCUzRCUyMGV2YWxfcHJlZCUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMGxvZ2l0c190ZW5zb3IlMjAlM0QlMjB0b3JjaC5mcm9tX251bXB5KGxvZ2l0cyklMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBsb2dpdHNfdGVuc29yJTIwJTNEJTIwbm4uZnVuY3Rpb25hbC5pbnRlcnBvbGF0ZSglMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBsb2dpdHNfdGVuc29yJTJDJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwc2l6ZSUzRGxhYmVscy5zaGFwZSU1Qi0yJTNBJTVEJTJDJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwbW9kZSUzRCUyMmJpbGluZWFyJTIyJTJDJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwYWxpZ25fY29ybmVycyUzREZhbHNlJTJDJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwKS5hcmdtYXgoZGltJTNEMSklMEElMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBwcmVkX2xhYmVscyUyMCUzRCUyMGxvZ2l0c190ZW5zb3IuZGV0YWNoKCkuY3B1KCkubnVtcHkoKSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMG1ldHJpY3MlMjAlM0QlMjBtZXRyaWMuY29tcHV0ZSglMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBwcmVkaWN0aW9ucyUzRHByZWRfbGFiZWxzJTJDJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwcmVmZXJlbmNlcyUzRGxhYmVscyUyQyUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMG51bV9sYWJlbHMlM0RudW1fbGFiZWxzJTJDJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwaWdub3JlX2luZGV4JTNEMjU1JTJDJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwcmVkdWNlX2xhYmVscyUzREZhbHNlJTJDJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwKSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMGZvciUyMGtleSUyQyUyMHZhbHVlJTIwaW4lMjBtZXRyaWNzLml0ZW1zKCklM0ElMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBpZiUyMGlzaW5zdGFuY2UodmFsdWUlMkMlMjBucC5uZGFycmF5KSUzQSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMG1ldHJpY3MlNUJrZXklNUQlMjAlM0QlMjB2YWx1ZS50b2xpc3QoKSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMHJldHVybiUyMG1ldHJpY3M=",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> torch
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> torch <span class="hljs-keyword">import</span> nn

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">compute_metrics</span>(<span class="hljs-params">eval_pred</span>):
<span class="hljs-meta">... </span>    <span class="hljs-keyword">with</span> torch.no_grad():
<span class="hljs-meta">... </span>        logits, labels = eval_pred
<span class="hljs-meta">... </span>        logits_tensor = torch.from_numpy(logits)
<span class="hljs-meta">... </span>        logits_tensor = nn.functional.interpolate(
<span class="hljs-meta">... </span>            logits_tensor,
<span class="hljs-meta">... </span>            size=labels.shape[-<span class="hljs-number">2</span>:],
<span class="hljs-meta">... </span>            mode=<span class="hljs-string">&quot;bilinear&quot;</span>,
<span class="hljs-meta">... </span>            align_corners=<span class="hljs-literal">False</span>,
<span class="hljs-meta">... </span>        ).argmax(dim=<span class="hljs-number">1</span>)

<span class="hljs-meta">... </span>        pred_labels = logits_tensor.detach().cpu().numpy()
<span class="hljs-meta">... </span>        metrics = metric.compute(
<span class="hljs-meta">... </span>            predictions=pred_labels,
<span class="hljs-meta">... </span>            references=labels,
<span class="hljs-meta">... </span>            num_labels=num_labels,
<span class="hljs-meta">... </span>            ignore_index=<span class="hljs-number">255</span>,
<span class="hljs-meta">... </span>            reduce_labels=<span class="hljs-literal">False</span>,
<span class="hljs-meta">... </span>        )
<span class="hljs-meta">... </span>        <span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> metrics.items():
<span class="hljs-meta">... </span>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(value, np.ndarray):
<span class="hljs-meta">... </span>                metrics[key] = value.tolist()
<span class="hljs-meta">... </span>        <span class="hljs-keyword">return</span> metrics`,wrap:!1}}),{c(){g(a.$$.fragment)},l(l){h(a.$$.fragment,l)},m(l,c){J(a,l,c),o=!0},p:ss,i(l){o||(w(a.$$.fragment,l),o=!0)},o(l){U(a.$$.fragment,l),o=!1},d(l){f(a,l)}}}function ta(W){let a,o;return a=new os({props:{$$slots:{default:[ea]},$$scope:{ctx:W}}}),{c(){g(a.$$.fragment)},l(l){h(a.$$.fragment,l)},m(l,c){J(a,l,c),o=!0},p(l,c){const y={};c&2&&(y.$$scope={dirty:c,ctx:l}),a.$set(y)},i(l){o||(w(a.$$.fragment,l),o=!0)},o(l){U(a.$$.fragment,l),o=!1},d(l){f(a,l)}}}function na(W){let a,o;return a=new x({props:{code:"ZGVmJTIwY29tcHV0ZV9tZXRyaWNzKGV2YWxfcHJlZCklM0ElMEElMjAlMjAlMjAlMjBsb2dpdHMlMkMlMjBsYWJlbHMlMjAlM0QlMjBldmFsX3ByZWQlMEElMjAlMjAlMjAlMjBsb2dpdHMlMjAlM0QlMjB0Zi50cmFuc3Bvc2UobG9naXRzJTJDJTIwcGVybSUzRCU1QjAlMkMlMjAyJTJDJTIwMyUyQyUyMDElNUQpJTBBJTIwJTIwJTIwJTIwbG9naXRzX3Jlc2l6ZWQlMjAlM0QlMjB0Zi5pbWFnZS5yZXNpemUoJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwbG9naXRzJTJDJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwc2l6ZSUzRHRmLnNoYXBlKGxhYmVscyklNUIxJTNBJTVEJTJDJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwbWV0aG9kJTNEJTIyYmlsaW5lYXIlMjIlMkMlMEElMjAlMjAlMjAlMjApJTBBJTBBJTIwJTIwJTIwJTIwcHJlZF9sYWJlbHMlMjAlM0QlMjB0Zi5hcmdtYXgobG9naXRzX3Jlc2l6ZWQlMkMlMjBheGlzJTNELTEpJTBBJTIwJTIwJTIwJTIwbWV0cmljcyUyMCUzRCUyMG1ldHJpYy5jb21wdXRlKCUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMHByZWRpY3Rpb25zJTNEcHJlZF9sYWJlbHMlMkMlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjByZWZlcmVuY2VzJTNEbGFiZWxzJTJDJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwbnVtX2xhYmVscyUzRG51bV9sYWJlbHMlMkMlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBpZ25vcmVfaW5kZXglM0QtMSUyQyUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMHJlZHVjZV9sYWJlbHMlM0RpbWFnZV9wcm9jZXNzb3IuZG9fcmVkdWNlX2xhYmVscyUyQyUwQSUyMCUyMCUyMCUyMCklMEElMEElMjAlMjAlMjAlMjBwZXJfY2F0ZWdvcnlfYWNjdXJhY3klMjAlM0QlMjBtZXRyaWNzLnBvcCglMjJwZXJfY2F0ZWdvcnlfYWNjdXJhY3klMjIpLnRvbGlzdCgpJTBBJTIwJTIwJTIwJTIwcGVyX2NhdGVnb3J5X2lvdSUyMCUzRCUyMG1ldHJpY3MucG9wKCUyMnBlcl9jYXRlZ29yeV9pb3UlMjIpLnRvbGlzdCgpJTBBJTBBJTIwJTIwJTIwJTIwbWV0cmljcy51cGRhdGUoJTdCZiUyMmFjY3VyYWN5XyU3QmlkMmxhYmVsJTVCaSU1RCU3RCUyMiUzQSUyMHYlMjBmb3IlMjBpJTJDJTIwdiUyMGluJTIwZW51bWVyYXRlKHBlcl9jYXRlZ29yeV9hY2N1cmFjeSklN0QpJTBBJTIwJTIwJTIwJTIwbWV0cmljcy51cGRhdGUoJTdCZiUyMmlvdV8lN0JpZDJsYWJlbCU1QmklNUQlN0QlMjIlM0ElMjB2JTIwZm9yJTIwaSUyQyUyMHYlMjBpbiUyMGVudW1lcmF0ZShwZXJfY2F0ZWdvcnlfaW91KSU3RCklMEElMjAlMjAlMjAlMjByZXR1cm4lMjAlN0IlMjJ2YWxfJTIyJTIwJTJCJTIwayUzQSUyMHYlMjBmb3IlMjBrJTJDJTIwdiUyMGluJTIwbWV0cmljcy5pdGVtcygpJTdE",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">compute_metrics</span>(<span class="hljs-params">eval_pred</span>):
<span class="hljs-meta">... </span>    logits, labels = eval_pred
<span class="hljs-meta">... </span>    logits = tf.transpose(logits, perm=[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>])
<span class="hljs-meta">... </span>    logits_resized = tf.image.resize(
<span class="hljs-meta">... </span>        logits,
<span class="hljs-meta">... </span>        size=tf.shape(labels)[<span class="hljs-number">1</span>:],
<span class="hljs-meta">... </span>        method=<span class="hljs-string">&quot;bilinear&quot;</span>,
<span class="hljs-meta">... </span>    )

<span class="hljs-meta">... </span>    pred_labels = tf.argmax(logits_resized, axis=-<span class="hljs-number">1</span>)
<span class="hljs-meta">... </span>    metrics = metric.compute(
<span class="hljs-meta">... </span>        predictions=pred_labels,
<span class="hljs-meta">... </span>        references=labels,
<span class="hljs-meta">... </span>        num_labels=num_labels,
<span class="hljs-meta">... </span>        ignore_index=-<span class="hljs-number">1</span>,
<span class="hljs-meta">... </span>        reduce_labels=image_processor.do_reduce_labels,
<span class="hljs-meta">... </span>    )

<span class="hljs-meta">... </span>    per_category_accuracy = metrics.pop(<span class="hljs-string">&quot;per_category_accuracy&quot;</span>).tolist()
<span class="hljs-meta">... </span>    per_category_iou = metrics.pop(<span class="hljs-string">&quot;per_category_iou&quot;</span>).tolist()

<span class="hljs-meta">... </span>    metrics.update({<span class="hljs-string">f&quot;accuracy_<span class="hljs-subst">{id2label[i]}</span>&quot;</span>: v <span class="hljs-keyword">for</span> i, v <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(per_category_accuracy)})
<span class="hljs-meta">... </span>    metrics.update({<span class="hljs-string">f&quot;iou_<span class="hljs-subst">{id2label[i]}</span>&quot;</span>: v <span class="hljs-keyword">for</span> i, v <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(per_category_iou)})
<span class="hljs-meta">... </span>    <span class="hljs-keyword">return</span> {<span class="hljs-string">&quot;val_&quot;</span> + k: v <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> metrics.items()}`,wrap:!1}}),{c(){g(a.$$.fragment)},l(l){h(a.$$.fragment,l)},m(l,c){J(a,l,c),o=!0},p:ss,i(l){o||(w(a.$$.fragment,l),o=!0)},o(l){U(a.$$.fragment,l),o=!1},d(l){f(a,l)}}}function pa(W){let a,o;return a=new os({props:{$$slots:{default:[na]},$$scope:{ctx:W}}}),{c(){g(a.$$.fragment)},l(l){h(a.$$.fragment,l)},m(l,c){J(a,l,c),o=!0},p(l,c){const y={};c&2&&(y.$$scope={dirty:c,ctx:l}),a.$set(y)},i(l){o||(w(a.$$.fragment,l),o=!0)},o(l){U(a.$$.fragment,l),o=!1},d(l){f(a,l)}}}function ma(W){let a,o='ë§Œì•½ <code>Trainer</code>ë¥¼ ì‚¬ìš©í•´ ëª¨ë¸ì„ ë¯¸ì„¸ ì¡°ì •í•˜ëŠ” ê²ƒì— ìµìˆ™í•˜ì§€ ì•Šë‹¤ë©´, <a href="../training#finetune-with-trainer">ì—¬ê¸°</a>ì—ì„œ ê¸°ë³¸ íŠœí† ë¦¬ì–¼ì„ ì‚´í´ë³´ì„¸ìš”!';return{c(){a=T("p"),a.innerHTML=o},l(l){a=b(l,"P",{"data-svelte-h":!0}),I(a)!=="svelte-3emgbb"&&(a.innerHTML=o)},m(l,c){t(l,a,c)},p:ss,d(l){l&&e(a)}}}function ca(W){let a,o,l,c="ì´ì œ ëª¨ë¸ í•™ìŠµì„ ì‹œì‘í•  ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤! <code>AutoModelForSemanticSegmentation</code>ë¡œ SegFormerë¥¼ ë¶ˆëŸ¬ì˜¤ê³ , ëª¨ë¸ì— ë ˆì´ë¸” IDì™€ ë ˆì´ë¸” í´ë˜ìŠ¤ ê°„ì˜ ë§¤í•‘ì„ ì „ë‹¬í•©ë‹ˆë‹¤:",y,$,R,B,_="ì´ì œ ì„¸ ë‹¨ê³„ë§Œ ë‚¨ì•˜ìŠµë‹ˆë‹¤:",Z,C,Q="<li>í•™ìŠµ í•˜ì´í¼íŒŒë¼ë¯¸í„°ë¥¼ <code>TrainingArguments</code>ì— ì •ì˜í•©ë‹ˆë‹¤. <code>image</code> ì—´ì´ ì‚­ì œë˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì—´ì„ ì œê±°í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. <code>image</code> ì—´ì´ ì—†ìœ¼ë©´ <code>pixel_values</code>ì„ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ëŸ° ê²½ìš°ë¥¼ ë°©ì§€í•˜ë ¤ë©´ <code>remove_unused_columns=False</code>ë¡œ ì„¤ì •í•˜ì„¸ìš”! ìœ ì¼í•˜ê²Œ í•„ìš”í•œ ë‹¤ë¥¸ ë§¤ê°œë³€ìˆ˜ëŠ” ëª¨ë¸ì„ ì €ì¥í•  ìœ„ì¹˜ë¥¼ ì§€ì •í•˜ëŠ” <code>output_dir</code>ì…ë‹ˆë‹¤. <code>push_to_hub=True</code>ë¥¼ ì„¤ì •í•˜ì—¬ ì´ ëª¨ë¸ì„ Hubì— í‘¸ì‹œí•©ë‹ˆë‹¤(ëª¨ë¸ì„ ì—…ë¡œë“œí•˜ë ¤ë©´ Hugging Faceì— ë¡œê·¸ì¸í•´ì•¼ í•©ë‹ˆë‹¤). ê° ì—í¬í¬ê°€ ëë‚  ë•Œë§ˆë‹¤ <code>Trainer</code>ê°€ IoU ë©”íŠ¸ë¦­ì„ í‰ê°€í•˜ê³  í•™ìŠµ ì²´í¬í¬ì¸íŠ¸ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.</li> <li>ëª¨ë¸, ë°ì´í„° ì„¸íŠ¸, í† í¬ë‚˜ì´ì €, ë°ì´í„° ì½œë ˆì´í„°, <code>compute_metrics</code> í•¨ìˆ˜ì™€ í•¨ê»˜ í•™ìŠµ ì¸ìë¥¼ <code>Trainer</code>ì— ì „ë‹¬í•˜ì„¸ìš”.</li> <li>ëª¨ë¸ì„ ë¯¸ì„¸ ì¡°ì •í•˜ê¸° ìœ„í•´ <code>train()</code>ë¥¼ í˜¸ì¶œí•˜ì„¸ìš”.</li>",v,d,V,m,u="í•™ìŠµì´ ì™„ë£Œë˜ë©´, ëˆ„êµ¬ë‚˜ ëª¨ë¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ <code>push_to_hub()</code> ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ Hubì— ëª¨ë¸ì„ ê³µìœ í•˜ì„¸ìš”:",Y,G,F;return a=new wl({props:{$$slots:{default:[ma]},$$scope:{ctx:W}}}),$=new x({props:{code:"ZnJvbSUyMHRyYW5zZm9ybWVycyUyMGltcG9ydCUyMEF1dG9Nb2RlbEZvclNlbWFudGljU2VnbWVudGF0aW9uJTJDJTIwVHJhaW5pbmdBcmd1bWVudHMlMkMlMjBUcmFpbmVyJTBBJTBBbW9kZWwlMjAlM0QlMjBBdXRvTW9kZWxGb3JTZW1hbnRpY1NlZ21lbnRhdGlvbi5mcm9tX3ByZXRyYWluZWQoY2hlY2twb2ludCUyQyUyMGlkMmxhYmVsJTNEaWQybGFiZWwlMkMlMjBsYWJlbDJpZCUzRGxhYmVsMmlkKQ==",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoModelForSemanticSegmentation, TrainingArguments, Trainer

<span class="hljs-meta">&gt;&gt;&gt; </span>model = AutoModelForSemanticSegmentation.from_pretrained(checkpoint, id2label=id2label, label2id=label2id)`,wrap:!1}}),d=new x({props:{code:"dHJhaW5pbmdfYXJncyUyMCUzRCUyMFRyYWluaW5nQXJndW1lbnRzKCUwQSUyMCUyMCUyMCUyMG91dHB1dF9kaXIlM0QlMjJzZWdmb3JtZXItYjAtc2NlbmUtcGFyc2UtMTUwJTIyJTJDJTBBJTIwJTIwJTIwJTIwbGVhcm5pbmdfcmF0ZSUzRDZlLTUlMkMlMEElMjAlMjAlMjAlMjBudW1fdHJhaW5fZXBvY2hzJTNENTAlMkMlMEElMjAlMjAlMjAlMjBwZXJfZGV2aWNlX3RyYWluX2JhdGNoX3NpemUlM0QyJTJDJTBBJTIwJTIwJTIwJTIwcGVyX2RldmljZV9ldmFsX2JhdGNoX3NpemUlM0QyJTJDJTBBJTIwJTIwJTIwJTIwc2F2ZV90b3RhbF9saW1pdCUzRDMlMkMlMEElMjAlMjAlMjAlMjBldmFsdWF0aW9uX3N0cmF0ZWd5JTNEJTIyc3RlcHMlMjIlMkMlMEElMjAlMjAlMjAlMjBzYXZlX3N0cmF0ZWd5JTNEJTIyc3RlcHMlMjIlMkMlMEElMjAlMjAlMjAlMjBzYXZlX3N0ZXBzJTNEMjAlMkMlMEElMjAlMjAlMjAlMjBldmFsX3N0ZXBzJTNEMjAlMkMlMEElMjAlMjAlMjAlMjBsb2dnaW5nX3N0ZXBzJTNEMSUyQyUwQSUyMCUyMCUyMCUyMGV2YWxfYWNjdW11bGF0aW9uX3N0ZXBzJTNENSUyQyUwQSUyMCUyMCUyMCUyMHJlbW92ZV91bnVzZWRfY29sdW1ucyUzREZhbHNlJTJDJTBBJTIwJTIwJTIwJTIwcHVzaF90b19odWIlM0RUcnVlJTJDJTBBKSUwQSUwQXRyYWluZXIlMjAlM0QlMjBUcmFpbmVyKCUwQSUyMCUyMCUyMCUyMG1vZGVsJTNEbW9kZWwlMkMlMEElMjAlMjAlMjAlMjBhcmdzJTNEdHJhaW5pbmdfYXJncyUyQyUwQSUyMCUyMCUyMCUyMHRyYWluX2RhdGFzZXQlM0R0cmFpbl9kcyUyQyUwQSUyMCUyMCUyMCUyMGV2YWxfZGF0YXNldCUzRHRlc3RfZHMlMkMlMEElMjAlMjAlMjAlMjBjb21wdXRlX21ldHJpY3MlM0Rjb21wdXRlX21ldHJpY3MlMkMlMEEpJTBBJTBBdHJhaW5lci50cmFpbigp",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span>training_args = TrainingArguments(
<span class="hljs-meta">... </span>    output_dir=<span class="hljs-string">&quot;segformer-b0-scene-parse-150&quot;</span>,
<span class="hljs-meta">... </span>    learning_rate=<span class="hljs-number">6e-5</span>,
<span class="hljs-meta">... </span>    num_train_epochs=<span class="hljs-number">50</span>,
<span class="hljs-meta">... </span>    per_device_train_batch_size=<span class="hljs-number">2</span>,
<span class="hljs-meta">... </span>    per_device_eval_batch_size=<span class="hljs-number">2</span>,
<span class="hljs-meta">... </span>    save_total_limit=<span class="hljs-number">3</span>,
<span class="hljs-meta">... </span>    evaluation_strategy=<span class="hljs-string">&quot;steps&quot;</span>,
<span class="hljs-meta">... </span>    save_strategy=<span class="hljs-string">&quot;steps&quot;</span>,
<span class="hljs-meta">... </span>    save_steps=<span class="hljs-number">20</span>,
<span class="hljs-meta">... </span>    eval_steps=<span class="hljs-number">20</span>,
<span class="hljs-meta">... </span>    logging_steps=<span class="hljs-number">1</span>,
<span class="hljs-meta">... </span>    eval_accumulation_steps=<span class="hljs-number">5</span>,
<span class="hljs-meta">... </span>    remove_unused_columns=<span class="hljs-literal">False</span>,
<span class="hljs-meta">... </span>    push_to_hub=<span class="hljs-literal">True</span>,
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>trainer = Trainer(
<span class="hljs-meta">... </span>    model=model,
<span class="hljs-meta">... </span>    args=training_args,
<span class="hljs-meta">... </span>    train_dataset=train_ds,
<span class="hljs-meta">... </span>    eval_dataset=test_ds,
<span class="hljs-meta">... </span>    compute_metrics=compute_metrics,
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>trainer.train()`,wrap:!1}}),G=new x({props:{code:"dHJhaW5lci5wdXNoX3RvX2h1Yigp",highlighted:'<span class="hljs-meta">&gt;&gt;&gt; </span>trainer.push_to_hub()',wrap:!1}}),{c(){g(a.$$.fragment),o=M(),l=T("p"),l.innerHTML=c,y=M(),g($.$$.fragment),R=M(),B=T("p"),B.textContent=_,Z=M(),C=T("ol"),C.innerHTML=Q,v=M(),g(d.$$.fragment),V=M(),m=T("p"),m.innerHTML=u,Y=M(),g(G.$$.fragment)},l(p){h(a.$$.fragment,p),o=i(p),l=b(p,"P",{"data-svelte-h":!0}),I(l)!=="svelte-1j8jvu6"&&(l.innerHTML=c),y=i(p),h($.$$.fragment,p),R=i(p),B=b(p,"P",{"data-svelte-h":!0}),I(B)!=="svelte-1vwg7jz"&&(B.textContent=_),Z=i(p),C=b(p,"OL",{"data-svelte-h":!0}),I(C)!=="svelte-ds64a5"&&(C.innerHTML=Q),v=i(p),h(d.$$.fragment,p),V=i(p),m=b(p,"P",{"data-svelte-h":!0}),I(m)!=="svelte-sq2z1z"&&(m.innerHTML=u),Y=i(p),h(G.$$.fragment,p)},m(p,r){J(a,p,r),t(p,o,r),t(p,l,r),t(p,y,r),J($,p,r),t(p,R,r),t(p,B,r),t(p,Z,r),t(p,C,r),t(p,v,r),J(d,p,r),t(p,V,r),t(p,m,r),t(p,Y,r),J(G,p,r),F=!0},p(p,r){const X={};r&2&&(X.$$scope={dirty:r,ctx:p}),a.$set(X)},i(p){F||(w(a.$$.fragment,p),w($.$$.fragment,p),w(d.$$.fragment,p),w(G.$$.fragment,p),F=!0)},o(p){U(a.$$.fragment,p),U($.$$.fragment,p),U(d.$$.fragment,p),U(G.$$.fragment,p),F=!1},d(p){p&&(e(o),e(l),e(y),e(R),e(B),e(Z),e(C),e(v),e(V),e(m),e(Y)),f(a,p),f($,p),f(d,p),f(G,p)}}}function ra(W){let a,o;return a=new os({props:{$$slots:{default:[ca]},$$scope:{ctx:W}}}),{c(){g(a.$$.fragment)},l(l){h(a.$$.fragment,l)},m(l,c){J(a,l,c),o=!0},p(l,c){const y={};c&2&&(y.$$scope={dirty:c,ctx:l}),a.$set(y)},i(l){o||(w(a.$$.fragment,l),o=!0)},o(l){U(a.$$.fragment,l),o=!1},d(l){f(a,l)}}}function Ma(W){let a,o='Kerasë¡œ ëª¨ë¸ì„ ë¯¸ì„¸ ì¡°ì •í•˜ëŠ” ë° ìµìˆ™í•˜ì§€ ì•Šì€ ê²½ìš°, ë¨¼ì € <a href="../training#train-a-tensorflow-model-with-keras">ê¸°ë³¸ íŠœí† ë¦¬ì–¼</a>ì„ í™•ì¸í•´ë³´ì„¸ìš”!';return{c(){a=T("p"),a.innerHTML=o},l(l){a=b(l,"P",{"data-svelte-h":!0}),I(a)!=="svelte-u4hk9"&&(a.innerHTML=o)},m(l,c){t(l,a,c)},p:ss,d(l){l&&e(a)}}}function ia(W){let a,o,l,c="TensorFlowì—ì„œ ëª¨ë¸ì„ ë¯¸ì„¸ ì¡°ì •í•˜ë ¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¥´ì„¸ìš”:",y,$,R="<li>í•™ìŠµ í•˜ì´í¼íŒŒë¼ë¯¸í„°ë¥¼ ì •ì˜í•˜ê³  ì˜µí‹°ë§ˆì´ì €ì™€ í•™ìŠµë¥  ìŠ¤ì¼€ì¥´ëŸ¬ë¥¼ ì„¤ì •í•˜ì„¸ìš”.</li> <li>ì‚¬ì „ í•™ìŠµëœ ëª¨ë¸ì„ ì¸ìŠ¤í„´ìŠ¤í™”í•˜ì„¸ìš”.</li> <li>ğŸ¤— Datasetì„ <code>tf.data.Dataset</code>ë¡œ ë³€í™˜í•˜ì„¸ìš”.</li> <li>ëª¨ë¸ì„ ì»´íŒŒì¼í•˜ì„¸ìš”.</li> <li>ì½œë°±ì„ ì¶”ê°€í•˜ì—¬ ë©”íŠ¸ë¦­ì„ ê³„ì‚°í•˜ê³  ğŸ¤— Hubì— ëª¨ë¸ì„ ì—…ë¡œë“œí•˜ì„¸ìš”.</li> <li><code>fit()</code> ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í›ˆë ¨ì„ ì‹¤í–‰í•˜ì„¸ìš”.</li>",B,_,Z="í•˜ì´í¼íŒŒë¼ë¯¸í„°, ì˜µí‹°ë§ˆì´ì €, í•™ìŠµë¥  ìŠ¤ì¼€ì¥´ëŸ¬ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒìœ¼ë¡œ ì‹œì‘í•˜ì„¸ìš”:",C,Q,v,d,V="ê·¸ëŸ° ë‹¤ìŒ ë ˆì´ë¸” ë§¤í•‘ê³¼ í•¨ê»˜ <code>TFAutoModelForSemanticSegmentation</code>ì„ ì‚¬ìš©í•˜ì—¬ SegFormerë¥¼ ë¶ˆëŸ¬ì˜¤ê³  ì˜µí‹°ë§ˆì´ì €ë¡œ ì»´íŒŒì¼í•©ë‹ˆë‹¤. íŠ¸ëœìŠ¤í¬ë¨¸ ëª¨ë¸ì€ ëª¨ë‘ ë””í´íŠ¸ë¡œ íƒœìŠ¤í¬ ê´€ë ¨ ì†ì‹¤ í•¨ìˆ˜ê°€ ìˆìœ¼ë¯€ë¡œ ì›ì¹˜ ì•Šìœ¼ë©´ ì§€ì •í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤:",m,u,Y,G,F="<code>to_tf_dataset</code> ì™€ <code>DefaultDataCollator</code>ë¥¼ ì‚¬ìš©í•´ ë°ì´í„° ì„¸íŠ¸ë¥¼ <code>tf.data.Dataset</code> í¬ë§·ìœ¼ë¡œ ë³€í™˜í•˜ì„¸ìš”:",p,r,X,E,S='ì˜ˆì¸¡ìœ¼ë¡œ ì •í™•ë„ë¥¼ ê³„ì‚°í•˜ê³  ëª¨ë¸ì„ ğŸ¤— Hubë¡œ í‘¸ì‹œí•˜ë ¤ë©´ <a href="../main_classes/keras_callbacks">Keras callbacks</a>ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. <code>compute_metrics</code> í•¨ìˆ˜ë¥¼ <code>KerasMetricCallback</code>ì— ì „ë‹¬í•˜ê³ , ëª¨ë¸ ì—…ë¡œë“œë¥¼ ìœ„í•´ <code>PushToHubCallback</code>ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”:',q,N,js,z,L="ì´ì œ ëª¨ë¸ì„ í›ˆë ¨í•  ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤! í›ˆë ¨ ë° ê²€ì¦ ë°ì´í„° ì„¸íŠ¸, ì—í¬í¬ ìˆ˜ì™€ í•¨ê»˜ <code>fit()</code>ì„ í˜¸ì¶œí•˜ê³ , ì½œë°±ì„ ì‚¬ìš©í•˜ì—¬ ëª¨ë¸ì„ ë¯¸ì„¸ ì¡°ì •í•©ë‹ˆë‹¤:",K,A,P,H,Rs="ì¶•í•˜í•©ë‹ˆë‹¤! ëª¨ë¸ì„ ë¯¸ì„¸ ì¡°ì •í•˜ê³  ğŸ¤— Hubì— ê³µìœ í–ˆìŠµë‹ˆë‹¤. ì´ì œ ì¶”ë¡ ì— ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!",O;return a=new wl({props:{$$slots:{default:[Ma]},$$scope:{ctx:W}}}),Q=new x({props:{code:"ZnJvbSUyMHRyYW5zZm9ybWVycyUyMGltcG9ydCUyMGNyZWF0ZV9vcHRpbWl6ZXIlMEElMEFiYXRjaF9zaXplJTIwJTNEJTIwMiUwQW51bV9lcG9jaHMlMjAlM0QlMjA1MCUwQW51bV90cmFpbl9zdGVwcyUyMCUzRCUyMGxlbih0cmFpbl9kcyklMjAqJTIwbnVtX2Vwb2NocyUwQWxlYXJuaW5nX3JhdGUlMjAlM0QlMjA2ZS01JTBBd2VpZ2h0X2RlY2F5X3JhdGUlMjAlM0QlMjAwLjAxJTBBJTBBb3B0aW1pemVyJTJDJTIwbHJfc2NoZWR1bGUlMjAlM0QlMjBjcmVhdGVfb3B0aW1pemVyKCUwQSUyMCUyMCUyMCUyMGluaXRfbHIlM0RsZWFybmluZ19yYXRlJTJDJTBBJTIwJTIwJTIwJTIwbnVtX3RyYWluX3N0ZXBzJTNEbnVtX3RyYWluX3N0ZXBzJTJDJTBBJTIwJTIwJTIwJTIwd2VpZ2h0X2RlY2F5X3JhdGUlM0R3ZWlnaHRfZGVjYXlfcmF0ZSUyQyUwQSUyMCUyMCUyMCUyMG51bV93YXJtdXBfc3RlcHMlM0QwJTJDJTBBKQ==",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> create_optimizer

<span class="hljs-meta">&gt;&gt;&gt; </span>batch_size = <span class="hljs-number">2</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>num_epochs = <span class="hljs-number">50</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>num_train_steps = <span class="hljs-built_in">len</span>(train_ds) * num_epochs
<span class="hljs-meta">&gt;&gt;&gt; </span>learning_rate = <span class="hljs-number">6e-5</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>weight_decay_rate = <span class="hljs-number">0.01</span>

<span class="hljs-meta">&gt;&gt;&gt; </span>optimizer, lr_schedule = create_optimizer(
<span class="hljs-meta">... </span>    init_lr=learning_rate,
<span class="hljs-meta">... </span>    num_train_steps=num_train_steps,
<span class="hljs-meta">... </span>    weight_decay_rate=weight_decay_rate,
<span class="hljs-meta">... </span>    num_warmup_steps=<span class="hljs-number">0</span>,
<span class="hljs-meta">... </span>)`,wrap:!1}}),u=new x({props:{code:"ZnJvbSUyMHRyYW5zZm9ybWVycyUyMGltcG9ydCUyMFRGQXV0b01vZGVsRm9yU2VtYW50aWNTZWdtZW50YXRpb24lMEElMEFtb2RlbCUyMCUzRCUyMFRGQXV0b01vZGVsRm9yU2VtYW50aWNTZWdtZW50YXRpb24uZnJvbV9wcmV0cmFpbmVkKCUwQSUyMCUyMCUyMCUyMGNoZWNrcG9pbnQlMkMlMEElMjAlMjAlMjAlMjBpZDJsYWJlbCUzRGlkMmxhYmVsJTJDJTBBJTIwJTIwJTIwJTIwbGFiZWwyaWQlM0RsYWJlbDJpZCUyQyUwQSklMEFtb2RlbC5jb21waWxlKG9wdGltaXplciUzRG9wdGltaXplciklMjAlMjAlMjMlMjAlRUMlODYlOTAlRUMlOEIlQTQlMjAlRUQlOTUlQTglRUMlODglOTglMjAlRUMlOUQlQjglRUMlOUUlOTAlRUElQjAlODAlMjAlRUMlOTclODYlRUMlOEElQjUlRUIlOEIlODglRUIlOEIlQTQh",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> TFAutoModelForSemanticSegmentation

<span class="hljs-meta">&gt;&gt;&gt; </span>model = TFAutoModelForSemanticSegmentation.from_pretrained(
<span class="hljs-meta">... </span>    checkpoint,
<span class="hljs-meta">... </span>    id2label=id2label,
<span class="hljs-meta">... </span>    label2id=label2id,
<span class="hljs-meta">... </span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>model.<span class="hljs-built_in">compile</span>(optimizer=optimizer)  <span class="hljs-comment"># ì†ì‹¤ í•¨ìˆ˜ ì¸ìê°€ ì—†ìŠµë‹ˆë‹¤!</span>`,wrap:!1}}),r=new x({props:{code:"ZnJvbSUyMHRyYW5zZm9ybWVycyUyMGltcG9ydCUyMERlZmF1bHREYXRhQ29sbGF0b3IlMEElMEFkYXRhX2NvbGxhdG9yJTIwJTNEJTIwRGVmYXVsdERhdGFDb2xsYXRvcihyZXR1cm5fdGVuc29ycyUzRCUyMnRmJTIyKSUwQSUwQXRmX3RyYWluX2RhdGFzZXQlMjAlM0QlMjB0cmFpbl9kcy50b190Zl9kYXRhc2V0KCUwQSUyMCUyMCUyMCUyMGNvbHVtbnMlM0QlNUIlMjJwaXhlbF92YWx1ZXMlMjIlMkMlMjAlMjJsYWJlbCUyMiU1RCUyQyUwQSUyMCUyMCUyMCUyMHNodWZmbGUlM0RUcnVlJTJDJTBBJTIwJTIwJTIwJTIwYmF0Y2hfc2l6ZSUzRGJhdGNoX3NpemUlMkMlMEElMjAlMjAlMjAlMjBjb2xsYXRlX2ZuJTNEZGF0YV9jb2xsYXRvciUyQyUwQSklMEElMEF0Zl9ldmFsX2RhdGFzZXQlMjAlM0QlMjB0ZXN0X2RzLnRvX3RmX2RhdGFzZXQoJTBBJTIwJTIwJTIwJTIwY29sdW1ucyUzRCU1QiUyMnBpeGVsX3ZhbHVlcyUyMiUyQyUyMCUyMmxhYmVsJTIyJTVEJTJDJTBBJTIwJTIwJTIwJTIwc2h1ZmZsZSUzRFRydWUlMkMlMEElMjAlMjAlMjAlMjBiYXRjaF9zaXplJTNEYmF0Y2hfc2l6ZSUyQyUwQSUyMCUyMCUyMCUyMGNvbGxhdGVfZm4lM0RkYXRhX2NvbGxhdG9yJTJDJTBBKQ==",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> DefaultDataCollator

<span class="hljs-meta">&gt;&gt;&gt; </span>data_collator = DefaultDataCollator(return_tensors=<span class="hljs-string">&quot;tf&quot;</span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>tf_train_dataset = train_ds.to_tf_dataset(
<span class="hljs-meta">... </span>    columns=[<span class="hljs-string">&quot;pixel_values&quot;</span>, <span class="hljs-string">&quot;label&quot;</span>],
<span class="hljs-meta">... </span>    shuffle=<span class="hljs-literal">True</span>,
<span class="hljs-meta">... </span>    batch_size=batch_size,
<span class="hljs-meta">... </span>    collate_fn=data_collator,
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>tf_eval_dataset = test_ds.to_tf_dataset(
<span class="hljs-meta">... </span>    columns=[<span class="hljs-string">&quot;pixel_values&quot;</span>, <span class="hljs-string">&quot;label&quot;</span>],
<span class="hljs-meta">... </span>    shuffle=<span class="hljs-literal">True</span>,
<span class="hljs-meta">... </span>    batch_size=batch_size,
<span class="hljs-meta">... </span>    collate_fn=data_collator,
<span class="hljs-meta">... </span>)`,wrap:!1}}),N=new x({props:{code:"ZnJvbSUyMHRyYW5zZm9ybWVycy5rZXJhc19jYWxsYmFja3MlMjBpbXBvcnQlMjBLZXJhc01ldHJpY0NhbGxiYWNrJTJDJTIwUHVzaFRvSHViQ2FsbGJhY2slMEElMEFtZXRyaWNfY2FsbGJhY2slMjAlM0QlMjBLZXJhc01ldHJpY0NhbGxiYWNrKCUwQSUyMCUyMCUyMCUyMG1ldHJpY19mbiUzRGNvbXB1dGVfbWV0cmljcyUyQyUyMGV2YWxfZGF0YXNldCUzRHRmX2V2YWxfZGF0YXNldCUyQyUyMGJhdGNoX3NpemUlM0RiYXRjaF9zaXplJTJDJTIwbGFiZWxfY29scyUzRCU1QiUyMmxhYmVscyUyMiU1RCUwQSklMEElMEFwdXNoX3RvX2h1Yl9jYWxsYmFjayUyMCUzRCUyMFB1c2hUb0h1YkNhbGxiYWNrKG91dHB1dF9kaXIlM0QlMjJzY2VuZV9zZWdtZW50YXRpb24lMjIlMkMlMjB0b2tlbml6ZXIlM0RpbWFnZV9wcm9jZXNzb3IpJTBBJTBBY2FsbGJhY2tzJTIwJTNEJTIwJTVCbWV0cmljX2NhbGxiYWNrJTJDJTIwcHVzaF90b19odWJfY2FsbGJhY2slNUQ=",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers.keras_callbacks <span class="hljs-keyword">import</span> KerasMetricCallback, PushToHubCallback

<span class="hljs-meta">&gt;&gt;&gt; </span>metric_callback = KerasMetricCallback(
<span class="hljs-meta">... </span>    metric_fn=compute_metrics, eval_dataset=tf_eval_dataset, batch_size=batch_size, label_cols=[<span class="hljs-string">&quot;labels&quot;</span>]
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>push_to_hub_callback = PushToHubCallback(output_dir=<span class="hljs-string">&quot;scene_segmentation&quot;</span>, tokenizer=image_processor)

<span class="hljs-meta">&gt;&gt;&gt; </span>callbacks = [metric_callback, push_to_hub_callback]`,wrap:!1}}),A=new x({props:{code:"bW9kZWwuZml0KCUwQSUyMCUyMCUyMCUyMHRmX3RyYWluX2RhdGFzZXQlMkMlMEElMjAlMjAlMjAlMjB2YWxpZGF0aW9uX2RhdGElM0R0Zl9ldmFsX2RhdGFzZXQlMkMlMEElMjAlMjAlMjAlMjBjYWxsYmFja3MlM0RjYWxsYmFja3MlMkMlMEElMjAlMjAlMjAlMjBlcG9jaHMlM0RudW1fZXBvY2hzJTJDJTBBKQ==",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span>model.fit(
<span class="hljs-meta">... </span>    tf_train_dataset,
<span class="hljs-meta">... </span>    validation_data=tf_eval_dataset,
<span class="hljs-meta">... </span>    callbacks=callbacks,
<span class="hljs-meta">... </span>    epochs=num_epochs,
<span class="hljs-meta">... </span>)`,wrap:!1}}),{c(){g(a.$$.fragment),o=M(),l=T("p"),l.textContent=c,y=M(),$=T("ol"),$.innerHTML=R,B=M(),_=T("p"),_.textContent=Z,C=M(),g(Q.$$.fragment),v=M(),d=T("p"),d.innerHTML=V,m=M(),g(u.$$.fragment),Y=M(),G=T("p"),G.innerHTML=F,p=M(),g(r.$$.fragment),X=M(),E=T("p"),E.innerHTML=S,q=M(),g(N.$$.fragment),js=M(),z=T("p"),z.innerHTML=L,K=M(),g(A.$$.fragment),P=M(),H=T("p"),H.textContent=Rs},l(j){h(a.$$.fragment,j),o=i(j),l=b(j,"P",{"data-svelte-h":!0}),I(l)!=="svelte-um2evk"&&(l.textContent=c),y=i(j),$=b(j,"OL",{"data-svelte-h":!0}),I($)!=="svelte-173h0e5"&&($.innerHTML=R),B=i(j),_=b(j,"P",{"data-svelte-h":!0}),I(_)!=="svelte-wcragq"&&(_.textContent=Z),C=i(j),h(Q.$$.fragment,j),v=i(j),d=b(j,"P",{"data-svelte-h":!0}),I(d)!=="svelte-nqumm8"&&(d.innerHTML=V),m=i(j),h(u.$$.fragment,j),Y=i(j),G=b(j,"P",{"data-svelte-h":!0}),I(G)!=="svelte-1qohu6b"&&(G.innerHTML=F),p=i(j),h(r.$$.fragment,j),X=i(j),E=b(j,"P",{"data-svelte-h":!0}),I(E)!=="svelte-1piamfe"&&(E.innerHTML=S),q=i(j),h(N.$$.fragment,j),js=i(j),z=b(j,"P",{"data-svelte-h":!0}),I(z)!=="svelte-1ud4ghv"&&(z.innerHTML=L),K=i(j),h(A.$$.fragment,j),P=i(j),H=b(j,"P",{"data-svelte-h":!0}),I(H)!=="svelte-1trgvwr"&&(H.textContent=Rs)},m(j,k){J(a,j,k),t(j,o,k),t(j,l,k),t(j,y,k),t(j,$,k),t(j,B,k),t(j,_,k),t(j,C,k),J(Q,j,k),t(j,v,k),t(j,d,k),t(j,m,k),J(u,j,k),t(j,Y,k),t(j,G,k),t(j,p,k),J(r,j,k),t(j,X,k),t(j,E,k),t(j,q,k),J(N,j,k),t(j,js,k),t(j,z,k),t(j,K,k),J(A,j,k),t(j,P,k),t(j,H,k),O=!0},p(j,k){const D={};k&2&&(D.$$scope={dirty:k,ctx:j}),a.$set(D)},i(j){O||(w(a.$$.fragment,j),w(Q.$$.fragment,j),w(u.$$.fragment,j),w(r.$$.fragment,j),w(N.$$.fragment,j),w(A.$$.fragment,j),O=!0)},o(j){U(a.$$.fragment,j),U(Q.$$.fragment,j),U(u.$$.fragment,j),U(r.$$.fragment,j),U(N.$$.fragment,j),U(A.$$.fragment,j),O=!1},d(j){j&&(e(o),e(l),e(y),e($),e(B),e(_),e(C),e(v),e(d),e(m),e(Y),e(G),e(p),e(X),e(E),e(q),e(js),e(z),e(K),e(P),e(H)),f(a,j),f(Q,j),f(u,j),f(r,j),f(N,j),f(A,j)}}}function oa(W){let a,o;return a=new os({props:{$$slots:{default:[ia]},$$scope:{ctx:W}}}),{c(){g(a.$$.fragment)},l(l){h(a.$$.fragment,l)},m(l,c){J(a,l,c),o=!0},p(l,c){const y={};c&2&&(y.$$scope={dirty:c,ctx:l}),a.$set(y)},i(l){o||(w(a.$$.fragment,l),o=!0)},o(l){U(a.$$.fragment,l),o=!1},d(l){f(a,l)}}}function ja(W){let a,o="ì¶”ë¡ ì„ ìœ„í•´ ë¯¸ì„¸ ì¡°ì •í•œ ëª¨ë¸ì„ ì‹œí—˜í•´ ë³´ëŠ” ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì€ <code>pipeline()</code>ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ëª¨ë¸ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ ë¶„í• ì„ ìœ„í•œ <code>pipeline</code>ì„ ì¸ìŠ¤í„´ìŠ¤í™”í•˜ê³  ì´ë¯¸ì§€ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤:",l,c,y,$,R="ì›í•˜ëŠ” ê²½ìš° <code>pipeline</code>ì˜ ê²°ê³¼ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ë³µì œí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ì´ë¯¸ì§€ í”„ë¡œì„¸ì„œë¡œ ì´ë¯¸ì§€ë¥¼ ì²˜ë¦¬í•˜ê³  <code>pixel_values</code>ì„ GPUì— ë°°ì¹˜í•©ë‹ˆë‹¤:",B,_,Z,C,Q="ëª¨ë¸ì— ì…ë ¥ì„ ì „ë‹¬í•˜ê³  <code>logits</code>ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤:",v,d,V,m,u="ê·¸ëŸ° ë‹¤ìŒ ë¡œì§“ì˜ í¬ê¸°ë¥¼ ì›ë³¸ ì´ë¯¸ì§€ í¬ê¸°ë¡œ ë‹¤ì‹œ ì¡°ì •í•©ë‹ˆë‹¤:",Y,G,F;return c=new x({props:{code:"ZnJvbSUyMHRyYW5zZm9ybWVycyUyMGltcG9ydCUyMHBpcGVsaW5lJTBBJTBBc2VnbWVudGVyJTIwJTNEJTIwcGlwZWxpbmUoJTIyaW1hZ2Utc2VnbWVudGF0aW9uJTIyJTJDJTIwbW9kZWwlM0QlMjJteV9hd2Vzb21lX3NlZ19tb2RlbCUyMiklMEFzZWdtZW50ZXIoaW1hZ2Up",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> pipeline

<span class="hljs-meta">&gt;&gt;&gt; </span>segmenter = pipeline(<span class="hljs-string">&quot;image-segmentation&quot;</span>, model=<span class="hljs-string">&quot;my_awesome_seg_model&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>segmenter(image)
[{<span class="hljs-string">&#x27;score&#x27;</span>: <span class="hljs-literal">None</span>,
  <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;wall&#x27;</span>,
  <span class="hljs-string">&#x27;mask&#x27;</span>: &lt;PIL.Image.Image image mode=L size=640x427 at <span class="hljs-number">0x7FD5B2062690</span>&gt;},
 {<span class="hljs-string">&#x27;score&#x27;</span>: <span class="hljs-literal">None</span>,
  <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;sky&#x27;</span>,
  <span class="hljs-string">&#x27;mask&#x27;</span>: &lt;PIL.Image.Image image mode=L size=640x427 at <span class="hljs-number">0x7FD5B2062A50</span>&gt;},
 {<span class="hljs-string">&#x27;score&#x27;</span>: <span class="hljs-literal">None</span>,
  <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;floor&#x27;</span>,
  <span class="hljs-string">&#x27;mask&#x27;</span>: &lt;PIL.Image.Image image mode=L size=640x427 at <span class="hljs-number">0x7FD5B2062B50</span>&gt;},
 {<span class="hljs-string">&#x27;score&#x27;</span>: <span class="hljs-literal">None</span>,
  <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;ceiling&#x27;</span>,
  <span class="hljs-string">&#x27;mask&#x27;</span>: &lt;PIL.Image.Image image mode=L size=640x427 at <span class="hljs-number">0x7FD5B2062A10</span>&gt;},
 {<span class="hljs-string">&#x27;score&#x27;</span>: <span class="hljs-literal">None</span>,
  <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;bed &#x27;</span>,
  <span class="hljs-string">&#x27;mask&#x27;</span>: &lt;PIL.Image.Image image mode=L size=640x427 at <span class="hljs-number">0x7FD5B2062E90</span>&gt;},
 {<span class="hljs-string">&#x27;score&#x27;</span>: <span class="hljs-literal">None</span>,
  <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;windowpane&#x27;</span>,
  <span class="hljs-string">&#x27;mask&#x27;</span>: &lt;PIL.Image.Image image mode=L size=640x427 at <span class="hljs-number">0x7FD5B2062390</span>&gt;},
 {<span class="hljs-string">&#x27;score&#x27;</span>: <span class="hljs-literal">None</span>,
  <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;cabinet&#x27;</span>,
  <span class="hljs-string">&#x27;mask&#x27;</span>: &lt;PIL.Image.Image image mode=L size=640x427 at <span class="hljs-number">0x7FD5B2062550</span>&gt;},
 {<span class="hljs-string">&#x27;score&#x27;</span>: <span class="hljs-literal">None</span>,
  <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;chair&#x27;</span>,
  <span class="hljs-string">&#x27;mask&#x27;</span>: &lt;PIL.Image.Image image mode=L size=640x427 at <span class="hljs-number">0x7FD5B2062D90</span>&gt;},
 {<span class="hljs-string">&#x27;score&#x27;</span>: <span class="hljs-literal">None</span>,
  <span class="hljs-string">&#x27;label&#x27;</span>: <span class="hljs-string">&#x27;armchair&#x27;</span>,
  <span class="hljs-string">&#x27;mask&#x27;</span>: &lt;PIL.Image.Image image mode=L size=640x427 at <span class="hljs-number">0x7FD5B2062E10</span>&gt;}]`,wrap:!1}}),_=new x({props:{code:"ZGV2aWNlJTIwJTNEJTIwdG9yY2guZGV2aWNlKCUyMmN1ZGElMjIlMjBpZiUyMHRvcmNoLmN1ZGEuaXNfYXZhaWxhYmxlKCklMjBlbHNlJTIwJTIyY3B1JTIyKSUyMCUyMCUyMyUyMCVFQSVCMCU4MCVFQiU4QSVBNSVFRCU5NSU5OCVFQiU4QiVBNCVFQiVBOSVCNCUyMEdQVSVFQiVBNSVCQyUyMCVFQyU4MiVBQyVFQyU5QSVBOSVFRCU5NSU5OCVFQSVCMyVBMCUyQyUyMCVFQSVCNyVCOCVFQiVBMCU4NyVFQyVBNyU4MCUyMCVFQyU5NSU4QSVFQiU4QiVBNCVFQiVBOSVCNCUyMENQVSVFQiVBNSVCQyUyMCVFQyU4MiVBQyVFQyU5QSVBOSVFRCU5NSU5OCVFQyU4NCVCOCVFQyU5QSU5NCUwQWVuY29kaW5nJTIwJTNEJTIwaW1hZ2VfcHJvY2Vzc29yKGltYWdlJTJDJTIwcmV0dXJuX3RlbnNvcnMlM0QlMjJwdCUyMiklMEFwaXhlbF92YWx1ZXMlMjAlM0QlMjBlbmNvZGluZy5waXhlbF92YWx1ZXMudG8oZGV2aWNlKQ==",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span>device = torch.device(<span class="hljs-string">&quot;cuda&quot;</span> <span class="hljs-keyword">if</span> torch.cuda.is_available() <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;cpu&quot;</span>)  <span class="hljs-comment"># ê°€ëŠ¥í•˜ë‹¤ë©´ GPUë¥¼ ì‚¬ìš©í•˜ê³ , ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ CPUë¥¼ ì‚¬ìš©í•˜ì„¸ìš”</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>encoding = image_processor(image, return_tensors=<span class="hljs-string">&quot;pt&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>pixel_values = encoding.pixel_values.to(device)`,wrap:!1}}),d=new x({props:{code:"b3V0cHV0cyUyMCUzRCUyMG1vZGVsKHBpeGVsX3ZhbHVlcyUzRHBpeGVsX3ZhbHVlcyklMEFsb2dpdHMlMjAlM0QlMjBvdXRwdXRzLmxvZ2l0cy5jcHUoKQ==",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span>outputs = model(pixel_values=pixel_values)
<span class="hljs-meta">&gt;&gt;&gt; </span>logits = outputs.logits.cpu()`,wrap:!1}}),G=new x({props:{code:"dXBzYW1wbGVkX2xvZ2l0cyUyMCUzRCUyMG5uLmZ1bmN0aW9uYWwuaW50ZXJwb2xhdGUoJTBBJTIwJTIwJTIwJTIwbG9naXRzJTJDJTBBJTIwJTIwJTIwJTIwc2l6ZSUzRGltYWdlLnNpemUlNUIlM0ElM0EtMSU1RCUyQyUwQSUyMCUyMCUyMCUyMG1vZGUlM0QlMjJiaWxpbmVhciUyMiUyQyUwQSUyMCUyMCUyMCUyMGFsaWduX2Nvcm5lcnMlM0RGYWxzZSUyQyUwQSklMEElMEFwcmVkX3NlZyUyMCUzRCUyMHVwc2FtcGxlZF9sb2dpdHMuYXJnbWF4KGRpbSUzRDEpJTVCMCU1RA==",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span>upsampled_logits = nn.functional.interpolate(
<span class="hljs-meta">... </span>    logits,
<span class="hljs-meta">... </span>    size=image.size[::-<span class="hljs-number">1</span>],
<span class="hljs-meta">... </span>    mode=<span class="hljs-string">&quot;bilinear&quot;</span>,
<span class="hljs-meta">... </span>    align_corners=<span class="hljs-literal">False</span>,
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>pred_seg = upsampled_logits.argmax(dim=<span class="hljs-number">1</span>)[<span class="hljs-number">0</span>]`,wrap:!1}}),{c(){a=T("p"),a.innerHTML=o,l=M(),g(c.$$.fragment),y=M(),$=T("p"),$.innerHTML=R,B=M(),g(_.$$.fragment),Z=M(),C=T("p"),C.innerHTML=Q,v=M(),g(d.$$.fragment),V=M(),m=T("p"),m.textContent=u,Y=M(),g(G.$$.fragment)},l(p){a=b(p,"P",{"data-svelte-h":!0}),I(a)!=="svelte-v6d888"&&(a.innerHTML=o),l=i(p),h(c.$$.fragment,p),y=i(p),$=b(p,"P",{"data-svelte-h":!0}),I($)!=="svelte-112n7y6"&&($.innerHTML=R),B=i(p),h(_.$$.fragment,p),Z=i(p),C=b(p,"P",{"data-svelte-h":!0}),I(C)!=="svelte-t69k4k"&&(C.innerHTML=Q),v=i(p),h(d.$$.fragment,p),V=i(p),m=b(p,"P",{"data-svelte-h":!0}),I(m)!=="svelte-18ee243"&&(m.textContent=u),Y=i(p),h(G.$$.fragment,p)},m(p,r){t(p,a,r),t(p,l,r),J(c,p,r),t(p,y,r),t(p,$,r),t(p,B,r),J(_,p,r),t(p,Z,r),t(p,C,r),t(p,v,r),J(d,p,r),t(p,V,r),t(p,m,r),t(p,Y,r),J(G,p,r),F=!0},p:ss,i(p){F||(w(c.$$.fragment,p),w(_.$$.fragment,p),w(d.$$.fragment,p),w(G.$$.fragment,p),F=!0)},o(p){U(c.$$.fragment,p),U(_.$$.fragment,p),U(d.$$.fragment,p),U(G.$$.fragment,p),F=!1},d(p){p&&(e(a),e(l),e(y),e($),e(B),e(Z),e(C),e(v),e(V),e(m),e(Y)),f(c,p),f(_,p),f(d,p),f(G,p)}}}function ya(W){let a,o;return a=new os({props:{$$slots:{default:[ja]},$$scope:{ctx:W}}}),{c(){g(a.$$.fragment)},l(l){h(a.$$.fragment,l)},m(l,c){J(a,l,c),o=!0},p(l,c){const y={};c&2&&(y.$$scope={dirty:c,ctx:l}),a.$set(y)},i(l){o||(w(a.$$.fragment,l),o=!0)},o(l){U(a.$$.fragment,l),o=!1},d(l){f(a,l)}}}function ga(W){let a,o="ì´ë¯¸ì§€ í”„ë¡œì„¸ì„œë¥¼ ë¡œë“œí•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ì „ì²˜ë¦¬í•˜ê³  ì…ë ¥ì„ TensorFlow í…ì„œë¡œ ë°˜í™˜í•©ë‹ˆë‹¤:",l,c,y,$,R="ëª¨ë¸ì— ì…ë ¥ì„ ì „ë‹¬í•˜ê³  <code>logits</code>ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤:",B,_,Z,C,Q="ê·¸ëŸ° ë‹¤ìŒ ë¡œê·¸ë¥¼ ì›ë³¸ ì´ë¯¸ì§€ í¬ê¸°ë¡œ ì¬ì¡°ì •í•˜ê³  í´ë˜ìŠ¤ ì°¨ì›ì— argmaxë¥¼ ì ìš©í•©ë‹ˆë‹¤:",v,d,V;return c=new x({props:{code:"ZnJvbSUyMHRyYW5zZm9ybWVycyUyMGltcG9ydCUyMEF1dG9JbWFnZVByb2Nlc3NvciUwQSUwQWltYWdlX3Byb2Nlc3NvciUyMCUzRCUyMEF1dG9JbWFnZVByb2Nlc3Nvci5mcm9tX3ByZXRyYWluZWQoJTIyTWFyaWFLJTJGc2NlbmVfc2VnbWVudGF0aW9uJTIyKSUwQWlucHV0cyUyMCUzRCUyMGltYWdlX3Byb2Nlc3NvcihpbWFnZSUyQyUyMHJldHVybl90ZW5zb3JzJTNEJTIydGYlMjIp",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoImageProcessor

<span class="hljs-meta">&gt;&gt;&gt; </span>image_processor = AutoImageProcessor.from_pretrained(<span class="hljs-string">&quot;MariaK/scene_segmentation&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>inputs = image_processor(image, return_tensors=<span class="hljs-string">&quot;tf&quot;</span>)`,wrap:!1}}),_=new x({props:{code:"ZnJvbSUyMHRyYW5zZm9ybWVycyUyMGltcG9ydCUyMFRGQXV0b01vZGVsRm9yU2VtYW50aWNTZWdtZW50YXRpb24lMEElMEFtb2RlbCUyMCUzRCUyMFRGQXV0b01vZGVsRm9yU2VtYW50aWNTZWdtZW50YXRpb24uZnJvbV9wcmV0cmFpbmVkKCUyMk1hcmlhSyUyRnNjZW5lX3NlZ21lbnRhdGlvbiUyMiklMEFsb2dpdHMlMjAlM0QlMjBtb2RlbCgqKmlucHV0cykubG9naXRz",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> TFAutoModelForSemanticSegmentation

<span class="hljs-meta">&gt;&gt;&gt; </span>model = TFAutoModelForSemanticSegmentation.from_pretrained(<span class="hljs-string">&quot;MariaK/scene_segmentation&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>logits = model(**inputs).logits`,wrap:!1}}),d=new x({props:{code:"bG9naXRzJTIwJTNEJTIwdGYudHJhbnNwb3NlKGxvZ2l0cyUyQyUyMCU1QjAlMkMlMjAyJTJDJTIwMyUyQyUyMDElNUQpJTBBJTBBdXBzYW1wbGVkX2xvZ2l0cyUyMCUzRCUyMHRmLmltYWdlLnJlc2l6ZSglMEElMjAlMjAlMjAlMjBsb2dpdHMlMkMlMEElMjAlMjAlMjAlMjAlMjMlMjAlNjBpbWFnZS5zaXplJTYwJUVBJUIwJTgwJTIwJUVCJTg0JTg4JUVCJUI5JTg0JUVDJTk5JTgwJTIwJUVCJTg2JTkyJUVDJTlEJUI0JUVCJUE1JUJDJTIwJUVCJUIwJTk4JUVEJTk5JTk4JUVEJTk1JTk4JUVBJUI4JUIwJTIwJUVCJTk1JThDJUVCJUFDJUI4JUVDJTk3JTkwJTIwJTYwaW1hZ2UlNjAlRUMlOUQlOTglMjAlRUIlQUElQTglRUMlOTYlOTElRUMlOUQlODQlMjAlRUIlQjAlOTglRUMlQTAlODQlRUMlOEIlOUMlRUQlODIlQjUlRUIlOEIlODglRUIlOEIlQTQlMEElMjAlMjAlMjAlMjBpbWFnZS5zaXplJTVCJTNBJTNBLTElNUQlMkMlMEEpJTBBJTBBcHJlZF9zZWclMjAlM0QlMjB0Zi5tYXRoLmFyZ21heCh1cHNhbXBsZWRfbG9naXRzJTJDJTIwYXhpcyUzRC0xKSU1QjAlNUQ=",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span>logits = tf.transpose(logits, [<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>])

<span class="hljs-meta">&gt;&gt;&gt; </span>upsampled_logits = tf.image.resize(
<span class="hljs-meta">... </span>    logits,
<span class="hljs-meta">... </span>    <span class="hljs-comment"># \`image.size\`ê°€ ë„ˆë¹„ì™€ ë†’ì´ë¥¼ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— \`image\`ì˜ ëª¨ì–‘ì„ ë°˜ì „ì‹œí‚µë‹ˆë‹¤</span>
<span class="hljs-meta">... </span>    image.size[::-<span class="hljs-number">1</span>],
<span class="hljs-meta">... </span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>pred_seg = tf.math.argmax(upsampled_logits, axis=-<span class="hljs-number">1</span>)[<span class="hljs-number">0</span>]`,wrap:!1}}),{c(){a=T("p"),a.textContent=o,l=M(),g(c.$$.fragment),y=M(),$=T("p"),$.innerHTML=R,B=M(),g(_.$$.fragment),Z=M(),C=T("p"),C.textContent=Q,v=M(),g(d.$$.fragment)},l(m){a=b(m,"P",{"data-svelte-h":!0}),I(a)!=="svelte-k2y3aq"&&(a.textContent=o),l=i(m),h(c.$$.fragment,m),y=i(m),$=b(m,"P",{"data-svelte-h":!0}),I($)!=="svelte-t69k4k"&&($.innerHTML=R),B=i(m),h(_.$$.fragment,m),Z=i(m),C=b(m,"P",{"data-svelte-h":!0}),I(C)!=="svelte-1dmtoj2"&&(C.textContent=Q),v=i(m),h(d.$$.fragment,m)},m(m,u){t(m,a,u),t(m,l,u),J(c,m,u),t(m,y,u),t(m,$,u),t(m,B,u),J(_,m,u),t(m,Z,u),t(m,C,u),t(m,v,u),J(d,m,u),V=!0},p:ss,i(m){V||(w(c.$$.fragment,m),w(_.$$.fragment,m),w(d.$$.fragment,m),V=!0)},o(m){U(c.$$.fragment,m),U(_.$$.fragment,m),U(d.$$.fragment,m),V=!1},d(m){m&&(e(a),e(l),e(y),e($),e(B),e(Z),e(C),e(v)),f(c,m),f(_,m),f(d,m)}}}function ha(W){let a,o;return a=new os({props:{$$slots:{default:[ga]},$$scope:{ctx:W}}}),{c(){g(a.$$.fragment)},l(l){h(a.$$.fragment,l)},m(l,c){J(a,l,c),o=!0},p(l,c){const y={};c&2&&(y.$$scope={dirty:c,ctx:l}),a.$set(y)},i(l){o||(w(a.$$.fragment,l),o=!0)},o(l){U(a.$$.fragment,l),o=!1},d(l){f(a,l)}}}function Ja(W){let a,o,l,c,y,$,R,B,_,Z,C,Q=`ì˜ë¯¸ì  ë¶„í• (semantic segmentation)ì€ ì´ë¯¸ì§€ì˜ ê° í”½ì…€ì— ë ˆì´ë¸” ë˜ëŠ” í´ë˜ìŠ¤ë¥¼ í• ë‹¹í•©ë‹ˆë‹¤. ë¶„í• (segmentation)ì—ëŠ” ì—¬ëŸ¬ ì¢…ë¥˜ê°€ ìˆìœ¼ë©°, ì˜ë¯¸ì  ë¶„í• ì˜ ê²½ìš° ë™ì¼í•œ ë¬¼ì²´ì˜ ê³ ìœ  ì¸ìŠ¤í„´ìŠ¤ë¥¼ êµ¬ë¶„í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‘ ë¬¼ì²´ ëª¨ë‘ ë™ì¼í•œ ë ˆì´ë¸”ì´ ì§€ì •ë©ë‹ˆë‹¤(ì˜ˆì‹œë¡œ, â€œcar-1â€ ê³¼ â€œcar-2â€ ëŒ€ì‹  â€œcarâ€ë¡œ ì§€ì •í•©ë‹ˆë‹¤).
ì‹¤ìƒí™œì—ì„œ í”íˆ ë³¼ ìˆ˜ ìˆëŠ” ì˜ë¯¸ì  ë¶„í• ì˜ ì ìš© ì‚¬ë¡€ë¡œëŠ” ë³´í–‰ìì™€ ì¤‘ìš”í•œ êµí†µ ì •ë³´ë¥¼ ì‹ë³„í•˜ëŠ” ììœ¨ ì£¼í–‰ ìë™ì°¨ í•™ìŠµ, ì˜ë£Œ ì´ë¯¸ì§€ì˜ ì„¸í¬ì™€ ì´ìƒ ì§•í›„ ì‹ë³„, ê·¸ë¦¬ê³  ìœ„ì„± ì´ë¯¸ì§€ì˜ í™˜ê²½ ë³€í™” ëª¨ë‹ˆí„°ë§ë“±ì´ ìˆìŠµë‹ˆë‹¤.`,v,d,V="ì´ë²ˆ ê°€ì´ë“œì—ì„œ ë°°ìš¸ ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:",m,u,Y='<li><a href="https://huggingface.co/datasets/scene_parse_150" rel="nofollow">SceneParse150</a> ë°ì´í„° ì„¸íŠ¸ë¥¼ ì´ìš©í•´ <a href="https://huggingface.co/docs/transformers/main/en/model_doc/segformer#segformer" rel="nofollow">SegFormer</a> ë¯¸ì„¸ ì¡°ì •í•˜ê¸°.</li> <li>ë¯¸ì„¸ ì¡°ì •ëœ ëª¨ë¸ì„ ì¶”ë¡ ì— ì‚¬ìš©í•˜ê¸°.</li>',G,F,p,r,X="ì‹œì‘í•˜ê¸° ì „ì— í•„ìš”í•œ ëª¨ë“  ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:",E,S,q,N,js="ì»¤ë®¤ë‹ˆí‹°ì— ëª¨ë¸ì„ ì—…ë¡œë“œí•˜ê³  ê³µìœ í•  ìˆ˜ ìˆë„ë¡ Hugging Face ê³„ì •ì— ë¡œê·¸ì¸í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤. í”„ë¡¬í”„íŠ¸ê°€ ë‚˜íƒ€ë‚˜ë©´ í† í°ì„ ì…ë ¥í•˜ì—¬ ë¡œê·¸ì¸í•˜ì„¸ìš”:",z,L,K,A,P,H,Rs="ğŸ¤— Datasets ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ SceneParse150 ë°ì´í„° ì„¸íŠ¸ì˜ ë” ì‘ì€ ë¶€ë¶„ ì§‘í•©ì„ ê°€ì ¸ì˜¤ëŠ” ê²ƒìœ¼ë¡œ ì‹œì‘í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë°ì´í„° ì„¸íŠ¸ ì „ì²´ì— ëŒ€í•œ í›ˆë ¨ì— ë§ì€ ì‹œê°„ì„ í• ì• í•˜ê¸° ì „ì— ì‹¤í—˜ì„ í†µí•´ ëª¨ë“  ê²ƒì´ ì œëŒ€ë¡œ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",O,j,k,D,Ul="ë°ì´í„° ì„¸íŠ¸ì˜ <code>train</code>ì„ <code>train_test_split</code> ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í›ˆë ¨ ë° í…ŒìŠ¤íŠ¸ ì„¸íŠ¸ë¡œ ë¶„í• í•˜ì„¸ìš”:",Qs,ys,Fs,gs,fl="ê·¸ë¦¬ê³  ì˜ˆì‹œë¥¼ ì‚´í´ë³´ì„¸ìš”:",Xs,hs,Ys,Js,ul="<li><code>image</code>: ì¥ë©´ì˜ PIL ì´ë¯¸ì§€ì…ë‹ˆë‹¤.</li> <li><code>annotation</code>: ë¶„í•  ì§€ë„(segmentation map)ì˜ PIL ì´ë¯¸ì§€ì…ë‹ˆë‹¤. ëª¨ë¸ì˜ íƒ€ê²Ÿì´ê¸°ë„ í•©ë‹ˆë‹¤.</li> <li><code>scene_category</code>: â€œì£¼ë°©â€ ë˜ëŠ” â€œì‚¬ë¬´ì‹¤â€ê³¼ ê°™ì´ ì´ë¯¸ì§€ ì¥ë©´ì„ ì„¤ëª…í•˜ëŠ” ì¹´í…Œê³ ë¦¬ IDì…ë‹ˆë‹¤. ì´ ê°€ì´ë“œì—ì„œëŠ” ë‘˜ ë‹¤ PIL ì´ë¯¸ì§€ì¸ <code>image</code>ì™€ <code>annotation</code>ë§Œì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</li>",Ns,ws,dl="ë‚˜ì¤‘ì— ëª¨ë¸ì„ ì„¤ì •í•  ë•Œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë ˆì´ë¸” IDë¥¼ ë ˆì´ë¸” í´ë˜ìŠ¤ì— ë§¤í•‘í•˜ëŠ” ì‚¬ì „ë„ ë§Œë“¤ê³  ì‹¶ì„ ê²ƒì…ë‹ˆë‹¤. Hubì—ì„œ ë§¤í•‘ì„ ë‹¤ìš´ë¡œë“œí•˜ê³  <code>id2label</code> ë° <code>label2id</code> ì‚¬ì „ì„ ë§Œë“œì„¸ìš”:",As,Us,Hs,fs,Es,us,Tl="ë‹¤ìŒ ë‹¨ê³„ëŠ” ëª¨ë¸ì— ì‚¬ìš©í•  ì´ë¯¸ì§€ì™€ ì£¼ì„ì„ ì¤€ë¹„í•˜ê¸° ìœ„í•´ SegFormer ì´ë¯¸ì§€ í”„ë¡œì„¸ì„œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” ë°ì´í„° ì„¸íŠ¸ì™€ ê°™ì€ ì¼ë¶€ ë°ì´í„° ì„¸íŠ¸ëŠ” ë°°ê²½ í´ë˜ìŠ¤ë¡œ ì œë¡œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ë°°ê²½ í´ë˜ìŠ¤ëŠ” 150ê°œì˜ í´ë˜ìŠ¤ì— ì‹¤ì œë¡œëŠ” í¬í•¨ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— <code>reduce_labels=True</code> ë¥¼ ì„¤ì •í•´ ëª¨ë“  ë ˆì´ë¸”ì—ì„œ ë°°ê²½ í´ë˜ìŠ¤ë¥¼ ì œê±°í•´ì•¼ í•©ë‹ˆë‹¤. ì œë¡œ ì¸ë±ìŠ¤ëŠ” <code>255</code>ë¡œ ëŒ€ì²´ë˜ë¯€ë¡œ SegFormerì˜ ì†ì‹¤ í•¨ìˆ˜ì—ì„œ ë¬´ì‹œë©ë‹ˆë‹¤:",zs,ds,Ss,ls,Ls,as,Ds,Ts,qs,bs,bl='í›ˆë ¨ ì¤‘ì— ë©”íŠ¸ë¦­ì„ í¬í•¨í•˜ë©´ ëª¨ë¸ì˜ ì„±ëŠ¥ì„ í‰ê°€í•˜ëŠ” ë° ë„ì›€ì´ ë˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ğŸ¤— <a href="https://huggingface.co/docs/evaluate/index" rel="nofollow">Evaluate</a> ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ í‰ê°€ ë°©ë²•ì„ ë¹ ë¥´ê²Œ ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ íƒœìŠ¤í¬ì—ì„œëŠ” <a href="https://huggingface.co/spaces/evaluate-metric/accuracy" rel="nofollow">mean Intersection over Union</a> (IoU) ë©”íŠ¸ë¦­ì„ ë¡œë“œí•˜ì„¸ìš” (ë©”íŠ¸ë¦­ì„ ë¡œë“œí•˜ê³  ê³„ì‚°í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ìì„¸íˆ ì•Œì•„ë³´ë ¤ë©´ ğŸ¤— Evaluate <a href="https://huggingface.co/docs/evaluate/a_quick_tour" rel="nofollow">quick tour</a>ë¥¼ ì‚´í´ë³´ì„¸ìš”).',Ks,$s,Ps,Cs,$l="ê·¸ëŸ° ë‹¤ìŒ ë©”íŠ¸ë¦­ì„ <code>compute</code>í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“­ë‹ˆë‹¤. ì˜ˆì¸¡ì„ ë¨¼ì € ë¡œì§“ìœ¼ë¡œ ë³€í™˜í•œ ë‹¤ìŒ, ë ˆì´ë¸”ì˜ í¬ê¸°ì— ë§ê²Œ ëª¨ì–‘ì„ ë‹¤ì‹œ ì§€ì •í•´ì•¼ <code>compute</code>ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:",Os,es,sl,ts,ll,Is,Cl="ì´ì œ <code>compute_metrics</code> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. íŠ¸ë ˆì´ë‹ì„ ì„¤ì •í•  ë•Œ ì´ í•¨ìˆ˜ë¡œ ëŒì•„ê°€ê²Œ ë©ë‹ˆë‹¤.",al,_s,el,ns,tl,ps,nl,Ws,pl,Bs,Il="ì´ì œ ëª¨ë¸ì„ ë¯¸ì„¸ ì¡°ì •í–ˆìœ¼ë‹ˆ ì¶”ë¡ ì— ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!",ml,Zs,_l="ì¶”ë¡ í•  ì´ë¯¸ì§€ë¥¼ ë¡œë“œí•˜ì„¸ìš”:",cl,ks,rl,ms,Wl='<img src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/semantic-seg-image.png" alt="Image of bedroom"/>',Ml,cs,il,rs,ol,Vs,Bl='ê²°ê³¼ë¥¼ ì‹œê°í™”í•˜ë ¤ë©´ <a href="https://github.com/tensorflow/models/blob/3f1ca33afe3c1631b733ea7e40c294273b9e406d/research/deeplab/utils/get_dataset_colormap.py#L51" rel="nofollow">dataset color palette</a>ë¥¼ ê° í´ë˜ìŠ¤ë¥¼ RGB ê°’ì— ë§¤í•‘í•˜ëŠ” <code>ade_palette()</code>ë¡œ ë¡œë“œí•©ë‹ˆë‹¤. ê·¸ëŸ° ë‹¤ìŒ ì´ë¯¸ì§€ì™€ ì˜ˆì¸¡ëœ ë¶„í•  ì§€ë„(segmentation map)ì„ ê²°í•©í•˜ì—¬ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:',jl,Gs,yl,Ms,Zl='<img src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/semantic-seg-preds.png" alt="Image of bedroom overlaid with segmentation map"/>',gl,vs,hl;return y=new xs({props:{title:"ì˜ë¯¸ì  ë¶„í• (Semantic segmentation)",local:"semantic-segmentation",headingTag:"h1"}}),R=new Kl({props:{classNames:"absolute z-10 right-0 top-0",options:[{label:"Mixed",value:"https://colab.research.google.com/github/huggingface/notebooks/blob/main/transformers_doc/ko/semantic_segmentation.ipynb"},{label:"PyTorch",value:"https://colab.research.google.com/github/huggingface/notebooks/blob/main/transformers_doc/ko/pytorch/semantic_segmentation.ipynb"},{label:"TensorFlow",value:"https://colab.research.google.com/github/huggingface/notebooks/blob/main/transformers_doc/ko/tensorflow/semantic_segmentation.ipynb"},{label:"Mixed",value:"https://studiolab.sagemaker.aws/import/github/huggingface/notebooks/blob/main/transformers_doc/ko/semantic_segmentation.ipynb"},{label:"PyTorch",value:"https://studiolab.sagemaker.aws/import/github/huggingface/notebooks/blob/main/transformers_doc/ko/pytorch/semantic_segmentation.ipynb"},{label:"TensorFlow",value:"https://studiolab.sagemaker.aws/import/github/huggingface/notebooks/blob/main/transformers_doc/ko/tensorflow/semantic_segmentation.ipynb"}]}}),_=new ql({props:{id:"dKE8SIt9C-w"}}),F=new wl({props:{$$slots:{default:[Pl]},$$scope:{ctx:W}}}),S=new x({props:{code:"cGlwJTIwaW5zdGFsbCUyMC1xJTIwZGF0YXNldHMlMjB0cmFuc2Zvcm1lcnMlMjBldmFsdWF0ZQ==",highlighted:"pip install -q datasets transformers evaluate",wrap:!1}}),L=new x({props:{code:"ZnJvbSUyMGh1Z2dpbmdmYWNlX2h1YiUyMGltcG9ydCUyMG5vdGVib29rX2xvZ2luJTBBJTBBbm90ZWJvb2tfbG9naW4oKQ==",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> huggingface_hub <span class="hljs-keyword">import</span> notebook_login

<span class="hljs-meta">&gt;&gt;&gt; </span>notebook_login()`,wrap:!1}}),A=new xs({props:{title:"SceneParse150 ë°ì´í„° ì„¸íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸°",local:"load-sceneparse150-dataset",headingTag:"h2"}}),j=new x({props:{code:"ZnJvbSUyMGRhdGFzZXRzJTIwaW1wb3J0JTIwbG9hZF9kYXRhc2V0JTBBJTBBZHMlMjAlM0QlMjBsb2FkX2RhdGFzZXQoJTIyc2NlbmVfcGFyc2VfMTUwJTIyJTJDJTIwc3BsaXQlM0QlMjJ0cmFpbiU1QiUzQTUwJTVEJTIyKQ==",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> datasets <span class="hljs-keyword">import</span> load_dataset

<span class="hljs-meta">&gt;&gt;&gt; </span>ds = load_dataset(<span class="hljs-string">&quot;scene_parse_150&quot;</span>, split=<span class="hljs-string">&quot;train[:50]&quot;</span>)`,wrap:!1}}),ys=new x({props:{code:"ZHMlMjAlM0QlMjBkcy50cmFpbl90ZXN0X3NwbGl0KHRlc3Rfc2l6ZSUzRDAuMiklMEF0cmFpbl9kcyUyMCUzRCUyMGRzJTVCJTIydHJhaW4lMjIlNUQlMEF0ZXN0X2RzJTIwJTNEJTIwZHMlNUIlMjJ0ZXN0JTIyJTVE",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span>ds = ds.train_test_split(test_size=<span class="hljs-number">0.2</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>train_ds = ds[<span class="hljs-string">&quot;train&quot;</span>]
<span class="hljs-meta">&gt;&gt;&gt; </span>test_ds = ds[<span class="hljs-string">&quot;test&quot;</span>]`,wrap:!1}}),hs=new x({props:{code:"dHJhaW5fZHMlNUIwJTVE",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span>train_ds[<span class="hljs-number">0</span>]
{<span class="hljs-string">&#x27;image&#x27;</span>: &lt;PIL.JpegImagePlugin.JpegImageFile image mode=RGB size=512x683 at <span class="hljs-number">0x7F9B0C201F90</span>&gt;,
 <span class="hljs-string">&#x27;annotation&#x27;</span>: &lt;PIL.PngImagePlugin.PngImageFile image mode=L size=512x683 at <span class="hljs-number">0x7F9B0C201DD0</span>&gt;,
 <span class="hljs-string">&#x27;scene_category&#x27;</span>: <span class="hljs-number">368</span>}`,wrap:!1}}),Us=new x({props:{code:"aW1wb3J0JTIwanNvbiUwQWZyb20lMjBodWdnaW5nZmFjZV9odWIlMjBpbXBvcnQlMjBjYWNoZWRfZG93bmxvYWQlMkMlMjBoZl9odWJfdXJsJTBBJTBBcmVwb19pZCUyMCUzRCUyMCUyMmh1Z2dpbmdmYWNlJTJGbGFiZWwtZmlsZXMlMjIlMEFmaWxlbmFtZSUyMCUzRCUyMCUyMmFkZTIway1pZDJsYWJlbC5qc29uJTIyJTBBaWQybGFiZWwlMjAlM0QlMjBqc29uLmxvYWQob3BlbihjYWNoZWRfZG93bmxvYWQoaGZfaHViX3VybChyZXBvX2lkJTJDJTIwZmlsZW5hbWUlMkMlMjByZXBvX3R5cGUlM0QlMjJkYXRhc2V0JTIyKSklMkMlMjAlMjJyJTIyKSklMEFpZDJsYWJlbCUyMCUzRCUyMCU3QmludChrKSUzQSUyMHYlMjBmb3IlMjBrJTJDJTIwdiUyMGluJTIwaWQybGFiZWwuaXRlbXMoKSU3RCUwQWxhYmVsMmlkJTIwJTNEJTIwJTdCdiUzQSUyMGslMjBmb3IlMjBrJTJDJTIwdiUyMGluJTIwaWQybGFiZWwuaXRlbXMoKSU3RCUwQW51bV9sYWJlbHMlMjAlM0QlMjBsZW4oaWQybGFiZWwp",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> json
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> huggingface_hub <span class="hljs-keyword">import</span> cached_download, hf_hub_url

<span class="hljs-meta">&gt;&gt;&gt; </span>repo_id = <span class="hljs-string">&quot;huggingface/label-files&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>filename = <span class="hljs-string">&quot;ade20k-id2label.json&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>id2label = json.load(<span class="hljs-built_in">open</span>(cached_download(hf_hub_url(repo_id, filename, repo_type=<span class="hljs-string">&quot;dataset&quot;</span>)), <span class="hljs-string">&quot;r&quot;</span>))
<span class="hljs-meta">&gt;&gt;&gt; </span>id2label = {<span class="hljs-built_in">int</span>(k): v <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> id2label.items()}
<span class="hljs-meta">&gt;&gt;&gt; </span>label2id = {v: k <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> id2label.items()}
<span class="hljs-meta">&gt;&gt;&gt; </span>num_labels = <span class="hljs-built_in">len</span>(id2label)`,wrap:!1}}),fs=new xs({props:{title:"ì „ì²˜ë¦¬í•˜ê¸°[ preprocess",local:"ì „ì²˜ë¦¬í•˜ê¸°-preprocess",headingTag:"h2"}}),ds=new x({props:{code:"ZnJvbSUyMHRyYW5zZm9ybWVycyUyMGltcG9ydCUyMEF1dG9JbWFnZVByb2Nlc3NvciUwQSUwQWNoZWNrcG9pbnQlMjAlM0QlMjAlMjJudmlkaWElMkZtaXQtYjAlMjIlMEFpbWFnZV9wcm9jZXNzb3IlMjAlM0QlMjBBdXRvSW1hZ2VQcm9jZXNzb3IuZnJvbV9wcmV0cmFpbmVkKGNoZWNrcG9pbnQlMkMlMjByZWR1Y2VfbGFiZWxzJTNEVHJ1ZSk=",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoImageProcessor

<span class="hljs-meta">&gt;&gt;&gt; </span>checkpoint = <span class="hljs-string">&quot;nvidia/mit-b0&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>image_processor = AutoImageProcessor.from_pretrained(checkpoint, reduce_labels=<span class="hljs-literal">True</span>)`,wrap:!1}}),ls=new is({props:{pytorch:!0,tensorflow:!1,jax:!1,$$slots:{pytorch:[sa]},$$scope:{ctx:W}}}),as=new is({props:{pytorch:!1,tensorflow:!0,jax:!1,$$slots:{tensorflow:[aa]},$$scope:{ctx:W}}}),Ts=new xs({props:{title:"í‰ê°€í•˜ê¸°",local:"evaluate",headingTag:"h2"}}),$s=new x({props:{code:"aW1wb3J0JTIwZXZhbHVhdGUlMEElMEFtZXRyaWMlMjAlM0QlMjBldmFsdWF0ZS5sb2FkKCUyMm1lYW5faW91JTIyKQ==",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> evaluate

<span class="hljs-meta">&gt;&gt;&gt; </span>metric = evaluate.load(<span class="hljs-string">&quot;mean_iou&quot;</span>)`,wrap:!1}}),es=new is({props:{pytorch:!0,tensorflow:!1,jax:!1,$$slots:{pytorch:[ta]},$$scope:{ctx:W}}}),ts=new is({props:{pytorch:!1,tensorflow:!0,jax:!1,$$slots:{tensorflow:[pa]},$$scope:{ctx:W}}}),_s=new xs({props:{title:"í•™ìŠµí•˜ê¸°",local:"train",headingTag:"h2"}}),ns=new is({props:{pytorch:!0,tensorflow:!1,jax:!1,$$slots:{pytorch:[ra]},$$scope:{ctx:W}}}),ps=new is({props:{pytorch:!1,tensorflow:!0,jax:!1,$$slots:{tensorflow:[oa]},$$scope:{ctx:W}}}),Ws=new xs({props:{title:"ì¶”ë¡ í•˜ê¸°",local:"inference",headingTag:"h2"}}),ks=new x({props:{code:"aW1hZ2UlMjAlM0QlMjBkcyU1QjAlNUQlNUIlMjJpbWFnZSUyMiU1RCUwQWltYWdl",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span>image = ds[<span class="hljs-number">0</span>][<span class="hljs-string">&quot;image&quot;</span>]
<span class="hljs-meta">&gt;&gt;&gt; </span>image`,wrap:!1}}),cs=new is({props:{pytorch:!0,tensorflow:!1,jax:!1,$$slots:{pytorch:[ya]},$$scope:{ctx:W}}}),rs=new is({props:{pytorch:!1,tensorflow:!0,jax:!1,$$slots:{tensorflow:[ha]},$$scope:{ctx:W}}}),Gs=new x({props:{code:"aW1wb3J0JTIwbWF0cGxvdGxpYi5weXBsb3QlMjBhcyUyMHBsdCUwQWltcG9ydCUyMG51bXB5JTIwYXMlMjBucCUwQSUwQWNvbG9yX3NlZyUyMCUzRCUyMG5wLnplcm9zKChwcmVkX3NlZy5zaGFwZSU1QjAlNUQlMkMlMjBwcmVkX3NlZy5zaGFwZSU1QjElNUQlMkMlMjAzKSUyQyUyMGR0eXBlJTNEbnAudWludDgpJTBBcGFsZXR0ZSUyMCUzRCUyMG5wLmFycmF5KGFkZV9wYWxldHRlKCkpJTBBZm9yJTIwbGFiZWwlMkMlMjBjb2xvciUyMGluJTIwZW51bWVyYXRlKHBhbGV0dGUpJTNBJTBBJTIwJTIwJTIwJTIwY29sb3Jfc2VnJTVCcHJlZF9zZWclMjAlM0QlM0QlMjBsYWJlbCUyQyUyMCUzQSU1RCUyMCUzRCUyMGNvbG9yJTBBY29sb3Jfc2VnJTIwJTNEJTIwY29sb3Jfc2VnJTVCLi4uJTJDJTIwJTNBJTNBLTElNUQlMjAlMjAlMjMlMjBCR1IlRUIlQTElOUMlMjAlRUIlQjMlODAlRUQlOTklOTglMEElMEFpbWclMjAlM0QlMjBucC5hcnJheShpbWFnZSklMjAqJTIwMC41JTIwJTJCJTIwY29sb3Jfc2VnJTIwKiUyMDAuNSUyMCUyMCUyMyUyMCVFQiVCNiU4NCVFRCU5NSVBMCUyMCVFQyVBNyU4MCVFQiU4RiU4NCVFQyU5QyVCQyVFQiVBMSU5QyUyMCVFQyU5RCVCNCVFQiVBRiVCOCVFQyVBNyU4MCUyMCVFQSVCNSVBQyVFQyU4NCVCMSUwQWltZyUyMCUzRCUyMGltZy5hc3R5cGUobnAudWludDgpJTBBJTBBcGx0LmZpZ3VyZShmaWdzaXplJTNEKDE1JTJDJTIwMTApKSUwQXBsdC5pbXNob3coaW1nKSUwQXBsdC5zaG93KCk=",highlighted:`<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-meta">&gt;&gt;&gt; </span>color_seg = np.zeros((pred_seg.shape[<span class="hljs-number">0</span>], pred_seg.shape[<span class="hljs-number">1</span>], <span class="hljs-number">3</span>), dtype=np.uint8)
<span class="hljs-meta">&gt;&gt;&gt; </span>palette = np.array(ade_palette())
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> label, color <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(palette):
<span class="hljs-meta">... </span>    color_seg[pred_seg == label, :] = color
<span class="hljs-meta">&gt;&gt;&gt; </span>color_seg = color_seg[..., ::-<span class="hljs-number">1</span>]  <span class="hljs-comment"># BGRë¡œ ë³€í™˜</span>

<span class="hljs-meta">&gt;&gt;&gt; </span>img = np.array(image) * <span class="hljs-number">0.5</span> + color_seg * <span class="hljs-number">0.5</span>  <span class="hljs-comment"># ë¶„í•  ì§€ë„ìœ¼ë¡œ ì´ë¯¸ì§€ êµ¬ì„±</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>img = img.astype(np.uint8)

<span class="hljs-meta">&gt;&gt;&gt; </span>plt.figure(figsize=(<span class="hljs-number">15</span>, <span class="hljs-number">10</span>))
<span class="hljs-meta">&gt;&gt;&gt; </span>plt.imshow(img)
<span class="hljs-meta">&gt;&gt;&gt; </span>plt.show()`,wrap:!1}}),{c(){a=T("meta"),o=M(),l=T("p"),c=M(),g(y.$$.fragment),$=M(),g(R.$$.fragment),B=M(),g(_.$$.fragment),Z=M(),C=T("p"),C.textContent=Q,v=M(),d=T("p"),d.textContent=V,m=M(),u=T("ol"),u.innerHTML=Y,G=M(),g(F.$$.fragment),p=M(),r=T("p"),r.textContent=X,E=M(),g(S.$$.fragment),q=M(),N=T("p"),N.textContent=js,z=M(),g(L.$$.fragment),K=M(),g(A.$$.fragment),P=M(),H=T("p"),H.textContent=Rs,O=M(),g(j.$$.fragment),k=M(),D=T("p"),D.innerHTML=Ul,Qs=M(),g(ys.$$.fragment),Fs=M(),gs=T("p"),gs.textContent=fl,Xs=M(),g(hs.$$.fragment),Ys=M(),Js=T("ul"),Js.innerHTML=ul,Ns=M(),ws=T("p"),ws.innerHTML=dl,As=M(),g(Us.$$.fragment),Hs=M(),g(fs.$$.fragment),Es=M(),us=T("p"),us.innerHTML=Tl,zs=M(),g(ds.$$.fragment),Ss=M(),g(ls.$$.fragment),Ls=M(),g(as.$$.fragment),Ds=M(),g(Ts.$$.fragment),qs=M(),bs=T("p"),bs.innerHTML=bl,Ks=M(),g($s.$$.fragment),Ps=M(),Cs=T("p"),Cs.innerHTML=$l,Os=M(),g(es.$$.fragment),sl=M(),g(ts.$$.fragment),ll=M(),Is=T("p"),Is.innerHTML=Cl,al=M(),g(_s.$$.fragment),el=M(),g(ns.$$.fragment),tl=M(),g(ps.$$.fragment),nl=M(),g(Ws.$$.fragment),pl=M(),Bs=T("p"),Bs.textContent=Il,ml=M(),Zs=T("p"),Zs.textContent=_l,cl=M(),g(ks.$$.fragment),rl=M(),ms=T("div"),ms.innerHTML=Wl,Ml=M(),g(cs.$$.fragment),il=M(),g(rs.$$.fragment),ol=M(),Vs=T("p"),Vs.innerHTML=Bl,jl=M(),g(Gs.$$.fragment),yl=M(),Ms=T("div"),Ms.innerHTML=Zl,gl=M(),vs=T("p"),this.h()},l(s){const n=zl("svelte-u9bgzb",document.head);a=b(n,"META",{name:!0,content:!0}),n.forEach(e),o=i(s),l=b(s,"P",{}),Yl(l).forEach(e),c=i(s),h(y.$$.fragment,s),$=i(s),h(R.$$.fragment,s),B=i(s),h(_.$$.fragment,s),Z=i(s),C=b(s,"P",{"data-svelte-h":!0}),I(C)!=="svelte-1pm3sh7"&&(C.textContent=Q),v=i(s),d=b(s,"P",{"data-svelte-h":!0}),I(d)!=="svelte-pdyjx9"&&(d.textContent=V),m=i(s),u=b(s,"OL",{"data-svelte-h":!0}),I(u)!=="svelte-1r6ennb"&&(u.innerHTML=Y),G=i(s),h(F.$$.fragment,s),p=i(s),r=b(s,"P",{"data-svelte-h":!0}),I(r)!=="svelte-1aeak3y"&&(r.textContent=X),E=i(s),h(S.$$.fragment,s),q=i(s),N=b(s,"P",{"data-svelte-h":!0}),I(N)!=="svelte-1ylwhj7"&&(N.textContent=js),z=i(s),h(L.$$.fragment,s),K=i(s),h(A.$$.fragment,s),P=i(s),H=b(s,"P",{"data-svelte-h":!0}),I(H)!=="svelte-zqz01o"&&(H.textContent=Rs),O=i(s),h(j.$$.fragment,s),k=i(s),D=b(s,"P",{"data-svelte-h":!0}),I(D)!=="svelte-1amyql0"&&(D.innerHTML=Ul),Qs=i(s),h(ys.$$.fragment,s),Fs=i(s),gs=b(s,"P",{"data-svelte-h":!0}),I(gs)!=="svelte-1rb3v2y"&&(gs.textContent=fl),Xs=i(s),h(hs.$$.fragment,s),Ys=i(s),Js=b(s,"UL",{"data-svelte-h":!0}),I(Js)!=="svelte-9pyc0a"&&(Js.innerHTML=ul),Ns=i(s),ws=b(s,"P",{"data-svelte-h":!0}),I(ws)!=="svelte-1s2rnds"&&(ws.innerHTML=dl),As=i(s),h(Us.$$.fragment,s),Hs=i(s),h(fs.$$.fragment,s),Es=i(s),us=b(s,"P",{"data-svelte-h":!0}),I(us)!=="svelte-1aa89j5"&&(us.innerHTML=Tl),zs=i(s),h(ds.$$.fragment,s),Ss=i(s),h(ls.$$.fragment,s),Ls=i(s),h(as.$$.fragment,s),Ds=i(s),h(Ts.$$.fragment,s),qs=i(s),bs=b(s,"P",{"data-svelte-h":!0}),I(bs)!=="svelte-1am5yvm"&&(bs.innerHTML=bl),Ks=i(s),h($s.$$.fragment,s),Ps=i(s),Cs=b(s,"P",{"data-svelte-h":!0}),I(Cs)!=="svelte-1kp3i6f"&&(Cs.innerHTML=$l),Os=i(s),h(es.$$.fragment,s),sl=i(s),h(ts.$$.fragment,s),ll=i(s),Is=b(s,"P",{"data-svelte-h":!0}),I(Is)!=="svelte-100s3bb"&&(Is.innerHTML=Cl),al=i(s),h(_s.$$.fragment,s),el=i(s),h(ns.$$.fragment,s),tl=i(s),h(ps.$$.fragment,s),nl=i(s),h(Ws.$$.fragment,s),pl=i(s),Bs=b(s,"P",{"data-svelte-h":!0}),I(Bs)!=="svelte-174wmmm"&&(Bs.textContent=Il),ml=i(s),Zs=b(s,"P",{"data-svelte-h":!0}),I(Zs)!=="svelte-y0x66m"&&(Zs.textContent=_l),cl=i(s),h(ks.$$.fragment,s),rl=i(s),ms=b(s,"DIV",{class:!0,"data-svelte-h":!0}),I(ms)!=="svelte-11jfm1f"&&(ms.innerHTML=Wl),Ml=i(s),h(cs.$$.fragment,s),il=i(s),h(rs.$$.fragment,s),ol=i(s),Vs=b(s,"P",{"data-svelte-h":!0}),I(Vs)!=="svelte-1adsal6"&&(Vs.innerHTML=Bl),jl=i(s),h(Gs.$$.fragment,s),yl=i(s),Ms=b(s,"DIV",{class:!0,"data-svelte-h":!0}),I(Ms)!=="svelte-nsecok"&&(Ms.innerHTML=Zl),gl=i(s),vs=b(s,"P",{}),Yl(vs).forEach(e),this.h()},h(){Jl(a,"name","hf:doc:metadata"),Jl(a,"content",wa),Jl(ms,"class","flex justify-center"),Jl(Ms,"class","flex justify-center")},m(s,n){Sl(document.head,a),t(s,o,n),t(s,l,n),t(s,c,n),J(y,s,n),t(s,$,n),J(R,s,n),t(s,B,n),J(_,s,n),t(s,Z,n),t(s,C,n),t(s,v,n),t(s,d,n),t(s,m,n),t(s,u,n),t(s,G,n),J(F,s,n),t(s,p,n),t(s,r,n),t(s,E,n),J(S,s,n),t(s,q,n),t(s,N,n),t(s,z,n),J(L,s,n),t(s,K,n),J(A,s,n),t(s,P,n),t(s,H,n),t(s,O,n),J(j,s,n),t(s,k,n),t(s,D,n),t(s,Qs,n),J(ys,s,n),t(s,Fs,n),t(s,gs,n),t(s,Xs,n),J(hs,s,n),t(s,Ys,n),t(s,Js,n),t(s,Ns,n),t(s,ws,n),t(s,As,n),J(Us,s,n),t(s,Hs,n),J(fs,s,n),t(s,Es,n),t(s,us,n),t(s,zs,n),J(ds,s,n),t(s,Ss,n),J(ls,s,n),t(s,Ls,n),J(as,s,n),t(s,Ds,n),J(Ts,s,n),t(s,qs,n),t(s,bs,n),t(s,Ks,n),J($s,s,n),t(s,Ps,n),t(s,Cs,n),t(s,Os,n),J(es,s,n),t(s,sl,n),J(ts,s,n),t(s,ll,n),t(s,Is,n),t(s,al,n),J(_s,s,n),t(s,el,n),J(ns,s,n),t(s,tl,n),J(ps,s,n),t(s,nl,n),J(Ws,s,n),t(s,pl,n),t(s,Bs,n),t(s,ml,n),t(s,Zs,n),t(s,cl,n),J(ks,s,n),t(s,rl,n),t(s,ms,n),t(s,Ml,n),J(cs,s,n),t(s,il,n),J(rs,s,n),t(s,ol,n),t(s,Vs,n),t(s,jl,n),J(Gs,s,n),t(s,yl,n),t(s,Ms,n),t(s,gl,n),t(s,vs,n),hl=!0},p(s,[n]){const kl={};n&2&&(kl.$$scope={dirty:n,ctx:s}),F.$set(kl);const Vl={};n&2&&(Vl.$$scope={dirty:n,ctx:s}),ls.$set(Vl);const Gl={};n&2&&(Gl.$$scope={dirty:n,ctx:s}),as.$set(Gl);const xl={};n&2&&(xl.$$scope={dirty:n,ctx:s}),es.$set(xl);const Rl={};n&2&&(Rl.$$scope={dirty:n,ctx:s}),ts.$set(Rl);const vl={};n&2&&(vl.$$scope={dirty:n,ctx:s}),ns.$set(vl);const Ql={};n&2&&(Ql.$$scope={dirty:n,ctx:s}),ps.$set(Ql);const Fl={};n&2&&(Fl.$$scope={dirty:n,ctx:s}),cs.$set(Fl);const Xl={};n&2&&(Xl.$$scope={dirty:n,ctx:s}),rs.$set(Xl)},i(s){hl||(w(y.$$.fragment,s),w(R.$$.fragment,s),w(_.$$.fragment,s),w(F.$$.fragment,s),w(S.$$.fragment,s),w(L.$$.fragment,s),w(A.$$.fragment,s),w(j.$$.fragment,s),w(ys.$$.fragment,s),w(hs.$$.fragment,s),w(Us.$$.fragment,s),w(fs.$$.fragment,s),w(ds.$$.fragment,s),w(ls.$$.fragment,s),w(as.$$.fragment,s),w(Ts.$$.fragment,s),w($s.$$.fragment,s),w(es.$$.fragment,s),w(ts.$$.fragment,s),w(_s.$$.fragment,s),w(ns.$$.fragment,s),w(ps.$$.fragment,s),w(Ws.$$.fragment,s),w(ks.$$.fragment,s),w(cs.$$.fragment,s),w(rs.$$.fragment,s),w(Gs.$$.fragment,s),hl=!0)},o(s){U(y.$$.fragment,s),U(R.$$.fragment,s),U(_.$$.fragment,s),U(F.$$.fragment,s),U(S.$$.fragment,s),U(L.$$.fragment,s),U(A.$$.fragment,s),U(j.$$.fragment,s),U(ys.$$.fragment,s),U(hs.$$.fragment,s),U(Us.$$.fragment,s),U(fs.$$.fragment,s),U(ds.$$.fragment,s),U(ls.$$.fragment,s),U(as.$$.fragment,s),U(Ts.$$.fragment,s),U($s.$$.fragment,s),U(es.$$.fragment,s),U(ts.$$.fragment,s),U(_s.$$.fragment,s),U(ns.$$.fragment,s),U(ps.$$.fragment,s),U(Ws.$$.fragment,s),U(ks.$$.fragment,s),U(cs.$$.fragment,s),U(rs.$$.fragment,s),U(Gs.$$.fragment,s),hl=!1},d(s){s&&(e(o),e(l),e(c),e($),e(B),e(Z),e(C),e(v),e(d),e(m),e(u),e(G),e(p),e(r),e(E),e(q),e(N),e(z),e(K),e(P),e(H),e(O),e(k),e(D),e(Qs),e(Fs),e(gs),e(Xs),e(Ys),e(Js),e(Ns),e(ws),e(As),e(Hs),e(Es),e(us),e(zs),e(Ss),e(Ls),e(Ds),e(qs),e(bs),e(Ks),e(Ps),e(Cs),e(Os),e(sl),e(ll),e(Is),e(al),e(el),e(tl),e(nl),e(pl),e(Bs),e(ml),e(Zs),e(cl),e(rl),e(ms),e(Ml),e(il),e(ol),e(Vs),e(jl),e(yl),e(Ms),e(gl),e(vs)),e(a),f(y,s),f(R,s),f(_,s),f(F,s),f(S,s),f(L,s),f(A,s),f(j,s),f(ys,s),f(hs,s),f(Us,s),f(fs,s),f(ds,s),f(ls,s),f(as,s),f(Ts,s),f($s,s),f(es,s),f(ts,s),f(_s,s),f(ns,s),f(ps,s),f(Ws,s),f(ks,s),f(cs,s),f(rs,s),f(Gs,s)}}}const wa='{"title":"ì˜ë¯¸ì  ë¶„í• (Semantic segmentation)","local":"semantic-segmentation","sections":[{"title":"SceneParse150 ë°ì´í„° ì„¸íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸°","local":"load-sceneparse150-dataset","sections":[],"depth":2},{"title":"ì „ì²˜ë¦¬í•˜ê¸°[ preprocess","local":"ì „ì²˜ë¦¬í•˜ê¸°-preprocess","sections":[],"depth":2},{"title":"í‰ê°€í•˜ê¸°","local":"evaluate","sections":[],"depth":2},{"title":"í•™ìŠµí•˜ê¸°","local":"train","sections":[],"depth":2},{"title":"ì¶”ë¡ í•˜ê¸°","local":"inference","sections":[],"depth":2}],"depth":1}';function Ua(W){return Al(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class _a extends Hl{constructor(a){super(),El(this,a,Ua,Ja,Nl,{})}}export{_a as component};
