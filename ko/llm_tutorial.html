<meta charset="utf-8" /><meta name="hf:doc:metadata" content="{&quot;title&quot;:&quot;ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ë¡œ ìƒì„±í•˜ê¸°&quot;,&quot;local&quot;:&quot;generation-with-llms&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;í…ìŠ¤íŠ¸ ìƒì„±&quot;,&quot;local&quot;:&quot;generate-text&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;ì¼ë°˜ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ë¬¸ì œ&quot;,&quot;local&quot;:&quot;common-pitfalls&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;ìƒì„±ëœ ì¶œë ¥ì´ ë„ˆë¬´ ì§§ê±°ë‚˜ ê¸¸ë‹¤&quot;,&quot;local&quot;:&quot;generated-output-is-too-shortlong&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;ì˜ëª»ëœ ìƒì„± ëª¨ë“œ&quot;,&quot;local&quot;:&quot;incorrect-generation-mode&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;ì˜ëª»ëœ íŒ¨ë”©&quot;,&quot;local&quot;:&quot;wrong-padding-side&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3}],&quot;depth&quot;:2},{&quot;title&quot;:&quot;ì¶”ê°€ ìë£Œ&quot;,&quot;local&quot;:&quot;further-resources&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;ê³ ê¸‰ ìƒì„± ì‚¬ìš©&quot;,&quot;local&quot;:&quot;advanced-generate-usage&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;LLM ë¦¬ë”ë³´ë“œ&quot;,&quot;local&quot;:&quot;llm-leaderboards&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;ì§€ì—° ì‹œê°„ ë° ì²˜ë¦¬ëŸ‰&quot;,&quot;local&quot;:&quot;latency-and-throughput&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬&quot;,&quot;local&quot;:&quot;related-libraries&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3}],&quot;depth&quot;:2}],&quot;depth&quot;:1}">
		<link href="/huggingface-transformers/en/_app/immutable/assets/0.e3b0c442.css" rel="modulepreload">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/entry/start.6e91440d.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/scheduler.56730f09.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/singletons.f4fa9092.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/index.bdfeb96e.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/paths.1ad88cbe.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/entry/app.1d8748f0.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/index.1f144517.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/nodes/0.25510995.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/each.e59479a4.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/nodes/21.81bab206.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/Tip.41e845e5.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/CodeBlock.738eeccb.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/DocNotebookDropdown.243c3df7.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/globals.7f7f1b26.js">
		<link rel="modulepreload" href="/huggingface-transformers/en/_app/immutable/chunks/Heading.57d46534.js"><!-- HEAD_svelte-u9bgzb_START --><meta name="hf:doc:metadata" content="{&quot;title&quot;:&quot;ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ë¡œ ìƒì„±í•˜ê¸°&quot;,&quot;local&quot;:&quot;generation-with-llms&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;í…ìŠ¤íŠ¸ ìƒì„±&quot;,&quot;local&quot;:&quot;generate-text&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;ì¼ë°˜ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ë¬¸ì œ&quot;,&quot;local&quot;:&quot;common-pitfalls&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;ìƒì„±ëœ ì¶œë ¥ì´ ë„ˆë¬´ ì§§ê±°ë‚˜ ê¸¸ë‹¤&quot;,&quot;local&quot;:&quot;generated-output-is-too-shortlong&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;ì˜ëª»ëœ ìƒì„± ëª¨ë“œ&quot;,&quot;local&quot;:&quot;incorrect-generation-mode&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;ì˜ëª»ëœ íŒ¨ë”©&quot;,&quot;local&quot;:&quot;wrong-padding-side&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3}],&quot;depth&quot;:2},{&quot;title&quot;:&quot;ì¶”ê°€ ìë£Œ&quot;,&quot;local&quot;:&quot;further-resources&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;ê³ ê¸‰ ìƒì„± ì‚¬ìš©&quot;,&quot;local&quot;:&quot;advanced-generate-usage&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;LLM ë¦¬ë”ë³´ë“œ&quot;,&quot;local&quot;:&quot;llm-leaderboards&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;ì§€ì—° ì‹œê°„ ë° ì²˜ë¦¬ëŸ‰&quot;,&quot;local&quot;:&quot;latency-and-throughput&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3},{&quot;title&quot;:&quot;ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬&quot;,&quot;local&quot;:&quot;related-libraries&quot;,&quot;sections&quot;:[],&quot;depth&quot;:3}],&quot;depth&quot;:2}],&quot;depth&quot;:1}"><!-- HEAD_svelte-u9bgzb_END -->      <p></p>   <h1 class="relative group"><a id="generation-with-llms" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#generation-with-llms"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ë¡œ ìƒì„±í•˜ê¸°</span></h1>  <div class="flex space-x-1 absolute z-10 right-0 top-0"> <div class="relative colab-dropdown "> <button class="  " type="button">  <img alt="Open In Colab" class="!m-0" src="https://colab.research.google.com/assets/colab-badge.svg"> </button>    </div> <div class="relative colab-dropdown "> <button class="  " type="button">  <img alt="Open In Studio Lab" class="!m-0" src="https://studiolab.sagemaker.aws/studiolab.svg"> </button>    </div></div> <p data-svelte-h="svelte-1mqsb83">LLM ë˜ëŠ” ëŒ€ê·œëª¨ ì–¸ì–´ ëª¨ë¸ì€ í…ìŠ¤íŠ¸ ìƒì„±ì˜ í•µì‹¬ êµ¬ì„± ìš”ì†Œì…ë‹ˆë‹¤. ê°„ë‹¨íˆ ë§í•˜ë©´, ì£¼ì–´ì§„ ì…ë ¥ í…ìŠ¤íŠ¸ì— ëŒ€í•œ ë‹¤ìŒ ë‹¨ì–´(ì •í™•í•˜ê²ŒëŠ” í† í°)ë¥¼ ì˜ˆì¸¡í•˜ê¸° ìœ„í•´ í›ˆë ¨ëœ ëŒ€ê·œëª¨ ì‚¬ì „ í›ˆë ¨ ë³€í™˜ê¸° ëª¨ë¸ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤. í† í°ì„ í•œ ë²ˆì— í•˜ë‚˜ì”© ì˜ˆì¸¡í•˜ê¸° ë•Œë¬¸ì— ìƒˆë¡œìš´ ë¬¸ì¥ì„ ìƒì„±í•˜ë ¤ë©´ ëª¨ë¸ì„ í˜¸ì¶œí•˜ëŠ” ê²ƒ ì™¸ì— ë” ë³µì¡í•œ ì‘ì—…ì„ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤. ì¦‰, ìê¸°íšŒê·€ ìƒì„±ì„ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤.</p> <p data-svelte-h="svelte-pz4xfn">ìê¸°íšŒê·€ ìƒì„±ì€ ëª‡ ê°œì˜ ì´ˆê¸° ì…ë ¥ê°’ì„ ì œê³µí•œ í›„, ê·¸ ì¶œë ¥ì„ ë‹¤ì‹œ ëª¨ë¸ì— ì…ë ¥ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ ë°˜ë³µì ìœ¼ë¡œ í˜¸ì¶œí•˜ëŠ” ì¶”ë¡  ê³¼ì •ì…ë‹ˆë‹¤. ğŸ¤— Transformersì—ì„œëŠ” <code>generate()</code> ë©”ì†Œë“œê°€ ì´ ì—­í• ì„ í•˜ë©°, ì´ëŠ” ìƒì„± ê¸°ëŠ¥ì„ ê°€ì§„ ëª¨ë“  ëª¨ë¸ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.</p> <p data-svelte-h="svelte-bstddc">ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” ë‹¤ìŒ ë‚´ìš©ì„ ë‹¤ë£¨ê²Œ ë©ë‹ˆë‹¤:</p> <ul data-svelte-h="svelte-n39m57"><li>LLMìœ¼ë¡œ í…ìŠ¤íŠ¸ ìƒì„±</li> <li>ì¼ë°˜ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ë¬¸ì œ í•´ê²°</li> <li>LLMì„ ìµœëŒ€í•œ í™œìš©í•˜ê¸° ìœ„í•œ ë‹¤ìŒ ë‹¨ê³„</li></ul> <p data-svelte-h="svelte-18iigii">ì‹œì‘í•˜ê¸° ì „ì— í•„ìš”í•œ ëª¨ë“  ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”:</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->pip install transformers bitsandbytes&gt;=0.39.0 -q<!-- HTML_TAG_END --></pre></div>  <h2 class="relative group"><a id="generate-text" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#generate-text"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>í…ìŠ¤íŠ¸ ìƒì„±</span></h2> <p data-svelte-h="svelte-1knuq7u"><a href="tasks/language_modeling">ì¸ê³¼ì  ì–¸ì–´ ëª¨ë¸ë§(causal language modeling)</a>ì„ ëª©ì ìœ¼ë¡œ í•™ìŠµëœ ì–¸ì–´ ëª¨ë¸ì€ ì¼ë ¨ì˜ í…ìŠ¤íŠ¸ í† í°ì„ ì…ë ¥ìœ¼ë¡œ ì‚¬ìš©í•˜ê³ , ê·¸ ê²°ê³¼ë¡œ ë‹¤ìŒ í† í°ì´ ë‚˜ì˜¬ í™•ë¥  ë¶„í¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>  <figure class="image table text-center m-0 w-full" data-svelte-h="svelte-1e5pfoq"><video style="max-width: 90%; margin: auto;" autoplay="" loop="" muted="" playsinline="" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/blog/assisted-generation/gif_1_1080p.mov"></video> <figcaption>&quot;LLMì˜ ì „ë°© íŒ¨ìŠ¤&quot;</figcaption></figure> <p data-svelte-h="svelte-1paz2ao">LLMê³¼ ìê¸°íšŒê·€ ìƒì„±ì„ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ í•µì‹¬ì ì¸ ë¶€ë¶„ì€ ì´ í™•ë¥  ë¶„í¬ë¡œë¶€í„° ë‹¤ìŒ í† í°ì„ ì–´ë–»ê²Œ ê³ ë¥¼ ê²ƒì¸ì§€ì…ë‹ˆë‹¤. ë‹¤ìŒ ë°˜ë³µ ê³¼ì •ì— ì‚¬ìš©ë  í† í°ì„ ê²°ì •í•˜ëŠ” í•œ, ì–´ë– í•œ ë°©ë²•ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤. í™•ë¥  ë¶„í¬ì—ì„œ ê°€ì¥ ê°€ëŠ¥ì„±ì´ ë†’ì€ í† í°ì„ ì„ íƒí•˜ëŠ” ê²ƒì²˜ëŸ¼ ê°„ë‹¨í•  ìˆ˜ë„ ìˆê³ , ê²°ê³¼ ë¶„í¬ì—ì„œ ìƒ˜í”Œë§í•˜ê¸° ì „ì— ìˆ˜ì‹­ ê°€ì§€ ë³€í™˜ì„ ì ìš©í•˜ëŠ” ê²ƒì²˜ëŸ¼ ë³µì¡í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</p>  <figure class="image table text-center m-0 w-full" data-svelte-h="svelte-e8zgh"><video style="max-width: 90%; margin: auto;" autoplay="" loop="" muted="" playsinline="" src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/blog/assisted-generation/gif_2_1080p.mov"></video> <figcaption>&quot;ìê¸°íšŒê·€ ìƒì„±ì€ í™•ë¥  ë¶„í¬ì—ì„œ ë‹¤ìŒ í† í°ì„ ë°˜ë³µì ìœ¼ë¡œ ì„ íƒí•˜ì—¬ í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.&quot;</figcaption></figure> <p data-svelte-h="svelte-1jyajpb">ìœ„ì—ì„œ ì„¤ëª…í•œ ê³¼ì •ì€ ì–´ë–¤ ì¢…ë£Œ ì¡°ê±´ì´ ì¶©ì¡±ë  ë•Œê¹Œì§€ ë°˜ë³µì ìœ¼ë¡œ ìˆ˜í–‰ë©ë‹ˆë‹¤. ëª¨ë¸ì´ ì‹œí€€ìŠ¤ì˜ ë(EOS í† í°)ì„ ì¶œë ¥í•  ë•Œê¹Œì§€ë¥¼ ì¢…ë£Œ ì¡°ê±´ìœ¼ë¡œ í•˜ëŠ” ê²ƒì´ ì´ìƒì ì…ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°ì—ëŠ” ë¯¸ë¦¬ ì •ì˜ëœ ìµœëŒ€ ê¸¸ì´ì— ë„ë‹¬í–ˆì„ ë•Œ ìƒì„±ì´ ì¤‘ë‹¨ë©ë‹ˆë‹¤.</p> <p data-svelte-h="svelte-1mz5903">ëª¨ë¸ì´ ì˜ˆìƒëŒ€ë¡œ ë™ì‘í•˜ê¸° ìœ„í•´ì„  í† í° ì„ íƒ ë‹¨ê³„ì™€ ì •ì§€ ì¡°ê±´ì„ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ, ê° ëª¨ë¸ì—ëŠ” ê¸°ë³¸ ìƒì„± ì„¤ì •ì´ ì˜ ì •ì˜ëœ <code>GenerationConfig</code> íŒŒì¼ì´ í•¨ê»˜ ì œê³µë©ë‹ˆë‹¤.</p> <p data-svelte-h="svelte-139gs6l">ì½”ë“œë¥¼ í™•ì¸í•´ë´…ì‹œë‹¤!</p>  <div class="course-tip  bg-gradient-to-br dark:bg-gradient-to-r before:border-green-500 dark:before:border-green-800 from-green-50 dark:from-gray-900 to-white dark:to-gray-950 border border-green-50 text-green-700 dark:text-gray-400"><p data-svelte-h="svelte-1ygdj4">ê¸°ë³¸ LLM ì‚¬ìš©ì— ê´€ì‹¬ì´ ìˆë‹¤ë©´, ìš°ë¦¬ì˜ <a href="pipeline_tutorial"><code>Pipeline</code></a> ì¸í„°í˜ì´ìŠ¤ë¡œ ì‹œì‘í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ LLMì€ ì–‘ìí™”ë‚˜ í† í° ì„ íƒ ë‹¨ê³„ì—ì„œì˜ ë¯¸ì„¸í•œ ì œì–´ì™€ ê°™ì€ ê³ ê¸‰ ê¸°ëŠ¥ë“¤ì„ ì¢…ì¢… í•„ìš”ë¡œ í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ì‘ì—…ì€ <code>generate()</code>ë¥¼ í†µí•´ ê°€ì¥ ì˜ ìˆ˜í–‰ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. LLMì„ ì´ìš©í•œ ìê¸°íšŒê·€ ìƒì„±ì€ ìì›ì„ ë§ì´ ì†Œëª¨í•˜ë¯€ë¡œ, ì ì ˆí•œ ì²˜ë¦¬ëŸ‰ì„ ìœ„í•´ GPUì—ì„œ ì‹¤í–‰ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.</p></div> <p data-svelte-h="svelte-1jlhxga">ë¨¼ì €, ëª¨ë¸ì„ ë¶ˆëŸ¬ì˜¤ì„¸ìš”.</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoModelForCausalLM

<span class="hljs-meta">&gt;&gt;&gt; </span>model = AutoModelForCausalLM.from_pretrained(
<span class="hljs-meta">... </span>    <span class="hljs-string">&quot;mistralai/Mistral-7B-v0.1&quot;</span>, device_map=<span class="hljs-string">&quot;auto&quot;</span>, load_in_4bit=<span class="hljs-literal">True</span>
<span class="hljs-meta">... </span>)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-3pz7gp"><code>from_pretrained</code> í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ 2ê°œì˜ í”Œë˜ê·¸ë¥¼ ì£¼ëª©í•˜ì„¸ìš”:</p> <ul data-svelte-h="svelte-1b3d22e"><li><code>device_map</code>ì€ ëª¨ë¸ì´ GPUë¡œ ì´ë™ë˜ë„ë¡ í•©ë‹ˆë‹¤.</li> <li><code>load_in_4bit</code>ëŠ” ë¦¬ì†ŒìŠ¤ ìš”êµ¬ ì‚¬í•­ì„ í¬ê²Œ ì¤„ì´ê¸° ìœ„í•´ <a href="main_classes/quantization">4ë¹„íŠ¸ ë™ì  ì–‘ìí™”</a>ë¥¼ ì ìš©í•©ë‹ˆë‹¤.</li></ul> <p data-svelte-h="svelte-r6qxit">ì´ ì™¸ì—ë„ ëª¨ë¸ì„ ì´ˆê¸°í™”í•˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ì´ ìˆì§€ë§Œ, LLMì„ ì²˜ìŒ ì‹œì‘í•  ë•Œ ì´ ì„¤ì •ì„ ì¶”ì²œí•©ë‹ˆë‹¤.</p> <p data-svelte-h="svelte-y9vwcs">ì´ì–´ì„œ í…ìŠ¤íŠ¸ ì…ë ¥ì„ <a href="tokenizer_summary">í† í¬ë‚˜ì´ì €</a>ìœ¼ë¡œ ì „ì²˜ë¦¬í•˜ì„¸ìš”.</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoTokenizer
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> torch

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;mistralai/Mistral-7B-v0.1&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>device = <span class="hljs-string">&quot;cuda&quot;</span> <span class="hljs-keyword">if</span> torch.cuda.is_available() <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;cpu&quot;</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model_inputs = tokenizer([<span class="hljs-string">&quot;A list of colors: red, blue&quot;</span>], return_tensors=<span class="hljs-string">&quot;pt&quot;</span>).to(device)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-128stuf"><code>model_inputs</code> ë³€ìˆ˜ì—ëŠ” í† í°í™”ëœ í…ìŠ¤íŠ¸ ì…ë ¥ê³¼ í•¨ê»˜ ì–´í…ì…˜ ë§ˆìŠ¤í¬ê°€ ë“¤ì–´ ìˆìŠµë‹ˆë‹¤. <code>generate()</code>ëŠ” ì–´í…ì…˜ ë§ˆìŠ¤í¬ê°€ ì œê³µë˜ì§€ ì•Šì•˜ì„ ê²½ìš°ì—ë„ ì´ë¥¼ ì¶”ë¡ í•˜ë ¤ê³  ë…¸ë ¥í•˜ì§€ë§Œ, ìµœìƒì˜ ì„±ëŠ¥ì„ ìœ„í•´ì„œëŠ” ê°€ëŠ¥í•˜ë©´ ì–´í…ì…˜ ë§ˆìŠ¤í¬ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.</p> <p data-svelte-h="svelte-t9jh1g">ë§ˆì§€ë§‰ìœ¼ë¡œ <code>generate()</code> ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ ìƒì„±ëœ í† í°ì„ ì–»ì€ í›„, ì´ë¥¼ ì¶œë ¥í•˜ê¸° ì „ì— í…ìŠ¤íŠ¸ í˜•íƒœë¡œ ë³€í™˜í•˜ì„¸ìš”.</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span>generated_ids = model.generate(**model_inputs)
<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer.batch_decode(generated_ids, skip_special_tokens=<span class="hljs-literal">True</span>)[<span class="hljs-number">0</span>]
<span class="hljs-string">&#x27;A list of colors: red, blue, green, yellow, black, white, and brown&#x27;</span><!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-uhj5p6">ì´ê²Œ ì „ë¶€ì…ë‹ˆë‹¤! ëª‡ ì¤„ì˜ ì½”ë“œë§Œìœ¼ë¡œ LLMì˜ ëŠ¥ë ¥ì„ í™œìš©í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>  <h2 class="relative group"><a id="common-pitfalls" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#common-pitfalls"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ì¼ë°˜ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ë¬¸ì œ</span></h2> <p data-svelte-h="svelte-1efv58y"><a href="generation_strategies">ìƒì„± ì „ëµ</a>ì´ ë§ê³ , ê¸°ë³¸ê°’ì´ í•­ìƒ ì‚¬ìš© ì‚¬ë¡€ì— ì í•©í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¶œë ¥ì´ ì˜ˆìƒê³¼ ë‹¤ë¥¼ ë•Œ í”íˆ ë°œìƒí•˜ëŠ” ë¬¸ì œì™€ ì´ë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ëª©ë¡ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoModelForCausalLM, AutoTokenizer

<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;mistralai/Mistral-7B-v0.1&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer.pad_token = tokenizer.eos_token  <span class="hljs-comment"># Mistral has no pad token by default</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model = AutoModelForCausalLM.from_pretrained(
<span class="hljs-meta">... </span>    <span class="hljs-string">&quot;mistralai/Mistral-7B-v0.1&quot;</span>, device_map=<span class="hljs-string">&quot;auto&quot;</span>, load_in_4bit=<span class="hljs-literal">True</span>
<span class="hljs-meta">... </span>)<!-- HTML_TAG_END --></pre></div>  <h3 class="relative group"><a id="generated-output-is-too-shortlong" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#generated-output-is-too-shortlong"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ìƒì„±ëœ ì¶œë ¥ì´ ë„ˆë¬´ ì§§ê±°ë‚˜ ê¸¸ë‹¤</span></h3> <p data-svelte-h="svelte-sc73j"><code>GenerationConfig</code> íŒŒì¼ì—ì„œ ë³„ë„ë¡œ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, <code>generate</code>ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìµœëŒ€ 20ê°œì˜ í† í°ì„ ë°˜í™˜í•©ë‹ˆë‹¤. <code>generate</code> í˜¸ì¶œì—ì„œ <code>max_new_tokens</code>ì„ ìˆ˜ë™ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” ìƒˆ í† í°ì˜ ìµœëŒ€ ìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. LLM(ì •í™•í•˜ê²ŒëŠ” <a href="https://huggingface.co/learn/nlp-course/chapter1/6?fw=pt" rel="nofollow">ë””ì½”ë” ì „ìš© ëª¨ë¸</a>)ì€ ì…ë ¥ í”„ë¡¬í”„íŠ¸ë„ ì¶œë ¥ì˜ ì¼ë¶€ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span>model_inputs = tokenizer([<span class="hljs-string">&quot;A sequence of numbers: 1, 2&quot;</span>], return_tensors=<span class="hljs-string">&quot;pt&quot;</span>).to(<span class="hljs-string">&quot;cuda&quot;</span>)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># By default, the output will contain up to 20 tokens</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>generated_ids = model.generate(**model_inputs, pad_token_id=tokenizer.eos_token_id)
<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer.batch_decode(generated_ids, skip_special_tokens=<span class="hljs-literal">True</span>)[<span class="hljs-number">0</span>]
<span class="hljs-string">&#x27;A sequence of numbers: 1, 2, 3, 4, 5&#x27;</span>

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># Setting `max_new_tokens` allows you to control the maximum length</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>generated_ids = model.generate(**model_inputs, pad_token_id=tokenizer.eos_token_id, max_new_tokens=<span class="hljs-number">50</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer.batch_decode(generated_ids, skip_special_tokens=<span class="hljs-literal">True</span>)[<span class="hljs-number">0</span>]
<span class="hljs-string">&#x27;A sequence of numbers: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16,&#x27;</span><!-- HTML_TAG_END --></pre></div>  <h3 class="relative group"><a id="incorrect-generation-mode" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#incorrect-generation-mode"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ì˜ëª»ëœ ìƒì„± ëª¨ë“œ</span></h3> <p data-svelte-h="svelte-j4osa7">ê¸°ë³¸ì ìœ¼ë¡œ <code>GenerationConfig</code> íŒŒì¼ì—ì„œ ë³„ë„ë¡œ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, <code>generate</code>ëŠ” ê° ë°˜ë³µì—ì„œ ê°€ì¥ í™•ë¥ ì´ ë†’ì€ í† í°ì„ ì„ íƒí•©ë‹ˆë‹¤(ê·¸ë¦¬ë”” ë””ì½”ë”©). í•˜ë ¤ëŠ” ì‘ì—…ì— ë”°ë¼ ì´ ë°©ë²•ì€ ë°”ëŒì§í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì±—ë´‡ì´ë‚˜ ì—ì„¸ì´ ì‘ì„±ê³¼ ê°™ì€ ì°½ì˜ì ì¸ ì‘ì—…ì€ ìƒ˜í”Œë§ì´ ì í•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°˜ë©´, ì˜¤ë””ì˜¤ë¥¼ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜í•˜ê±°ë‚˜ ë²ˆì—­ê³¼ ê°™ì€ ì…ë ¥ ê¸°ë°˜ ì‘ì—…ì€ ê·¸ë¦¬ë”” ë””ì½”ë”©ì´ ë” ì í•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <code>do_sample=True</code>ë¡œ ìƒ˜í”Œë§ì„ í™œì„±í™”í•  ìˆ˜ ìˆìœ¼ë©°, ì´ ì£¼ì œì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ ì´ <a href="https://huggingface.co/blog/how-to-generate" rel="nofollow">ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸</a>ì—ì„œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># Set seed or reproducibility -- you don&#x27;t need this unless you want full reproducibility</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> set_seed
<span class="hljs-meta">&gt;&gt;&gt; </span>set_seed(<span class="hljs-number">0</span>)

<span class="hljs-meta">&gt;&gt;&gt; </span>model_inputs = tokenizer([<span class="hljs-string">&quot;I am a cat.&quot;</span>], return_tensors=<span class="hljs-string">&quot;pt&quot;</span>).to(<span class="hljs-string">&quot;cuda&quot;</span>)

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># LLM + greedy decoding = repetitive, boring output</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>generated_ids = model.generate(**model_inputs)
<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer.batch_decode(generated_ids, skip_special_tokens=<span class="hljs-literal">True</span>)[<span class="hljs-number">0</span>]
<span class="hljs-string">&#x27;I am a cat. I am a cat. I am a cat. I am a cat&#x27;</span>

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># With sampling, the output becomes more creative!</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>generated_ids = model.generate(**model_inputs, do_sample=<span class="hljs-literal">True</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer.batch_decode(generated_ids, skip_special_tokens=<span class="hljs-literal">True</span>)[<span class="hljs-number">0</span>]
<span class="hljs-string">&#x27;I am a cat.\nI just need to be. I am always.\nEvery time&#x27;</span><!-- HTML_TAG_END --></pre></div>  <h3 class="relative group"><a id="wrong-padding-side" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#wrong-padding-side"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ì˜ëª»ëœ íŒ¨ë”©</span></h3> <p data-svelte-h="svelte-1xvggc8">LLMì€ <a href="https://huggingface.co/learn/nlp-course/chapter1/6?fw=pt" rel="nofollow">ë””ì½”ë” ì „ìš©</a> êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆì–´, ì…ë ¥ í”„ë¡¬í”„íŠ¸ì— ëŒ€í•´ ì§€ì†ì ìœ¼ë¡œ ë°˜ë³µ ì²˜ë¦¬ë¥¼ í•©ë‹ˆë‹¤. ì…ë ¥ ë°ì´í„°ì˜ ê¸¸ì´ê°€ ë‹¤ë¥´ë©´ íŒ¨ë”© ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤. LLMì€ íŒ¨ë”© í† í°ì—ì„œ ì‘ë™ì„ ì´ì–´ê°€ë„ë¡ ì„¤ê³„ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì—, ì…ë ¥ ì™¼ìª½ì— íŒ¨ë”©ì´ ì¶”ê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì–´í…ì…˜ ë§ˆìŠ¤í¬ë„ ê¼­ <code>generate</code> í•¨ìˆ˜ì— ì „ë‹¬ë˜ì–´ì•¼ í•©ë‹ˆë‹¤!</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># The tokenizer initialized above has right-padding active by default: the 1st sequence,</span>
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># which is shorter, has padding on the right side. Generation fails.</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model_inputs = tokenizer(
<span class="hljs-meta">... </span>    [<span class="hljs-string">&quot;1, 2, 3&quot;</span>, <span class="hljs-string">&quot;A, B, C, D, E&quot;</span>], padding=<span class="hljs-literal">True</span>, return_tensors=<span class="hljs-string">&quot;pt&quot;</span>
<span class="hljs-meta">... </span>).to(<span class="hljs-string">&quot;cuda&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>generated_ids = model.generate(**model_inputs)
<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer.batch_decode(generated_ids[<span class="hljs-number">0</span>], skip_special_tokens=<span class="hljs-literal">True</span>)[<span class="hljs-number">0</span>]
<span class="hljs-string">&#x27;&#x27;</span>

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-comment"># With left-padding, it works as expected!</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer = AutoTokenizer.from_pretrained(<span class="hljs-string">&quot;openlm-research/open_llama_7b&quot;</span>, padding_side=<span class="hljs-string">&quot;left&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer.pad_token = tokenizer.eos_token  <span class="hljs-comment"># Llama has no pad token by default</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>model_inputs = tokenizer(
<span class="hljs-meta">... </span>    [<span class="hljs-string">&quot;1, 2, 3&quot;</span>, <span class="hljs-string">&quot;A, B, C, D, E&quot;</span>], padding=<span class="hljs-literal">True</span>, return_tensors=<span class="hljs-string">&quot;pt&quot;</span>
<span class="hljs-meta">... </span>).to(<span class="hljs-string">&quot;cuda&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>generated_ids = model.generate(**model_inputs)
<span class="hljs-meta">&gt;&gt;&gt; </span>tokenizer.batch_decode(generated_ids, skip_special_tokens=<span class="hljs-literal">True</span>)[<span class="hljs-number">0</span>]
<span class="hljs-string">&#x27;1, 2, 3, 4, 5, 6,&#x27;</span><!-- HTML_TAG_END --></pre></div>   <h2 class="relative group"><a id="further-resources" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#further-resources"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ì¶”ê°€ ìë£Œ</span></h2> <p data-svelte-h="svelte-1gtwjq2">ìê¸°íšŒê·€ ìƒì„± í”„ë¡œì„¸ìŠ¤ëŠ” ìƒëŒ€ì ìœ¼ë¡œ ë‹¨ìˆœí•œ í¸ì´ì§€ë§Œ, LLMì„ ìµœëŒ€í•œ í™œìš©í•˜ë ¤ë©´ ì—¬ëŸ¬ ê°€ì§€ ìš”ì†Œë¥¼ ê³ ë ¤í•´ì•¼ í•˜ë¯€ë¡œ ì‰½ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. LLMì— ëŒ€í•œ ë” ê¹Šì€ ì´í•´ì™€ í™œìš©ì„ ìœ„í•œ ë‹¤ìŒ ë‹¨ê³„ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤:</p>   <h3 class="relative group"><a id="advanced-generate-usage" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#advanced-generate-usage"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ê³ ê¸‰ ìƒì„± ì‚¬ìš©</span></h3> <ol data-svelte-h="svelte-5tvhf0"><li><a href="generation_strategies">ê°€ì´ë“œ</a>ëŠ” ë‹¤ì–‘í•œ ìƒì„± ë°©ë²•ì„ ì œì–´í•˜ëŠ” ë°©ë²•, ìƒì„± ì„¤ì • íŒŒì¼ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•, ì¶œë ¥ì„ ìŠ¤íŠ¸ë¦¬ë°í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤.</li> <li><code>GenerationConfig</code>ì™€ <code>generate()</code>, <a href="internal/generation_utils">generate-related classes</a>ë¥¼ ì°¸ì¡°í•´ë³´ì„¸ìš”.</li></ol>  <h3 class="relative group"><a id="llm-leaderboards" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#llm-leaderboards"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>LLM ë¦¬ë”ë³´ë“œ</span></h3> <ol data-svelte-h="svelte-hea1r2"><li><a href="https://huggingface.co/spaces/HuggingFaceH4/open_llm_leaderboard" rel="nofollow">Open LLM Leaderboard</a>ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ ëª¨ë¸ì˜ í’ˆì§ˆì— ì¤‘ì ì„ ë‘¡ë‹ˆë‹¤.</li> <li><a href="https://huggingface.co/spaces/optimum/llm-perf-leaderboard" rel="nofollow">Open LLM-Perf Leaderboard</a>ëŠ” LLM ì²˜ë¦¬ëŸ‰ì— ì¤‘ì ì„ ë‘¡ë‹ˆë‹¤.</li></ol>  <h3 class="relative group"><a id="latency-and-throughput" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#latency-and-throughput"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ì§€ì—° ì‹œê°„ ë° ì²˜ë¦¬ëŸ‰</span></h3> <ol data-svelte-h="svelte-9s5g32"><li>ë©”ëª¨ë¦¬ ìš”êµ¬ ì‚¬í•­ì„ ì¤„ì´ë ¤ë©´, ë™ì  ì–‘ìí™”ì— ëŒ€í•œ <a href="main_classes/quantization">ê°€ì´ë“œ</a>ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.</li></ol>  <h3 class="relative group"><a id="related-libraries" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#related-libraries"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬</span></h3> <ol data-svelte-h="svelte-st1yc"><li><a href="https://github.com/huggingface/text-generation-inference" rel="nofollow"><code>text-generation-inference</code></a>ëŠ” LLMì„ ìœ„í•œ ì‹¤ì œ ìš´ì˜ í™˜ê²½ì— ì í•©í•œ ì„œë²„ì…ë‹ˆë‹¤.</li> <li><a href="https://github.com/huggingface/optimum" rel="nofollow"><code>optimum</code></a>ì€ íŠ¹ì • í•˜ë“œì›¨ì–´ ì¥ì¹˜ì—ì„œ LLMì„ ìµœì í™”í•˜ê¸° ìœ„í•´ ğŸ¤— Transformersë¥¼ í™•ì¥í•œ ê²ƒì…ë‹ˆë‹¤.</li></ol>  <p></p> 
			
			<script>
				{
					__sveltekit_1nwaz16 = {
						assets: "/huggingface-transformers/en",
						base: "/huggingface-transformers/en",
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null];

					Promise.all([
						import("/huggingface-transformers/en/_app/immutable/entry/start.6e91440d.js"),
						import("/huggingface-transformers/en/_app/immutable/entry/app.1d8748f0.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 21],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		
