<meta charset="utf-8" /><meta name="hf:doc:metadata" content="{&quot;title&quot;:&quot;ì–´ë–»ê²Œ ì‚¬ìš©ì ì •ì˜ íŒŒì´í”„ë¼ì¸ì„ ìƒì„±í•˜ë‚˜ìš”?&quot;,&quot;local&quot;:&quot;how-to-create-a-custom-pipeline&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;ì§€ì›ë˜ëŠ” ì‘ì—… ëª©ë¡ì— ì¶”ê°€í•˜ê¸°&quot;,&quot;local&quot;:&quot;adding-it-to-the-list-of-supported-tasks&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;Hubì— íŒŒì´í”„ë¼ì¸ ê³µìœ í•˜ê¸°&quot;,&quot;local&quot;:&quot;share-your-pipeline-on-the-hub&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;ğŸ¤— Transformersì— íŒŒì´í”„ë¼ì¸ ì¶”ê°€í•˜ê¸°&quot;,&quot;local&quot;:&quot;add-the-pipeline-to-transformers&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2}],&quot;depth&quot;:1}">
		<link href="/docs/transformers/main/ko/_app/immutable/assets/0.e3b0c442.css" rel="modulepreload">
		<link rel="modulepreload" href="/docs/transformers/main/ko/_app/immutable/entry/start.b52dcfcd.js">
		<link rel="modulepreload" href="/docs/transformers/main/ko/_app/immutable/chunks/scheduler.56730f09.js">
		<link rel="modulepreload" href="/docs/transformers/main/ko/_app/immutable/chunks/singletons.394dd9a4.js">
		<link rel="modulepreload" href="/docs/transformers/main/ko/_app/immutable/chunks/index.bdfeb96e.js">
		<link rel="modulepreload" href="/docs/transformers/main/ko/_app/immutable/chunks/paths.538504d0.js">
		<link rel="modulepreload" href="/docs/transformers/main/ko/_app/immutable/entry/app.9c1dbc76.js">
		<link rel="modulepreload" href="/docs/transformers/main/ko/_app/immutable/chunks/index.1f144517.js">
		<link rel="modulepreload" href="/docs/transformers/main/ko/_app/immutable/nodes/0.cc7e2a6a.js">
		<link rel="modulepreload" href="/docs/transformers/main/ko/_app/immutable/chunks/each.e59479a4.js">
		<link rel="modulepreload" href="/docs/transformers/main/ko/_app/immutable/nodes/4.86f1610f.js">
		<link rel="modulepreload" href="/docs/transformers/main/ko/_app/immutable/chunks/CodeBlock.738eeccb.js">
		<link rel="modulepreload" href="/docs/transformers/main/ko/_app/immutable/chunks/Heading.57d46534.js"><!-- HEAD_svelte-u9bgzb_START --><meta name="hf:doc:metadata" content="{&quot;title&quot;:&quot;ì–´ë–»ê²Œ ì‚¬ìš©ì ì •ì˜ íŒŒì´í”„ë¼ì¸ì„ ìƒì„±í•˜ë‚˜ìš”?&quot;,&quot;local&quot;:&quot;how-to-create-a-custom-pipeline&quot;,&quot;sections&quot;:[{&quot;title&quot;:&quot;ì§€ì›ë˜ëŠ” ì‘ì—… ëª©ë¡ì— ì¶”ê°€í•˜ê¸°&quot;,&quot;local&quot;:&quot;adding-it-to-the-list-of-supported-tasks&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;Hubì— íŒŒì´í”„ë¼ì¸ ê³µìœ í•˜ê¸°&quot;,&quot;local&quot;:&quot;share-your-pipeline-on-the-hub&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2},{&quot;title&quot;:&quot;ğŸ¤— Transformersì— íŒŒì´í”„ë¼ì¸ ì¶”ê°€í•˜ê¸°&quot;,&quot;local&quot;:&quot;add-the-pipeline-to-transformers&quot;,&quot;sections&quot;:[],&quot;depth&quot;:2}],&quot;depth&quot;:1}"><!-- HEAD_svelte-u9bgzb_END -->      <p></p>   <h1 class="relative group"><a id="how-to-create-a-custom-pipeline" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#how-to-create-a-custom-pipeline"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ì–´ë–»ê²Œ ì‚¬ìš©ì ì •ì˜ íŒŒì´í”„ë¼ì¸ì„ ìƒì„±í•˜ë‚˜ìš”?</span></h1> <p data-svelte-h="svelte-1fzm5o3">ì´ ê°€ì´ë“œì—ì„œëŠ” ì‚¬ìš©ì ì •ì˜ íŒŒì´í”„ë¼ì¸ì„ ì–´ë–»ê²Œ ìƒì„±í•˜ê³  <a href="https://hf.co/models" rel="nofollow">í—ˆë¸Œ</a>ì— ê³µìœ í•˜ê±°ë‚˜ ğŸ¤— Transformers ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì¶”ê°€í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.</p> <p data-svelte-h="svelte-6ogr6z">ë¨¼ì € íŒŒì´í”„ë¼ì¸ì´ ìˆ˜ìš©í•  ìˆ˜ ìˆëŠ” ì›ì‹œ ì…ë ¥ì„ ê²°ì •í•´ì•¼ í•©ë‹ˆë‹¤.
ë¬¸ìì—´, ì›ì‹œ ë°”ì´íŠ¸, ë”•ì…”ë„ˆë¦¬ ë˜ëŠ” ê°€ì¥ ì›í•˜ëŠ” ì…ë ¥ì¼ ê°€ëŠ¥ì„±ì´ ë†’ì€ ê²ƒì´ë©´ ë¬´ì—‡ì´ë“  ê°€ëŠ¥í•©ë‹ˆë‹¤.
ì´ ì…ë ¥ì„ ê°€ëŠ¥í•œ í•œ ìˆœìˆ˜í•œ Python í˜•ì‹ìœ¼ë¡œ ìœ ì§€í•´ì•¼ (JSONì„ í†µí•´ ë‹¤ë¥¸ ì–¸ì–´ì™€ë„) í˜¸í™˜ì„±ì´ ì¢‹ì•„ì§‘ë‹ˆë‹¤.
ì´ê²ƒì´ ì „ì²˜ë¦¬(<code>preprocess</code>) íŒŒì´í”„ë¼ì¸ì˜ ì…ë ¥(<code>inputs</code>)ì´ ë  ê²ƒì…ë‹ˆë‹¤.</p> <p data-svelte-h="svelte-1r1v4v7">ê·¸ëŸ° ë‹¤ìŒ <code>outputs</code>ë¥¼ ì •ì˜í•˜ì„¸ìš”.
<code>inputs</code>ì™€ ê°™ì€ ì •ì±…ì„ ë”°ë¥´ê³ , ê°„ë‹¨í• ìˆ˜ë¡ ì¢‹ìŠµë‹ˆë‹¤.
ì´ê²ƒì´ í›„ì²˜ë¦¬(<code>postprocess</code>) ë©”ì†Œë“œì˜ ì¶œë ¥ì´ ë  ê²ƒì…ë‹ˆë‹¤.</p> <p data-svelte-h="svelte-1u9gwbf">ë¨¼ì € 4ê°œì˜ ë©”ì†Œë“œ(<code>preprocess</code>, <code>_forward</code>, <code>postprocess</code> ë° <code>_sanitize_parameters</code>)ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ ê¸°ë³¸ í´ë˜ìŠ¤ <code>Pipeline</code>ì„ ìƒì†í•˜ì—¬ ì‹œì‘í•©ë‹ˆë‹¤.</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> Pipeline


<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyPipeline</span>(<span class="hljs-title class_ inherited__">Pipeline</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_sanitize_parameters</span>(<span class="hljs-params">self, **kwargs</span>):
        preprocess_kwargs = {}
        <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;maybe_arg&quot;</span> <span class="hljs-keyword">in</span> kwargs:
            preprocess_kwargs[<span class="hljs-string">&quot;maybe_arg&quot;</span>] = kwargs[<span class="hljs-string">&quot;maybe_arg&quot;</span>]
        <span class="hljs-keyword">return</span> preprocess_kwargs, {}, {}

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">preprocess</span>(<span class="hljs-params">self, inputs, maybe_arg=<span class="hljs-number">2</span></span>):
        model_input = Tensor(inputs[<span class="hljs-string">&quot;input_ids&quot;</span>])
        <span class="hljs-keyword">return</span> {<span class="hljs-string">&quot;model_input&quot;</span>: model_input}

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_forward</span>(<span class="hljs-params">self, model_inputs</span>):
        <span class="hljs-comment"># model_inputs == {&quot;model_input&quot;: model_input}</span>
        outputs = self.model(**model_inputs)
        <span class="hljs-comment"># Maybe {&quot;logits&quot;: Tensor(...)}</span>
        <span class="hljs-keyword">return</span> outputs

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">postprocess</span>(<span class="hljs-params">self, model_outputs</span>):
        best_class = model_outputs[<span class="hljs-string">&quot;logits&quot;</span>].softmax(-<span class="hljs-number">1</span>)
        <span class="hljs-keyword">return</span> best_class<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-rv0lg4">ì´ ë¶„í•  êµ¬ì¡°ëŠ” CPU/GPUì— ëŒ€í•œ ë¹„êµì  ì›í™œí•œ ì§€ì›ì„ ì œê³µí•˜ëŠ” ë™ì‹œì—, ë‹¤ë¥¸ ìŠ¤ë ˆë“œì—ì„œ CPUì— ëŒ€í•œ ì‚¬ì „/ì‚¬í›„ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ ì§€ì›í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</p> <p data-svelte-h="svelte-fwn4og"><code>preprocess</code>ëŠ” ì›ë˜ ì •ì˜ëœ ì…ë ¥ì„ ê°€ì ¸ì™€ ëª¨ë¸ì— ê³µê¸‰í•  ìˆ˜ ìˆëŠ” í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
ë” ë§ì€ ì •ë³´ë¥¼ í¬í•¨í•  ìˆ˜ ìˆìœ¼ë©° ì¼ë°˜ì ìœ¼ë¡œ <code>Dict</code> í˜•íƒœì…ë‹ˆë‹¤.</p> <p data-svelte-h="svelte-tcs7ux"><code>_forward</code>ëŠ” êµ¬í˜„ ì„¸ë¶€ ì‚¬í•­ì´ë©° ì§ì ‘ í˜¸ì¶œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
<code>forward</code>ëŠ” ì˜ˆìƒ ì¥ì¹˜ì—ì„œ ëª¨ë“  ê²ƒì´ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ ì•ˆì „ì¥ì¹˜ê°€ í¬í•¨ë˜ì–´ ìˆì–´ ì„ í˜¸ë˜ëŠ” í˜¸ì¶œ ë©”ì†Œë“œì…ë‹ˆë‹¤.
ì‹¤ì œ ëª¨ë¸ê³¼ ê´€ë ¨ëœ ê²ƒì€ <code>_forward</code> ë©”ì†Œë“œì— ì†í•˜ë©°, ë‚˜ë¨¸ì§€ëŠ” ì „ì²˜ë¦¬/í›„ì²˜ë¦¬ ê³¼ì •ì— ìˆìŠµë‹ˆë‹¤.</p> <p data-svelte-h="svelte-1a54d54"><code>postprocess</code> ë©”ì†Œë“œëŠ” <code>_forward</code>ì˜ ì¶œë ¥ì„ ê°€ì ¸ì™€ ì´ì „ì— ê²°ì •í•œ ìµœì¢… ì¶œë ¥ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.</p> <p data-svelte-h="svelte-ufagsr"><code>_sanitize_parameters</code>ëŠ” ì´ˆê¸°í™” ì‹œê°„ì— <code>pipeline(...., maybe_arg=4)</code>ì´ë‚˜ í˜¸ì¶œ ì‹œê°„ì— <code>pipe = pipeline(...); output = pipe(...., maybe_arg=4)</code>ê³¼ ê°™ì´, ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ê²½ìš° ì–¸ì œë“ ì§€ ë§¤ê°œë³€ìˆ˜ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë„ë¡ í—ˆìš©í•©ë‹ˆë‹¤.</p> <p data-svelte-h="svelte-j02rys"><code>_sanitize_parameters</code>ì˜ ë°˜í™˜ ê°’ì€ <code>preprocess</code>, <code>_forward</code>, <code>postprocess</code>ì— ì§ì ‘ ì „ë‹¬ë˜ëŠ” 3ê°œì˜ kwargs ë”•ì…”ë„ˆë¦¬ì…ë‹ˆë‹¤.
í˜¸ì¶œìê°€ ì¶”ê°€ ë§¤ê°œë³€ìˆ˜ë¡œ í˜¸ì¶œí•˜ì§€ ì•Šì•˜ë‹¤ë©´ ì•„ë¬´ê²ƒë„ ì±„ìš°ì§€ ë§ˆì‹­ì‹œì˜¤.
ì´ë ‡ê²Œ í•˜ë©´ í•­ìƒ ë” â€œìì—°ìŠ¤ëŸ¬ìš´â€ í•¨ìˆ˜ ì •ì˜ì˜ ê¸°ë³¸ ì¸ìˆ˜ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p> <p data-svelte-h="svelte-1n2acw">ë¶„ë¥˜ ì‘ì—…ì—ì„œ <code>top_k</code> ë§¤ê°œë³€ìˆ˜ê°€ ëŒ€í‘œì ì¸ ì˜ˆì…ë‹ˆë‹¤.</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-meta">&gt;&gt;&gt; </span>pipe = pipeline(<span class="hljs-string">&quot;my-new-task&quot;</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span>pipe(<span class="hljs-string">&quot;This is a test&quot;</span>)
[{<span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;1-star&quot;</span>, <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.8</span>}, {<span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;2-star&quot;</span>, <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.1</span>}, {<span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;3-star&quot;</span>, <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.05</span>}
{<span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;4-star&quot;</span>, <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.025</span>}, {<span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;5-star&quot;</span>, <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.025</span>}]

<span class="hljs-meta">&gt;&gt;&gt; </span>pipe(<span class="hljs-string">&quot;This is a test&quot;</span>, top_k=<span class="hljs-number">2</span>)
[{<span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;1-star&quot;</span>, <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.8</span>}, {<span class="hljs-string">&quot;label&quot;</span>: <span class="hljs-string">&quot;2-star&quot;</span>, <span class="hljs-string">&quot;score&quot;</span>: <span class="hljs-number">0.1</span>}]<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1d0sxb1">ì´ë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ìš°ë¦¬ëŠ” <code>postprocess</code> ë©”ì†Œë“œë¥¼ ê¸°ë³¸ ë§¤ê°œë³€ìˆ˜ì¸ <code>5</code>ë¡œ ì—…ë°ì´íŠ¸í•˜ê³  <code>_sanitize_parameters</code>ë¥¼ ìˆ˜ì •í•˜ì—¬ ì´ ìƒˆ ë§¤ê°œë³€ìˆ˜ë¥¼ í—ˆìš©í•©ë‹ˆë‹¤.</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-keyword">def</span> <span class="hljs-title function_">postprocess</span>(<span class="hljs-params">self, model_outputs, top_k=<span class="hljs-number">5</span></span>):
    best_class = model_outputs[<span class="hljs-string">&quot;logits&quot;</span>].softmax(-<span class="hljs-number">1</span>)
    <span class="hljs-comment"># top_kë¥¼ ì²˜ë¦¬í•˜ëŠ” ë¡œì§ ì¶”ê°€</span>
    <span class="hljs-keyword">return</span> best_class


<span class="hljs-keyword">def</span> <span class="hljs-title function_">_sanitize_parameters</span>(<span class="hljs-params">self, **kwargs</span>):
    preprocess_kwargs = {}
    <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;maybe_arg&quot;</span> <span class="hljs-keyword">in</span> kwargs:
        preprocess_kwargs[<span class="hljs-string">&quot;maybe_arg&quot;</span>] = kwargs[<span class="hljs-string">&quot;maybe_arg&quot;</span>]

    postprocess_kwargs = {}
    <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;top_k&quot;</span> <span class="hljs-keyword">in</span> kwargs:
        postprocess_kwargs[<span class="hljs-string">&quot;top_k&quot;</span>] = kwargs[<span class="hljs-string">&quot;top_k&quot;</span>]
    <span class="hljs-keyword">return</span> preprocess_kwargs, {}, postprocess_kwargs<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1k45o3o">ì…/ì¶œë ¥ì„ ê°€ëŠ¥í•œ í•œ ê°„ë‹¨í•˜ê³  ì™„ì „íˆ JSON ì§ë ¬í™” ê°€ëŠ¥í•œ í˜•ì‹ìœ¼ë¡œ ìœ ì§€í•˜ë ¤ê³  ë…¸ë ¥í•˜ì‹­ì‹œì˜¤.
ì´ë ‡ê²Œ í•˜ë©´ ì‚¬ìš©ìê°€ ìƒˆë¡œìš´ ì¢…ë¥˜ì˜ ê°œì²´ë¥¼ ì´í•´í•˜ì§€ ì•Šê³ ë„ íŒŒì´í”„ë¼ì¸ì„ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë˜í•œ ì‚¬ìš© ìš©ì´ì„±ì„ ìœ„í•´ ì—¬ëŸ¬ ê°€ì§€ ìœ í˜•ì˜ ì¸ìˆ˜(ì˜¤ë””ì˜¤ íŒŒì¼ì€ íŒŒì¼ ì´ë¦„, URL ë˜ëŠ” ìˆœìˆ˜í•œ ë°”ì´íŠ¸ì¼ ìˆ˜ ìˆìŒ)ë¥¼ ì§€ì›í•˜ëŠ” ê²ƒì´ ë¹„êµì  ì¼ë°˜ì ì…ë‹ˆë‹¤.</p>  <h2 class="relative group"><a id="adding-it-to-the-list-of-supported-tasks" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#adding-it-to-the-list-of-supported-tasks"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ì§€ì›ë˜ëŠ” ì‘ì—… ëª©ë¡ì— ì¶”ê°€í•˜ê¸°</span></h2> <p data-svelte-h="svelte-1ty0isp"><code>new-task</code>ë¥¼ ì§€ì›ë˜ëŠ” ì‘ì—… ëª©ë¡ì— ë“±ë¡í•˜ë ¤ë©´ <code>PIPELINE_REGISTRY</code>ì— ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤:</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-keyword">from</span> transformers.pipelines <span class="hljs-keyword">import</span> PIPELINE_REGISTRY

PIPELINE_REGISTRY.register_pipeline(
    <span class="hljs-string">&quot;new-task&quot;</span>,
    pipeline_class=MyPipeline,
    pt_model=AutoModelForSequenceClassification,
)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-ct19sw">ì›í•˜ëŠ” ê²½ìš° ê¸°ë³¸ ëª¨ë¸ì„ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©°, ì´ ê²½ìš° íŠ¹ì • ê°œì •(ë¶„ê¸° ì´ë¦„ ë˜ëŠ” ì»¤ë°‹ í•´ì‹œì¼ ìˆ˜ ìˆìŒ, ì—¬ê¸°ì„œëŠ” â€œabcdefâ€)ê³¼ íƒ€ì…ì„ í•¨ê»˜ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤:</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START -->PIPELINE_REGISTRY.register_pipeline(
    <span class="hljs-string">&quot;new-task&quot;</span>,
    pipeline_class=MyPipeline,
    pt_model=AutoModelForSequenceClassification,
    default={<span class="hljs-string">&quot;pt&quot;</span>: (<span class="hljs-string">&quot;user/awesome_model&quot;</span>, <span class="hljs-string">&quot;abcdef&quot;</span>)},
    <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;text&quot;</span>,  <span class="hljs-comment"># í˜„ì¬ ì§€ì› ìœ í˜•: text, audio, image, multimodal</span>
)<!-- HTML_TAG_END --></pre></div>  <h2 class="relative group"><a id="share-your-pipeline-on-the-hub" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#share-your-pipeline-on-the-hub"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>Hubì— íŒŒì´í”„ë¼ì¸ ê³µìœ í•˜ê¸°</span></h2> <p data-svelte-h="svelte-56khl3">Hubì— ì‚¬ìš©ì ì •ì˜ íŒŒì´í”„ë¼ì¸ì„ ê³µìœ í•˜ë ¤ë©´ <code>Pipeline</code> í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì‚¬ìš©ì ì •ì˜ ì½”ë“œë¥¼ Python íŒŒì¼ì— ì €ì¥í•˜ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´, ë‹¤ìŒê³¼ ê°™ì´ ë¬¸ì¥ ìŒ ë¶„ë¥˜ë¥¼ ìœ„í•œ ì‚¬ìš©ì ì •ì˜ íŒŒì´í”„ë¼ì¸ì„ ì‚¬ìš©í•œë‹¤ê³  ê°€ì •í•´ ë³´ê² ìŠµë‹ˆë‹¤:</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> Pipeline


<span class="hljs-keyword">def</span> <span class="hljs-title function_">softmax</span>(<span class="hljs-params">outputs</span>):
    maxes = np.<span class="hljs-built_in">max</span>(outputs, axis=-<span class="hljs-number">1</span>, keepdims=<span class="hljs-literal">True</span>)
    shifted_exp = np.exp(outputs - maxes)
    <span class="hljs-keyword">return</span> shifted_exp / shifted_exp.<span class="hljs-built_in">sum</span>(axis=-<span class="hljs-number">1</span>, keepdims=<span class="hljs-literal">True</span>)


<span class="hljs-keyword">class</span> <span class="hljs-title class_">PairClassificationPipeline</span>(<span class="hljs-title class_ inherited__">Pipeline</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_sanitize_parameters</span>(<span class="hljs-params">self, **kwargs</span>):
        preprocess_kwargs = {}
        <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;second_text&quot;</span> <span class="hljs-keyword">in</span> kwargs:
            preprocess_kwargs[<span class="hljs-string">&quot;second_text&quot;</span>] = kwargs[<span class="hljs-string">&quot;second_text&quot;</span>]
        <span class="hljs-keyword">return</span> preprocess_kwargs, {}, {}

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">preprocess</span>(<span class="hljs-params">self, text, second_text=<span class="hljs-literal">None</span></span>):
        <span class="hljs-keyword">return</span> self.tokenizer(text, text_pair=second_text, return_tensors=self.framework)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_forward</span>(<span class="hljs-params">self, model_inputs</span>):
        <span class="hljs-keyword">return</span> self.model(**model_inputs)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">postprocess</span>(<span class="hljs-params">self, model_outputs</span>):
        logits = model_outputs.logits[<span class="hljs-number">0</span>].numpy()
        probabilities = softmax(logits)

        best_class = np.argmax(probabilities)
        label = self.model.config.id2label[best_class]
        score = probabilities[best_class].item()
        logits = logits.tolist()
        <span class="hljs-keyword">return</span> {<span class="hljs-string">&quot;label&quot;</span>: label, <span class="hljs-string">&quot;score&quot;</span>: score, <span class="hljs-string">&quot;logits&quot;</span>: logits}<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1d1jvf5">êµ¬í˜„ì€ í”„ë ˆì„ì›Œí¬ì— êµ¬ì• ë°›ì§€ ì•Šìœ¼ë©°, PyTorchì™€ TensorFlow ëª¨ë¸ì— ëŒ€í•´ ì‘ë™í•©ë‹ˆë‹¤.
ì´ë¥¼ <code>pair_classification.py</code>ë¼ëŠ” íŒŒì¼ì— ì €ì¥í•œ ê²½ìš°, ë‹¤ìŒê³¼ ê°™ì´ ê°€ì ¸ì˜¤ê³  ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-keyword">from</span> pair_classification <span class="hljs-keyword">import</span> PairClassificationPipeline
<span class="hljs-keyword">from</span> transformers.pipelines <span class="hljs-keyword">import</span> PIPELINE_REGISTRY
<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> AutoModelForSequenceClassification, TFAutoModelForSequenceClassification

PIPELINE_REGISTRY.register_pipeline(
    <span class="hljs-string">&quot;pair-classification&quot;</span>,
    pipeline_class=PairClassificationPipeline,
    pt_model=AutoModelForSequenceClassification,
    tf_model=TFAutoModelForSequenceClassification,
)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1vdr0z9">ì´ ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ì‚¬ì „í›ˆë ¨ëœ ëª¨ë¸ê³¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´, <code>sgugger/finetuned-bert-mrpc</code>ì€ MRPC ë°ì´í„° ì„¸íŠ¸ì—ì„œ ë¯¸ì„¸ ì¡°ì •ë˜ì–´ ë¬¸ì¥ ìŒì„ íŒ¨ëŸ¬í”„ë ˆì´ì¦ˆì¸ì§€ ì•„ë‹Œì§€ë¥¼ ë¶„ë¥˜í•©ë‹ˆë‹¤.</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> pipeline

classifier = pipeline(<span class="hljs-string">&quot;pair-classification&quot;</span>, model=<span class="hljs-string">&quot;sgugger/finetuned-bert-mrpc&quot;</span>)<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-fd2kff">ê·¸ëŸ° ë‹¤ìŒ <code>Repository</code>ì˜ <code>save_pretrained</code> ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ í—ˆë¸Œì— ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-keyword">from</span> huggingface_hub <span class="hljs-keyword">import</span> Repository

repo = Repository(<span class="hljs-string">&quot;test-dynamic-pipeline&quot;</span>, clone_from=<span class="hljs-string">&quot;{your_username}/test-dynamic-pipeline&quot;</span>)
classifier.save_pretrained(<span class="hljs-string">&quot;test-dynamic-pipeline&quot;</span>)
repo.push_to_hub()<!-- HTML_TAG_END --></pre></div> <p data-svelte-h="svelte-1yjhf56">ì´ë ‡ê²Œ í•˜ë©´ â€œtest-dynamic-pipelineâ€ í´ë” ë‚´ì— <code>PairClassificationPipeline</code>ì„ ì •ì˜í•œ íŒŒì¼ì´ ë³µì‚¬ë˜ë©°, íŒŒì´í”„ë¼ì¸ì˜ ëª¨ë¸ê³¼ í† í¬ë‚˜ì´ì €ë„ ì €ì¥í•œ í›„, <code>{your_username}/test-dynamic-pipeline</code> ì €ì¥ì†Œì— ìˆëŠ” ëª¨ë“  ê²ƒì„ í‘¸ì‹œí•©ë‹ˆë‹¤.
ì´í›„ì—ëŠ” <code>trust_remote_code=True</code> ì˜µì…˜ë§Œ ì œê³µí•˜ë©´ ëˆ„êµ¬ë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p> <div class="code-block relative"><div class="absolute top-2.5 right-4"><button class="inline-flex items-center relative text-sm focus:text-green-500 cursor-pointer focus:outline-none transition duration-200 ease-in-out opacity-0 mx-0.5   text-gray-600 " title="code excerpt" type="button"><svg class="" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" fill="currentColor" focusable="false" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M28,10V28H10V10H28m0-2H10a2,2,0,0,0-2,2V28a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2Z" transform="translate(0)"></path><path d="M4,18H2V4A2,2,0,0,1,4,2H18V4H4Z" transform="translate(0)"></path><rect fill="none" width="32" height="32"></rect></svg> <div class="absolute pointer-events-none transition-opacity bg-black text-white py-1 px-2 leading-tight rounded font-normal shadow left-1/2 top-full transform -translate-x-1/2 translate-y-2 opacity-0"><div class="absolute bottom-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-black border-4 border-t-0" style="border-left-color: transparent; border-right-color: transparent; "></div> Copied</div></button></div> <pre class=""><!-- HTML_TAG_START --><span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> pipeline

classifier = pipeline(model=<span class="hljs-string">&quot;{your_username}/test-dynamic-pipeline&quot;</span>, trust_remote_code=<span class="hljs-literal">True</span>)<!-- HTML_TAG_END --></pre></div>  <h2 class="relative group"><a id="add-the-pipeline-to-transformers" class="header-link block pr-1.5 text-lg no-hover:hidden with-hover:absolute with-hover:p-1.5 with-hover:opacity-0 with-hover:group-hover:opacity-100 with-hover:right-full" href="#add-the-pipeline-to-transformers"><span><svg class="" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1em" height="1em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 256"><path d="M167.594 88.393a8.001 8.001 0 0 1 0 11.314l-67.882 67.882a8 8 0 1 1-11.314-11.315l67.882-67.881a8.003 8.003 0 0 1 11.314 0zm-28.287 84.86l-28.284 28.284a40 40 0 0 1-56.567-56.567l28.284-28.284a8 8 0 0 0-11.315-11.315l-28.284 28.284a56 56 0 0 0 79.196 79.197l28.285-28.285a8 8 0 1 0-11.315-11.314zM212.852 43.14a56.002 56.002 0 0 0-79.196 0l-28.284 28.284a8 8 0 1 0 11.314 11.314l28.284-28.284a40 40 0 0 1 56.568 56.567l-28.285 28.285a8 8 0 0 0 11.315 11.314l28.284-28.284a56.065 56.065 0 0 0 0-79.196z" fill="currentColor"></path></svg></span></a> <span>ğŸ¤— Transformersì— íŒŒì´í”„ë¼ì¸ ì¶”ê°€í•˜ê¸°</span></h2> <p data-svelte-h="svelte-52sri7">ğŸ¤— Transformersì— ì‚¬ìš©ì ì •ì˜ íŒŒì´í”„ë¼ì¸ì„ ê¸°ì—¬í•˜ë ¤ë©´, <code>pipelines</code> í•˜ìœ„ ëª¨ë“ˆì— ì‚¬ìš©ì ì •ì˜ íŒŒì´í”„ë¼ì¸ ì½”ë“œì™€ í•¨ê»˜ ìƒˆ ëª¨ë“ˆì„ ì¶”ê°€í•œ ë‹¤ìŒ, <code>pipelines/__init__.py</code>ì—ì„œ ì •ì˜ëœ ì‘ì—… ëª©ë¡ì— ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.</p> <p data-svelte-h="svelte-5f0sxq">ê·¸ëŸ° ë‹¤ìŒ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.
<code>tests/test_pipelines_MY_PIPELINE.py</code>ë¼ëŠ” ìƒˆ íŒŒì¼ì„ ë§Œë“¤ê³  ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì™€ ì˜ˆì œë¥¼ í•¨ê»˜ ì‘ì„±í•©ë‹ˆë‹¤.</p> <p data-svelte-h="svelte-yv6zf4"><code>run_pipeline_test</code> í•¨ìˆ˜ëŠ” ë§¤ìš° ì¼ë°˜ì ì´ë©°, <code>model_mapping</code> ë° <code>tf_model_mapping</code>ì—ì„œ ì •ì˜ëœ ê°€ëŠ¥í•œ ëª¨ë“  ì•„í‚¤í…ì²˜ì˜ ì‘ì€ ë¬´ì‘ìœ„ ëª¨ë¸ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.</p> <p data-svelte-h="svelte-15fh04w">ì´ëŠ” í–¥í›„ í˜¸í™˜ì„±ì„ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë° ë§¤ìš° ì¤‘ìš”í•˜ë©°, ëˆ„êµ°ê°€ <code>XXXForQuestionAnswering</code>ì„ ìœ„í•œ ìƒˆ ëª¨ë¸ì„ ì¶”ê°€í•˜ë©´ íŒŒì´í”„ë¼ì¸ í…ŒìŠ¤íŠ¸ê°€ í•´ë‹¹ ëª¨ë¸ì—ì„œ ì‹¤í–‰ì„ ì‹œë„í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.
ëª¨ë¸ì´ ë¬´ì‘ìœ„ì´ê¸° ë•Œë¬¸ì— ì‹¤ì œ ê°’ì„ í™•ì¸í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ, ë‹¨ìˆœíˆ íŒŒì´í”„ë¼ì¸ ì¶œë ¥ <code>TYPE</code>ê³¼ ì¼ì¹˜ì‹œí‚¤ê¸° ìœ„í•œ ë„ìš°ë¯¸ <code>ANY</code>ê°€ ìˆìŠµë‹ˆë‹¤.</p> <p data-svelte-h="svelte-e68emk">ë˜í•œ 2ê°œ(ì´ìƒì ìœ¼ë¡œëŠ” 4ê°œ)ì˜ í…ŒìŠ¤íŠ¸ë¥¼ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.</p> <ul data-svelte-h="svelte-1wfarmi"><li><code>test_small_model_pt</code>: ì´ íŒŒì´í”„ë¼ì¸ì— ëŒ€í•œ ì‘ì€ ëª¨ë¸ 1ê°œë¥¼ ì •ì˜(ê²°ê³¼ê°€ ì˜ë¯¸ ì—†ì–´ë„ ìƒê´€ì—†ìŒ)í•˜ê³  íŒŒì´í”„ë¼ì¸ ì¶œë ¥ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.
ê²°ê³¼ëŠ” <code>test_small_model_tf</code>ì™€ ë™ì¼í•´ì•¼ í•©ë‹ˆë‹¤.</li> <li><code>test_small_model_tf</code>: ì´ íŒŒì´í”„ë¼ì¸ì— ëŒ€í•œ ì‘ì€ ëª¨ë¸ 1ê°œë¥¼ ì •ì˜(ê²°ê³¼ê°€ ì˜ë¯¸ ì—†ì–´ë„ ìƒê´€ì—†ìŒ)í•˜ê³  íŒŒì´í”„ë¼ì¸ ì¶œë ¥ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.
ê²°ê³¼ëŠ” <code>test_small_model_pt</code>ì™€ ë™ì¼í•´ì•¼ í•©ë‹ˆë‹¤.</li> <li><code>test_large_model_pt</code>(<code>ì„ íƒì‚¬í•­</code>): ê²°ê³¼ê°€ ì˜ë¯¸ ìˆì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ëŠ” ì‹¤ì œ íŒŒì´í”„ë¼ì¸ì—ì„œ íŒŒì´í”„ë¼ì¸ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.
ì´ëŸ¬í•œ í…ŒìŠ¤íŠ¸ëŠ” ì†ë„ê°€ ëŠë¦¬ë¯€ë¡œ ì´ë¥¼ í‘œì‹œí•´ì•¼ í•©ë‹ˆë‹¤.
ì—¬ê¸°ì„œì˜ ëª©í‘œëŠ” íŒŒì´í”„ë¼ì¸ì„ ë³´ì—¬ì£¼ê³  í–¥í›„ ë¦´ë¦¬ì¦ˆì—ì„œì˜ ë³€í™”ê°€ ì—†ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</li> <li><code>test_large_model_tf</code>(<code>ì„ íƒì‚¬í•­</code>): ê²°ê³¼ê°€ ì˜ë¯¸ ìˆì„ ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ëŠ” ì‹¤ì œ íŒŒì´í”„ë¼ì¸ì—ì„œ íŒŒì´í”„ë¼ì¸ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.
ì´ëŸ¬í•œ í…ŒìŠ¤íŠ¸ëŠ” ì†ë„ê°€ ëŠë¦¬ë¯€ë¡œ ì´ë¥¼ í‘œì‹œí•´ì•¼ í•©ë‹ˆë‹¤.
ì—¬ê¸°ì„œì˜ ëª©í‘œëŠ” íŒŒì´í”„ë¼ì¸ì„ ë³´ì—¬ì£¼ê³  í–¥í›„ ë¦´ë¦¬ì¦ˆì—ì„œì˜ ë³€í™”ê°€ ì—†ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.</li></ul>  <p></p> 
			
			<script>
				{
					__sveltekit_1tvlkwq = {
						assets: "/docs/transformers/main/ko",
						base: "/docs/transformers/main/ko",
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null];

					Promise.all([
						import("/docs/transformers/main/ko/_app/immutable/entry/start.b52dcfcd.js"),
						import("/docs/transformers/main/ko/_app/immutable/entry/app.9c1dbc76.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 4],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		
